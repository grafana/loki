////
:_mod-docs-content-type: ASSEMBLY
include::_attributes/common-attributes.adoc[]
include::_attributes/attributes-openshift-dedicated.adoc[]
[id="logging-5-x-reference"]
= 5.x logging API reference
:context: logging-5-x-reference

toc::[]
////

////
** These release notes are generated from the content in the openshift/loki repository for the Loki Operator.
** Do not modify the content here manually except for the metadata and section IDs - changes to the content should be made in the source code.
////

[id="logging-5-x-reference-AlertManagerClientBasicAuth"]
== AlertManagerClientBasicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

[id="logging-5-x-reference-AlertManagerClientConfig"]
== AlertManagerClientConfig

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

[id="logging-5-x-reference-AlertManagerClientHeaderAuth"]
== AlertManagerClientHeaderAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

[id="logging-5-x-reference-AlertManagerClientTLSConfig"]
== AlertManagerClientTLSConfig

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

[id="logging-5-x-reference-AlertManagerDiscoverySpec"]
== AlertManagerDiscoverySpec

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

[id="logging-5-x-reference-AlertManagerNotificationQueueSpec"]
== AlertManagerNotificationQueueSpec

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

[id="logging-5-x-reference-AlertManagerSpec"]
== AlertManagerSpec

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .endpoints[]

Type:: array

=== .externalLabels

Type:: object

=== .notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .relabelConfigs[].sourceLabels[]

Type:: array

[id="logging-5-x-reference-AlertingRule"]
== AlertingRule

AlertingRule is the Schema for the alertingrules API

[options="header"]
|======================
|Property|Type|Description

|spec|object|  
|status|object|  
|======================

=== .spec

AlertingRuleSpec defines the desired state of AlertingRule

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groups|array|  *(optional)* List of groups for alerting rules.

|tenantID|string|  TenantID of tenant where the alerting rules are evaluated in.

|======================

=== .spec.groups[]

Type:: array

=== .status

AlertingRuleStatus defines the observed state of AlertingRule

Type:: object

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the AlertingRule generation health.

|======================

=== .status.conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-AlertingRuleGroup"]
== AlertingRuleGroup

AlertingRuleGroup defines a group of Loki alerting rules.

[options="header"]
|======================
|Property|Type|Description

|interval|string|  *(optional)* Interval defines the time interval between evaluation of the given
alerting rule.

|limit|int|  *(optional)* Limit defines the number of alerts an alerting rule can produce. 0 is no limit.

|name|string|  Name of the alerting rule group. Must be unique within all alerting rules.

|rules|array|  Rules defines a list of alerting rules

|======================

=== .rules[]

Type:: array

[id="logging-5-x-reference-AlertingRuleGroupSpec"]
== AlertingRuleGroupSpec

AlertingRuleGroupSpec defines the spec for a Loki alerting rule.

[options="header"]
|======================
|Property|Type|Description

|alert|string|  *(optional)* The name of the alert. Must be a valid label value.

|annotations|object|  *(optional)* Annotations to add to each alert.

|expr|string|  The LogQL expression to evaluate. Every evaluation cycle this is
evaluated at the current time, and all resultant time series become
pending/firing alerts.

|for|string|  *(optional)* Alerts are considered firing once they have been returned for this long.
Alerts which have not yet fired for long enough are considered pending.

|labels|object|  *(optional)* Labels to add to each alert.

|======================

=== .annotations

Type:: object

=== .labels

Type:: object[id="logging-5-x-reference-AlertingRuleSpec"]
== AlertingRuleSpec

AlertingRuleSpec defines the desired state of AlertingRule

[options="header"]
|======================
|Property|Type|Description

|groups|array|  *(optional)* List of groups for alerting rules.

|tenantID|string|  TenantID of tenant where the alerting rules are evaluated in.

|======================

=== .groups[]

Type:: array

[id="logging-5-x-reference-AlertingRuleStatus"]
== AlertingRuleStatus

AlertingRuleStatus defines the observed state of AlertingRule

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the AlertingRule generation health.

|======================

=== .conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-AuthenticationSpec"]
== AuthenticationSpec

AuthenticationSpec defines the oidc configuration per tenant for lokiStack Gateway component.

[options="header"]
|======================
|Property|Type|Description

|mTLS|object|  *(optional)* TLSConfig defines the spec for the mTLS tenant&#39;s authentication.

|oidc|object|  *(optional)* OIDC defines the spec for the OIDC tenant&#39;s authentication.

|tenantId|string|  TenantID defines the id of the tenant.

|tenantName|string|  TenantName defines the name of the tenant.

|======================

=== .mTLS

MTLSSpec specifies mTLS configuration parameters.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ca|object|  CA defines the spec for the custom CA for tenant&#39;s authentication.

|======================

=== .mTLS.ca

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .oidc

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerCA|object|  *(optional)* IssuerCA defines the spec for the issuer CA for tenant&#39;s authentication.

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID and clientSecret for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .oidc.issuerCA

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .oidc.secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

[id="logging-5-x-reference-AuthorizationSpec"]
== AuthorizationSpec

AuthorizationSpec defines the opa, role bindings and roles
configuration per tenant for lokiStack Gateway component.

[options="header"]
|======================
|Property|Type|Description

|opa|object|  *(optional)* OPA defines the spec for the third-party endpoint for tenant&#39;s authorization.

|roleBindings|array|  *(optional)* RoleBindings defines configuration to bind a set of roles to a set of subjects.

|roles|array|  *(optional)* Roles defines a set of permissions to interact with a tenant.

|======================

=== .opa

OPASpec defines the opa configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

=== .roleBindings[]

RoleBindingsSpec binds a set of roles to a set of subjects.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .roleBindings[].roles[]

Type:: array

=== .roleBindings[].subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

=== .roles[]

RoleSpec describes a set of permissions to interact with a tenant.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .roles[].permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .roles[].resources[]

Type:: array

=== .roles[].tenants[]

Type:: array

[id="logging-5-x-reference-BlockedQuerySpec"]
== BlockedQuerySpec

BlockedQuerySpec defines the rule spec for queries to be blocked.

[options="header"]
|======================
|Property|Type|Description

|hash|int|  *(optional)* Hash is a 32-bit FNV-1 hash of the query string.

|pattern|string|  *(optional)* Pattern defines the pattern matching the queries to be blocked.

|regex|bool|  *(optional)* Regex defines if the pattern is a regular expression. If false the pattern will be used only for exact matches.

|types|BlockedQueryType|  *(optional)* Types defines the list of query types that should be considered for blocking.

|======================

=== .types

BlockedQueryTypes defines a slice of BlockedQueryType values to be used for a blocked query.

Type:: BlockedQueryType[id="logging-5-x-reference-BlockedQueryType"]
== BlockedQueryType

BlockedQueryType defines which type of query a blocked query should apply to.

[id="logging-5-x-reference-BlockedQueryTypes"]
== BlockedQueryTypes

BlockedQueryTypes defines a slice of BlockedQueryType values to be used for a blocked query.
[id="logging-5-x-reference-CASpec"]
== CASpec

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

[id="logging-5-x-reference-ClusterProxy"]
== ClusterProxy

ClusterProxy is the Proxy configuration when the cluster is behind a Proxy.

[options="header"]
|======================
|Property|Type|Description

|httpProxy|string|  *(optional)* HTTPProxy configures the HTTP_PROXY/http_proxy env variable.

|httpsProxy|string|  *(optional)* HTTPSProxy configures the HTTPS_PROXY/https_proxy env variable.

|noProxy|string|  *(optional)* NoProxy configures the NO_PROXY/no_proxy env variable.

|======================

[id="logging-5-x-reference-CredentialMode"]
== CredentialMode

CredentialMode represents the type of authentication used for accessing the object storage.

[id="logging-5-x-reference-HashRingSpec"]
== HashRingSpec

HashRingSpec defines the hash ring configuration

[options="header"]
|======================
|Property|Type|Description

|memberlist|object|  *(optional)* MemberList configuration spec

|type|string|  Type of hash ring implementation that should be used

|======================

=== .memberlist

MemberListSpec defines the configuration for the memberlist based hash ring.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableIPv6|bool|  *(optional)* EnableIPv6 enables IPv6 support for the memberlist based hash ring.

Currently this also forces the instanceAddrType to podIP to avoid local address lookup
for the memberlist.

|instanceAddrType|string|  *(optional)* InstanceAddrType defines the type of address to use to advertise to the ring.
Defaults to the first address from any private network interfaces of the current pod.
Alternatively the public pod IP can be used in case private networks (RFC 1918 and RFC 6598)
are not available.

|======================

[id="logging-5-x-reference-HashRingType"]
== HashRingType

HashRingType defines the type of hash ring which can be used with the Loki cluster.

[id="logging-5-x-reference-IngestionLimitSpec"]
== IngestionLimitSpec

IngestionLimitSpec defines the limits applied at the ingestion path.

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|perStreamDesiredRate|int|  *(optional)* PerStreamDesiredRate defines the desired ingestion rate per second that LokiStack should
target applying automatic stream sharding. Units MB.

|perStreamRateLimit|int|  *(optional)* PerStreamRateLimit defines the maximum byte rate per second per stream. Units MB.

|perStreamRateLimitBurst|int|  *(optional)* PerStreamRateLimitBurst defines the maximum burst bytes per stream. Units MB.

|======================

[id="logging-5-x-reference-InstanceAddrType"]
== InstanceAddrType

InstanceAddrType defines the type of pod network to use for advertising IPs to the ring.

[id="logging-5-x-reference-LimitsSpec"]
== LimitsSpec

LimitsSpec defines the spec for limits applied at ingestion or query
path across the cluster or per tenant.

[options="header"]
|======================
|Property|Type|Description

|global|object|  *(optional)* Global defines the limits applied globally across the cluster.

|tenants|object|  *(optional)* Tenants defines the limits applied per tenant.

|======================

=== .global

LimitsTemplateSpec defines the limits  applied at ingestion or query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|retention|object|  *(optional)* Retention defines how long logs are kept in storage.

|======================

=== .global.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|perStreamDesiredRate|int|  *(optional)* PerStreamDesiredRate defines the desired ingestion rate per second that LokiStack should
target applying automatic stream sharding. Units MB.

|perStreamRateLimit|int|  *(optional)* PerStreamRateLimit defines the maximum byte rate per second per stream. Units MB.

|perStreamRateLimitBurst|int|  *(optional)* PerStreamRateLimitBurst defines the maximum burst bytes per stream. Units MB.

|======================

=== .global.queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

=== .global.retention

RetentionLimitSpec controls how long logs will be kept in storage.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|streams|array|  *(optional)* Stream defines the log stream.

|======================

=== .global.retention.streams[]

Type:: array

=== .tenants

LimitsTemplateSpec defines the limits  applied at ingestion or query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|retention|object|  *(optional)* Retention defines how long logs are kept in storage.

|======================

=== .tenants.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|perStreamDesiredRate|int|  *(optional)* PerStreamDesiredRate defines the desired ingestion rate per second that LokiStack should
target applying automatic stream sharding. Units MB.

|perStreamRateLimit|int|  *(optional)* PerStreamRateLimit defines the maximum byte rate per second per stream. Units MB.

|perStreamRateLimitBurst|int|  *(optional)* PerStreamRateLimitBurst defines the maximum burst bytes per stream. Units MB.

|======================

=== .tenants.queries

PerTenantQueryLimitSpec defines the limits applied to per tenant query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|QueryLimitSpec|object|  
|blocked|array|  *(optional)* Blocked defines the list of rules to block matching queries.

|======================

=== .tenants.queries.QueryLimitSpec

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

=== .tenants.queries.blocked[]

BlockedQuerySpec defines the rule spec for queries to be blocked.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|hash|int|  *(optional)* Hash is a 32-bit FNV-1 hash of the query string.

|pattern|string|  *(optional)* Pattern defines the pattern matching the queries to be blocked.

|regex|bool|  *(optional)* Regex defines if the pattern is a regular expression. If false the pattern will be used only for exact matches.

|types|BlockedQueryType|  *(optional)* Types defines the list of query types that should be considered for blocking.

|======================

=== .tenants.queries.blocked[].types

BlockedQueryTypes defines a slice of BlockedQueryType values to be used for a blocked query.

Type:: BlockedQueryType

=== .tenants.retention

RetentionLimitSpec controls how long logs will be kept in storage.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|streams|array|  *(optional)* Stream defines the log stream.

|======================

=== .tenants.retention.streams[]

Type:: array

[id="logging-5-x-reference-LimitsTemplateSpec"]
== LimitsTemplateSpec

LimitsTemplateSpec defines the limits  applied at ingestion or query path.

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|retention|object|  *(optional)* Retention defines how long logs are kept in storage.

|======================

=== .ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|perStreamDesiredRate|int|  *(optional)* PerStreamDesiredRate defines the desired ingestion rate per second that LokiStack should
target applying automatic stream sharding. Units MB.

|perStreamRateLimit|int|  *(optional)* PerStreamRateLimit defines the maximum byte rate per second per stream. Units MB.

|perStreamRateLimitBurst|int|  *(optional)* PerStreamRateLimitBurst defines the maximum burst bytes per stream. Units MB.

|======================

=== .queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

=== .retention

RetentionLimitSpec controls how long logs will be kept in storage.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|streams|array|  *(optional)* Stream defines the log stream.

|======================

=== .retention.streams[]

Type:: array

[id="logging-5-x-reference-LokiComponentSpec"]
== LokiComponentSpec

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .nodeSelector

Type:: object

=== .podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .tolerations[].tolerationSeconds

Type:: int

[id="logging-5-x-reference-LokiStack"]
== LokiStack

LokiStack is the Schema for the lokistacks API

[options="header"]
|======================
|Property|Type|Description

|spec|object|  LokiStack CR spec field.
|status|object|  LokiStack CR spec Status.
|======================

=== .spec

LokiStackSpec defines the desired state of LokiStack

Type:: object

[options="header"]
|======================
|Property|Type|Description

|hashRing|object|  *(optional)* HashRing defines the spec for the distributed hash ring configuration.

|limits|object|  *(optional)* Limits defines the limits to be applied to log stream processing.

|managementState|string|  ManagementState defines if the CR should be managed by the operator or not.
Default is managed.

|proxy|object|  *(optional)* Proxy defines the spec for the object proxy to configure cluster proxy information.

|replication|object|  *(optional)* Replication defines the configuration for Loki data replication.

|replicationFactor|int|  *(optional)* Deprecated: Please use replication.factor instead. This field will be removed in future versions of this CRD.
ReplicationFactor defines the policy for log stream replication.

|rules|object|  *(optional)* Rules defines the spec for the ruler component.

|size|string|  Size defines one of the support Loki deployment scale out sizes.

|storage|object|  Storage defines the spec for the object storage endpoint to store logs.

|storageClassName|string|  Storage class name defines the storage class for ingester/querier PVCs.

|template|object|  *(optional)* Template defines the resource/limits/tolerations/nodeselectors per component.

|tenants|object|  *(optional)* Tenants defines the per-tenant authentication and authorization spec for the lokistack-gateway component.

|======================

=== .spec.hashRing

HashRingSpec defines the hash ring configuration

Type:: object

[options="header"]
|======================
|Property|Type|Description

|memberlist|object|  *(optional)* MemberList configuration spec

|type|string|  Type of hash ring implementation that should be used

|======================

=== .spec.hashRing.memberlist

MemberListSpec defines the configuration for the memberlist based hash ring.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableIPv6|bool|  *(optional)* EnableIPv6 enables IPv6 support for the memberlist based hash ring.

Currently this also forces the instanceAddrType to podIP to avoid local address lookup
for the memberlist.

|instanceAddrType|string|  *(optional)* InstanceAddrType defines the type of address to use to advertise to the ring.
Defaults to the first address from any private network interfaces of the current pod.
Alternatively the public pod IP can be used in case private networks (RFC 1918 and RFC 6598)
are not available.

|======================

=== .spec.limits

LimitsSpec defines the spec for limits applied at ingestion or query
path across the cluster or per tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|global|object|  *(optional)* Global defines the limits applied globally across the cluster.

|tenants|object|  *(optional)* Tenants defines the limits applied per tenant.

|======================

=== .spec.limits.global

LimitsTemplateSpec defines the limits  applied at ingestion or query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|retention|object|  *(optional)* Retention defines how long logs are kept in storage.

|======================

=== .spec.limits.global.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|perStreamDesiredRate|int|  *(optional)* PerStreamDesiredRate defines the desired ingestion rate per second that LokiStack should
target applying automatic stream sharding. Units MB.

|perStreamRateLimit|int|  *(optional)* PerStreamRateLimit defines the maximum byte rate per second per stream. Units MB.

|perStreamRateLimitBurst|int|  *(optional)* PerStreamRateLimitBurst defines the maximum burst bytes per stream. Units MB.

|======================

=== .spec.limits.global.queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

=== .spec.limits.global.retention

RetentionLimitSpec controls how long logs will be kept in storage.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|streams|array|  *(optional)* Stream defines the log stream.

|======================

=== .spec.limits.global.retention.streams[]

Type:: array

=== .spec.limits.tenants

LimitsTemplateSpec defines the limits  applied at ingestion or query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|retention|object|  *(optional)* Retention defines how long logs are kept in storage.

|======================

=== .spec.limits.tenants.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|perStreamDesiredRate|int|  *(optional)* PerStreamDesiredRate defines the desired ingestion rate per second that LokiStack should
target applying automatic stream sharding. Units MB.

|perStreamRateLimit|int|  *(optional)* PerStreamRateLimit defines the maximum byte rate per second per stream. Units MB.

|perStreamRateLimitBurst|int|  *(optional)* PerStreamRateLimitBurst defines the maximum burst bytes per stream. Units MB.

|======================

=== .spec.limits.tenants.queries

PerTenantQueryLimitSpec defines the limits applied to per tenant query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|QueryLimitSpec|object|  
|blocked|array|  *(optional)* Blocked defines the list of rules to block matching queries.

|======================

=== .spec.limits.tenants.queries.QueryLimitSpec

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

=== .spec.limits.tenants.queries.blocked[]

BlockedQuerySpec defines the rule spec for queries to be blocked.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|hash|int|  *(optional)* Hash is a 32-bit FNV-1 hash of the query string.

|pattern|string|  *(optional)* Pattern defines the pattern matching the queries to be blocked.

|regex|bool|  *(optional)* Regex defines if the pattern is a regular expression. If false the pattern will be used only for exact matches.

|types|BlockedQueryType|  *(optional)* Types defines the list of query types that should be considered for blocking.

|======================

=== .spec.limits.tenants.queries.blocked[].types

BlockedQueryTypes defines a slice of BlockedQueryType values to be used for a blocked query.

Type:: BlockedQueryType

=== .spec.limits.tenants.retention

RetentionLimitSpec controls how long logs will be kept in storage.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|streams|array|  *(optional)* Stream defines the log stream.

|======================

=== .spec.limits.tenants.retention.streams[]

Type:: array

=== .spec.proxy

ClusterProxy is the Proxy configuration when the cluster is behind a Proxy.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|httpProxy|string|  *(optional)* HTTPProxy configures the HTTP_PROXY/http_proxy env variable.

|httpsProxy|string|  *(optional)* HTTPSProxy configures the HTTPS_PROXY/https_proxy env variable.

|noProxy|string|  *(optional)* NoProxy configures the NO_PROXY/no_proxy env variable.

|======================

=== .spec.replication

Type:: object

[options="header"]
|======================
|Property|Type|Description

|factor|int|  *(optional)* Factor defines the policy for log stream replication.

|zones|array|  *(optional)* Zones defines an array of ZoneSpec that the scheduler will try to satisfy.
IMPORTANT: Make sure that the replication factor defined is less than or equal to the number of available zones.

|======================

=== .spec.replication.zones[]

ZoneSpec defines the spec to support zone-aware component deployments.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|maxSkew|int|  MaxSkew describes the maximum degree to which Pods can be unevenly distributed.

|topologyKey|string|  TopologyKey is the key that defines a topology in the Nodes&#39; labels.

|======================

=== .spec.rules

RulesSpec defines the spec for the ruler component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enabled|bool|  Enabled defines a flag to enable/disable the ruler component

|namespaceSelector|object|  *(optional)* Namespaces to be selected for PrometheusRules discovery. If unspecified, only
the same namespace as the LokiStack object is in is used.

|selector|object|  *(optional)* A selector to select which LokiRules to mount for loading alerting/recording
rules from.

|======================

=== .spec.rules.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.rules.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.rules.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.rules.namespaceSelector.matchLabels

Type:: object

=== .spec.rules.selector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.rules.selector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.rules.selector.matchExpressions[].values[]

Type:: array

=== .spec.rules.selector.matchLabels

Type:: object

=== .spec.storage

ObjectStorageSpec defines the requirements to access the object
storage bucket to persist logs by the ingester component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|schemas|array|  *(optional)* Schemas for reading and writing logs.

|secret|object|  Secret for object storage authentication.
Name of a secret in the same namespace as the LokiStack custom resource.

|tls|object|  *(optional)* TLS configuration for reaching the object storage endpoint.

|======================

=== .spec.storage.schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

=== .spec.storage.secret

ObjectStorageSecretSpec is a secret reference containing name only, no namespace.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentialMode|string|  *(optional)* CredentialMode can be used to set the desired credential mode for authenticating with the object storage.
If this is not set, then the operator tries to infer the credential mode from the provided secret and its
own configuration.

|name|string|  Name of a secret in the namespace configured for object storage secrets.

|type|string|  Type of object storage that should be used

|======================

=== .spec.storage.tls

ObjectStorageTLSSpec is the TLS configuration for reaching the object storage endpoint.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .spec.template

LokiTemplateSpec defines the template of all requirements to configure
scheduling of all Loki components to be deployed.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|compactor|object|  *(optional)* Compactor defines the compaction component spec.

|distributor|object|  *(optional)* Distributor defines the distributor component spec.

|gateway|object|  *(optional)* Gateway defines the lokistack gateway component spec.

|indexGateway|object|  *(optional)* IndexGateway defines the index gateway component spec.

|ingester|object|  *(optional)* Ingester defines the ingester component spec.

|querier|object|  *(optional)* Querier defines the querier component spec.

|queryFrontend|object|  *(optional)* QueryFrontend defines the query frontend component spec.

|ruler|object|  *(optional)* Ruler defines the ruler component spec.

|======================

=== .spec.template.compactor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.compactor.nodeSelector

Type:: object

=== .spec.template.compactor.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .spec.template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .spec.template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .spec.template.compactor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.compactor.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.distributor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.distributor.nodeSelector

Type:: object

=== .spec.template.distributor.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .spec.template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .spec.template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .spec.template.distributor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.distributor.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.gateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.gateway.nodeSelector

Type:: object

=== .spec.template.gateway.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .spec.template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .spec.template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .spec.template.gateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.gateway.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.indexGateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.indexGateway.nodeSelector

Type:: object

=== .spec.template.indexGateway.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .spec.template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .spec.template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .spec.template.indexGateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.indexGateway.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.ingester

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.ingester.nodeSelector

Type:: object

=== .spec.template.ingester.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .spec.template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .spec.template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .spec.template.ingester.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.ingester.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.querier

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.querier.nodeSelector

Type:: object

=== .spec.template.querier.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .spec.template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .spec.template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .spec.template.querier.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.querier.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.queryFrontend

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.queryFrontend.nodeSelector

Type:: object

=== .spec.template.queryFrontend.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .spec.template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .spec.template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .spec.template.queryFrontend.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.queryFrontend.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.ruler

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.ruler.nodeSelector

Type:: object

=== .spec.template.ruler.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .spec.template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .spec.template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .spec.template.ruler.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.ruler.tolerations[].tolerationSeconds

Type:: int

=== .spec.tenants

TenantsSpec defines the mode, authentication and authorization
configuration of the lokiStack gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|authentication|array|  *(optional)* Authentication defines the lokistack-gateway component authentication configuration spec per tenant.

|authorization|object|  *(optional)* Authorization defines the lokistack-gateway component authorization configuration spec per tenant.

|mode|string|  Mode defines the mode in which lokistack-gateway component will be configured.

|openshift|object|  *(optional)* Openshift defines the configuration specific to Openshift modes.

|======================

=== .spec.tenants.authentication[]

AuthenticationSpec defines the oidc configuration per tenant for lokiStack Gateway component.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|mTLS|object|  *(optional)* TLSConfig defines the spec for the mTLS tenant&#39;s authentication.

|oidc|object|  *(optional)* OIDC defines the spec for the OIDC tenant&#39;s authentication.

|tenantId|string|  TenantID defines the id of the tenant.

|tenantName|string|  TenantName defines the name of the tenant.

|======================

=== .spec.tenants.authentication[].mTLS

MTLSSpec specifies mTLS configuration parameters.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ca|object|  CA defines the spec for the custom CA for tenant&#39;s authentication.

|======================

=== .spec.tenants.authentication[].mTLS.ca

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .spec.tenants.authentication[].oidc

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerCA|object|  *(optional)* IssuerCA defines the spec for the issuer CA for tenant&#39;s authentication.

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID and clientSecret for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .spec.tenants.authentication[].oidc.issuerCA

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .spec.tenants.authentication[].oidc.secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

=== .spec.tenants.authorization

AuthorizationSpec defines the opa, role bindings and roles
configuration per tenant for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|opa|object|  *(optional)* OPA defines the spec for the third-party endpoint for tenant&#39;s authorization.

|roleBindings|array|  *(optional)* RoleBindings defines configuration to bind a set of roles to a set of subjects.

|roles|array|  *(optional)* Roles defines a set of permissions to interact with a tenant.

|======================

=== .spec.tenants.authorization.opa

OPASpec defines the opa configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

=== .spec.tenants.authorization.roleBindings[]

RoleBindingsSpec binds a set of roles to a set of subjects.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .spec.tenants.authorization.roleBindings[].roles[]

Type:: array

=== .spec.tenants.authorization.roleBindings[].subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

=== .spec.tenants.authorization.roles[]

RoleSpec describes a set of permissions to interact with a tenant.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .spec.tenants.authorization.roles[].permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .spec.tenants.authorization.roles[].resources[]

Type:: array

=== .spec.tenants.authorization.roles[].tenants[]

Type:: array

=== .spec.tenants.openshift

OpenshiftTenantSpec defines the configuration specific to Openshift modes.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|adminGroups|array|  *(optional)* AdminGroups defines a list of groups, whose members are considered to have admin-privileges by the Loki Operator.
Setting this to an empty array disables admin groups.

By default the following groups are considered admin-groups:
 - system:cluster-admins
 - cluster-admin
 - dedicated-admin

|======================

=== .spec.tenants.openshift.adminGroups[]

Type:: array

=== .status

LokiStackStatus defines the observed state of LokiStack

Type:: object

[options="header"]
|======================
|Property|Type|Description

|components|object|  *(optional)* Components provides summary of all Loki pod status grouped
per component.

|conditions|array|  *(optional)* Conditions of the Loki deployment health.

|storage|object|  *(optional)* Storage provides summary of all changes that have occurred
to the storage configuration.

|======================

=== .status.components

LokiStackComponentStatus defines the map of per pod status per LokiStack component.
Each component is represented by a separate map of v1.Phase to a list of pods.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|compactor|string|  *(optional)* Compactor is a map to the pod status of the compactor pod.

|distributor|string|  *(optional)* Distributor is a map to the per pod status of the distributor deployment

|gateway|string|  *(optional)* Gateway is a map to the per pod status of the lokistack gateway deployment.

|indexGateway|string|  *(optional)* IndexGateway is a map to the per pod status of the index gateway statefulset

|ingester|string|  *(optional)* Ingester is a map to the per pod status of the ingester statefulset

|querier|string|  *(optional)* Querier is a map to the per pod status of the querier deployment

|queryFrontend|string|  *(optional)* QueryFrontend is a map to the per pod status of the query frontend deployment

|ruler|string|  *(optional)* Ruler is a map to the per pod status of the lokistack ruler statefulset.

|======================

=== .status.conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

=== .status.storage

LokiStackStorageStatus defines the observed state of
the Loki storage configuration.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentialMode|string|  *(optional)* CredentialMode contains the authentication mode used for accessing the object storage.

|schemas|array|  *(optional)* Schemas is a list of schemas which have been applied
to the LokiStack.

|======================

=== .status.storage.schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

[id="logging-5-x-reference-LokiStackComponentStatus"]
== LokiStackComponentStatus

LokiStackComponentStatus defines the map of per pod status per LokiStack component.
Each component is represented by a separate map of v1.Phase to a list of pods.

[options="header"]
|======================
|Property|Type|Description

|compactor|string|  *(optional)* Compactor is a map to the pod status of the compactor pod.

|distributor|string|  *(optional)* Distributor is a map to the per pod status of the distributor deployment

|gateway|string|  *(optional)* Gateway is a map to the per pod status of the lokistack gateway deployment.

|indexGateway|string|  *(optional)* IndexGateway is a map to the per pod status of the index gateway statefulset

|ingester|string|  *(optional)* Ingester is a map to the per pod status of the ingester statefulset

|querier|string|  *(optional)* Querier is a map to the per pod status of the querier deployment

|queryFrontend|string|  *(optional)* QueryFrontend is a map to the per pod status of the query frontend deployment

|ruler|string|  *(optional)* Ruler is a map to the per pod status of the lokistack ruler statefulset.

|======================

[id="logging-5-x-reference-LokiStackConditionReason"]
== LokiStackConditionReason

LokiStackConditionReason defines the type for valid reasons of a Loki deployment conditions.
[id="logging-5-x-reference-LokiStackConditionType"]
== LokiStackConditionType

LokiStackConditionType deifnes the type of condition types of a Loki deployment.
[id="logging-5-x-reference-LokiStackSizeType"]
== LokiStackSizeType

LokiStackSizeType declares the type for loki cluster scale outs.

[id="logging-5-x-reference-LokiStackSpec"]
== LokiStackSpec

LokiStackSpec defines the desired state of LokiStack

[options="header"]
|======================
|Property|Type|Description

|hashRing|object|  *(optional)* HashRing defines the spec for the distributed hash ring configuration.

|limits|object|  *(optional)* Limits defines the limits to be applied to log stream processing.

|managementState|string|  ManagementState defines if the CR should be managed by the operator or not.
Default is managed.

|proxy|object|  *(optional)* Proxy defines the spec for the object proxy to configure cluster proxy information.

|replication|object|  *(optional)* Replication defines the configuration for Loki data replication.

|replicationFactor|int|  *(optional)* Deprecated: Please use replication.factor instead. This field will be removed in future versions of this CRD.
ReplicationFactor defines the policy for log stream replication.

|rules|object|  *(optional)* Rules defines the spec for the ruler component.

|size|string|  Size defines one of the support Loki deployment scale out sizes.

|storage|object|  Storage defines the spec for the object storage endpoint to store logs.

|storageClassName|string|  Storage class name defines the storage class for ingester/querier PVCs.

|template|object|  *(optional)* Template defines the resource/limits/tolerations/nodeselectors per component.

|tenants|object|  *(optional)* Tenants defines the per-tenant authentication and authorization spec for the lokistack-gateway component.

|======================

=== .hashRing

HashRingSpec defines the hash ring configuration

Type:: object

[options="header"]
|======================
|Property|Type|Description

|memberlist|object|  *(optional)* MemberList configuration spec

|type|string|  Type of hash ring implementation that should be used

|======================

=== .hashRing.memberlist

MemberListSpec defines the configuration for the memberlist based hash ring.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableIPv6|bool|  *(optional)* EnableIPv6 enables IPv6 support for the memberlist based hash ring.

Currently this also forces the instanceAddrType to podIP to avoid local address lookup
for the memberlist.

|instanceAddrType|string|  *(optional)* InstanceAddrType defines the type of address to use to advertise to the ring.
Defaults to the first address from any private network interfaces of the current pod.
Alternatively the public pod IP can be used in case private networks (RFC 1918 and RFC 6598)
are not available.

|======================

=== .limits

LimitsSpec defines the spec for limits applied at ingestion or query
path across the cluster or per tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|global|object|  *(optional)* Global defines the limits applied globally across the cluster.

|tenants|object|  *(optional)* Tenants defines the limits applied per tenant.

|======================

=== .limits.global

LimitsTemplateSpec defines the limits  applied at ingestion or query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|retention|object|  *(optional)* Retention defines how long logs are kept in storage.

|======================

=== .limits.global.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|perStreamDesiredRate|int|  *(optional)* PerStreamDesiredRate defines the desired ingestion rate per second that LokiStack should
target applying automatic stream sharding. Units MB.

|perStreamRateLimit|int|  *(optional)* PerStreamRateLimit defines the maximum byte rate per second per stream. Units MB.

|perStreamRateLimitBurst|int|  *(optional)* PerStreamRateLimitBurst defines the maximum burst bytes per stream. Units MB.

|======================

=== .limits.global.queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

=== .limits.global.retention

RetentionLimitSpec controls how long logs will be kept in storage.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|streams|array|  *(optional)* Stream defines the log stream.

|======================

=== .limits.global.retention.streams[]

Type:: array

=== .limits.tenants

LimitsTemplateSpec defines the limits  applied at ingestion or query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|retention|object|  *(optional)* Retention defines how long logs are kept in storage.

|======================

=== .limits.tenants.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|perStreamDesiredRate|int|  *(optional)* PerStreamDesiredRate defines the desired ingestion rate per second that LokiStack should
target applying automatic stream sharding. Units MB.

|perStreamRateLimit|int|  *(optional)* PerStreamRateLimit defines the maximum byte rate per second per stream. Units MB.

|perStreamRateLimitBurst|int|  *(optional)* PerStreamRateLimitBurst defines the maximum burst bytes per stream. Units MB.

|======================

=== .limits.tenants.queries

PerTenantQueryLimitSpec defines the limits applied to per tenant query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|QueryLimitSpec|object|  
|blocked|array|  *(optional)* Blocked defines the list of rules to block matching queries.

|======================

=== .limits.tenants.queries.QueryLimitSpec

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

=== .limits.tenants.queries.blocked[]

BlockedQuerySpec defines the rule spec for queries to be blocked.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|hash|int|  *(optional)* Hash is a 32-bit FNV-1 hash of the query string.

|pattern|string|  *(optional)* Pattern defines the pattern matching the queries to be blocked.

|regex|bool|  *(optional)* Regex defines if the pattern is a regular expression. If false the pattern will be used only for exact matches.

|types|BlockedQueryType|  *(optional)* Types defines the list of query types that should be considered for blocking.

|======================

=== .limits.tenants.queries.blocked[].types

BlockedQueryTypes defines a slice of BlockedQueryType values to be used for a blocked query.

Type:: BlockedQueryType

=== .limits.tenants.retention

RetentionLimitSpec controls how long logs will be kept in storage.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|streams|array|  *(optional)* Stream defines the log stream.

|======================

=== .limits.tenants.retention.streams[]

Type:: array

=== .proxy

ClusterProxy is the Proxy configuration when the cluster is behind a Proxy.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|httpProxy|string|  *(optional)* HTTPProxy configures the HTTP_PROXY/http_proxy env variable.

|httpsProxy|string|  *(optional)* HTTPSProxy configures the HTTPS_PROXY/https_proxy env variable.

|noProxy|string|  *(optional)* NoProxy configures the NO_PROXY/no_proxy env variable.

|======================

=== .replication

Type:: object

[options="header"]
|======================
|Property|Type|Description

|factor|int|  *(optional)* Factor defines the policy for log stream replication.

|zones|array|  *(optional)* Zones defines an array of ZoneSpec that the scheduler will try to satisfy.
IMPORTANT: Make sure that the replication factor defined is less than or equal to the number of available zones.

|======================

=== .replication.zones[]

ZoneSpec defines the spec to support zone-aware component deployments.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|maxSkew|int|  MaxSkew describes the maximum degree to which Pods can be unevenly distributed.

|topologyKey|string|  TopologyKey is the key that defines a topology in the Nodes&#39; labels.

|======================

=== .rules

RulesSpec defines the spec for the ruler component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enabled|bool|  Enabled defines a flag to enable/disable the ruler component

|namespaceSelector|object|  *(optional)* Namespaces to be selected for PrometheusRules discovery. If unspecified, only
the same namespace as the LokiStack object is in is used.

|selector|object|  *(optional)* A selector to select which LokiRules to mount for loading alerting/recording
rules from.

|======================

=== .rules.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .rules.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .rules.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .rules.namespaceSelector.matchLabels

Type:: object

=== .rules.selector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .rules.selector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .rules.selector.matchExpressions[].values[]

Type:: array

=== .rules.selector.matchLabels

Type:: object

=== .storage

ObjectStorageSpec defines the requirements to access the object
storage bucket to persist logs by the ingester component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|schemas|array|  *(optional)* Schemas for reading and writing logs.

|secret|object|  Secret for object storage authentication.
Name of a secret in the same namespace as the LokiStack custom resource.

|tls|object|  *(optional)* TLS configuration for reaching the object storage endpoint.

|======================

=== .storage.schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

=== .storage.secret

ObjectStorageSecretSpec is a secret reference containing name only, no namespace.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentialMode|string|  *(optional)* CredentialMode can be used to set the desired credential mode for authenticating with the object storage.
If this is not set, then the operator tries to infer the credential mode from the provided secret and its
own configuration.

|name|string|  Name of a secret in the namespace configured for object storage secrets.

|type|string|  Type of object storage that should be used

|======================

=== .storage.tls

ObjectStorageTLSSpec is the TLS configuration for reaching the object storage endpoint.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .template

LokiTemplateSpec defines the template of all requirements to configure
scheduling of all Loki components to be deployed.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|compactor|object|  *(optional)* Compactor defines the compaction component spec.

|distributor|object|  *(optional)* Distributor defines the distributor component spec.

|gateway|object|  *(optional)* Gateway defines the lokistack gateway component spec.

|indexGateway|object|  *(optional)* IndexGateway defines the index gateway component spec.

|ingester|object|  *(optional)* Ingester defines the ingester component spec.

|querier|object|  *(optional)* Querier defines the querier component spec.

|queryFrontend|object|  *(optional)* QueryFrontend defines the query frontend component spec.

|ruler|object|  *(optional)* Ruler defines the ruler component spec.

|======================

=== .template.compactor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.compactor.nodeSelector

Type:: object

=== .template.compactor.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .template.compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .template.compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .template.compactor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.compactor.tolerations[].tolerationSeconds

Type:: int

=== .template.distributor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.distributor.nodeSelector

Type:: object

=== .template.distributor.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .template.distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .template.distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .template.distributor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.distributor.tolerations[].tolerationSeconds

Type:: int

=== .template.gateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.gateway.nodeSelector

Type:: object

=== .template.gateway.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .template.gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .template.gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .template.gateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.gateway.tolerations[].tolerationSeconds

Type:: int

=== .template.indexGateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.indexGateway.nodeSelector

Type:: object

=== .template.indexGateway.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .template.indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .template.indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .template.indexGateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.indexGateway.tolerations[].tolerationSeconds

Type:: int

=== .template.ingester

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.ingester.nodeSelector

Type:: object

=== .template.ingester.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .template.ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .template.ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .template.ingester.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.ingester.tolerations[].tolerationSeconds

Type:: int

=== .template.querier

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.querier.nodeSelector

Type:: object

=== .template.querier.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .template.querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .template.querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .template.querier.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.querier.tolerations[].tolerationSeconds

Type:: int

=== .template.queryFrontend

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.queryFrontend.nodeSelector

Type:: object

=== .template.queryFrontend.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .template.queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .template.queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .template.queryFrontend.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.queryFrontend.tolerations[].tolerationSeconds

Type:: int

=== .template.ruler

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.ruler.nodeSelector

Type:: object

=== .template.ruler.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .template.ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .template.ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .template.ruler.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.ruler.tolerations[].tolerationSeconds

Type:: int

=== .tenants

TenantsSpec defines the mode, authentication and authorization
configuration of the lokiStack gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|authentication|array|  *(optional)* Authentication defines the lokistack-gateway component authentication configuration spec per tenant.

|authorization|object|  *(optional)* Authorization defines the lokistack-gateway component authorization configuration spec per tenant.

|mode|string|  Mode defines the mode in which lokistack-gateway component will be configured.

|openshift|object|  *(optional)* Openshift defines the configuration specific to Openshift modes.

|======================

=== .tenants.authentication[]

AuthenticationSpec defines the oidc configuration per tenant for lokiStack Gateway component.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|mTLS|object|  *(optional)* TLSConfig defines the spec for the mTLS tenant&#39;s authentication.

|oidc|object|  *(optional)* OIDC defines the spec for the OIDC tenant&#39;s authentication.

|tenantId|string|  TenantID defines the id of the tenant.

|tenantName|string|  TenantName defines the name of the tenant.

|======================

=== .tenants.authentication[].mTLS

MTLSSpec specifies mTLS configuration parameters.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ca|object|  CA defines the spec for the custom CA for tenant&#39;s authentication.

|======================

=== .tenants.authentication[].mTLS.ca

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .tenants.authentication[].oidc

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerCA|object|  *(optional)* IssuerCA defines the spec for the issuer CA for tenant&#39;s authentication.

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID and clientSecret for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .tenants.authentication[].oidc.issuerCA

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .tenants.authentication[].oidc.secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

=== .tenants.authorization

AuthorizationSpec defines the opa, role bindings and roles
configuration per tenant for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|opa|object|  *(optional)* OPA defines the spec for the third-party endpoint for tenant&#39;s authorization.

|roleBindings|array|  *(optional)* RoleBindings defines configuration to bind a set of roles to a set of subjects.

|roles|array|  *(optional)* Roles defines a set of permissions to interact with a tenant.

|======================

=== .tenants.authorization.opa

OPASpec defines the opa configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

=== .tenants.authorization.roleBindings[]

RoleBindingsSpec binds a set of roles to a set of subjects.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .tenants.authorization.roleBindings[].roles[]

Type:: array

=== .tenants.authorization.roleBindings[].subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

=== .tenants.authorization.roles[]

RoleSpec describes a set of permissions to interact with a tenant.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .tenants.authorization.roles[].permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .tenants.authorization.roles[].resources[]

Type:: array

=== .tenants.authorization.roles[].tenants[]

Type:: array

=== .tenants.openshift

OpenshiftTenantSpec defines the configuration specific to Openshift modes.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|adminGroups|array|  *(optional)* AdminGroups defines a list of groups, whose members are considered to have admin-privileges by the Loki Operator.
Setting this to an empty array disables admin groups.

By default the following groups are considered admin-groups:
 - system:cluster-admins
 - cluster-admin
 - dedicated-admin

|======================

=== .tenants.openshift.adminGroups[]

Type:: array

[id="logging-5-x-reference-LokiStackStatus"]
== LokiStackStatus

LokiStackStatus defines the observed state of LokiStack

[options="header"]
|======================
|Property|Type|Description

|components|object|  *(optional)* Components provides summary of all Loki pod status grouped
per component.

|conditions|array|  *(optional)* Conditions of the Loki deployment health.

|storage|object|  *(optional)* Storage provides summary of all changes that have occurred
to the storage configuration.

|======================

=== .components

LokiStackComponentStatus defines the map of per pod status per LokiStack component.
Each component is represented by a separate map of v1.Phase to a list of pods.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|compactor|string|  *(optional)* Compactor is a map to the pod status of the compactor pod.

|distributor|string|  *(optional)* Distributor is a map to the per pod status of the distributor deployment

|gateway|string|  *(optional)* Gateway is a map to the per pod status of the lokistack gateway deployment.

|indexGateway|string|  *(optional)* IndexGateway is a map to the per pod status of the index gateway statefulset

|ingester|string|  *(optional)* Ingester is a map to the per pod status of the ingester statefulset

|querier|string|  *(optional)* Querier is a map to the per pod status of the querier deployment

|queryFrontend|string|  *(optional)* QueryFrontend is a map to the per pod status of the query frontend deployment

|ruler|string|  *(optional)* Ruler is a map to the per pod status of the lokistack ruler statefulset.

|======================

=== .conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

=== .storage

LokiStackStorageStatus defines the observed state of
the Loki storage configuration.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentialMode|string|  *(optional)* CredentialMode contains the authentication mode used for accessing the object storage.

|schemas|array|  *(optional)* Schemas is a list of schemas which have been applied
to the LokiStack.

|======================

=== .storage.schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

[id="logging-5-x-reference-LokiStackStorageStatus"]
== LokiStackStorageStatus

LokiStackStorageStatus defines the observed state of
the Loki storage configuration.

[options="header"]
|======================
|Property|Type|Description

|credentialMode|string|  *(optional)* CredentialMode contains the authentication mode used for accessing the object storage.

|schemas|array|  *(optional)* Schemas is a list of schemas which have been applied
to the LokiStack.

|======================

=== .schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

[id="logging-5-x-reference-LokiTemplateSpec"]
== LokiTemplateSpec

LokiTemplateSpec defines the template of all requirements to configure
scheduling of all Loki components to be deployed.

[options="header"]
|======================
|Property|Type|Description

|compactor|object|  *(optional)* Compactor defines the compaction component spec.

|distributor|object|  *(optional)* Distributor defines the distributor component spec.

|gateway|object|  *(optional)* Gateway defines the lokistack gateway component spec.

|indexGateway|object|  *(optional)* IndexGateway defines the index gateway component spec.

|ingester|object|  *(optional)* Ingester defines the ingester component spec.

|querier|object|  *(optional)* Querier defines the querier component spec.

|queryFrontend|object|  *(optional)* QueryFrontend defines the query frontend component spec.

|ruler|object|  *(optional)* Ruler defines the ruler component spec.

|======================

=== .compactor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .compactor.nodeSelector

Type:: object

=== .compactor.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .compactor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .compactor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .compactor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .compactor.tolerations[].tolerationSeconds

Type:: int

=== .distributor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .distributor.nodeSelector

Type:: object

=== .distributor.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .distributor.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .distributor.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .distributor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .distributor.tolerations[].tolerationSeconds

Type:: int

=== .gateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .gateway.nodeSelector

Type:: object

=== .gateway.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .gateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .gateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .gateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .gateway.tolerations[].tolerationSeconds

Type:: int

=== .indexGateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .indexGateway.nodeSelector

Type:: object

=== .indexGateway.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .indexGateway.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .indexGateway.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .indexGateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .indexGateway.tolerations[].tolerationSeconds

Type:: int

=== .ingester

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .ingester.nodeSelector

Type:: object

=== .ingester.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .ingester.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .ingester.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .ingester.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .ingester.tolerations[].tolerationSeconds

Type:: int

=== .querier

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .querier.nodeSelector

Type:: object

=== .querier.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .querier.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .querier.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .querier.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .querier.tolerations[].tolerationSeconds

Type:: int

=== .queryFrontend

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .queryFrontend.nodeSelector

Type:: object

=== .queryFrontend.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .queryFrontend.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .queryFrontend.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .queryFrontend.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .queryFrontend.tolerations[].tolerationSeconds

Type:: int

=== .ruler

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|podAntiAffinity|object|  *(optional)* PodAntiAffinity defines the pod anti affinity scheduling rules to schedule pods
of a component.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .ruler.nodeSelector

Type:: object

=== .ruler.podAntiAffinity

Type:: object

[options="header"]
|======================
|Property|Type|Description

|preferredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* The scheduler will prefer to schedule pods to nodes that satisfy
the anti-affinity expressions specified by this field, but it may choose
a node that violates one or more of the expressions. The node that is
most preferred is the one with the greatest sum of weights, i.e.
for each node that meets all of the scheduling requirements (resource
request, requiredDuringScheduling anti-affinity expressions, etc.),
compute a sum by iterating through the elements of this field and adding
&#34;weight&#34; to the sum if the node has pods which matches the corresponding podAffinityTerm; the
node(s) with the highest sum are the most preferred.
|requiredDuringSchedulingIgnoredDuringExecution|array|  *(optional)* If the anti-affinity requirements specified by this field are not met at
scheduling time, the pod will not be scheduled onto the node.
If the anti-affinity requirements specified by this field cease to be met
at some point during pod execution (e.g. due to a pod label update), the
system may or may not try to eventually evict the pod from its node.
When there are multiple elements, the lists of nodes corresponding to each
podAffinityTerm are intersected, i.e. all terms must be satisfied.
|======================

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|podAffinityTerm|object|  Required. A pod affinity term, associated with the corresponding weight.
|weight|int|  weight associated with matching the corresponding podAffinityTerm,
in the range 1-100.
|======================

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm

Type:: object

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchExpressions[].values[]

Type:: array

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.labelSelector.matchLabels

Type:: object

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaceSelector.matchLabels

Type:: object

=== .ruler.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution[].podAffinityTerm.namespaces[]

Type:: array

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|labelSelector|object|  *(optional)* A label query over a set of resources, in this case pods.
|namespaceSelector|object|  *(optional)* A label query over the set of namespaces that the term applies to.
The term is applied to the union of the namespaces selected by this field
and the ones listed in the namespaces field.
null selector and null or empty namespaces list means &#34;this pod&#39;s namespace&#34;.
An empty selector ({}) matches all namespaces.
|namespaces|array|  *(optional)* namespaces specifies a static list of namespace names that the term applies to.
The term is applied to the union of the namespaces listed in this field
and the ones selected by namespaceSelector.
null or empty namespaces list and null namespaceSelector means &#34;this pod&#39;s namespace&#34;.
|topologyKey|string|  This pod should be co-located (affinity) or not co-located (anti-affinity) with the pods matching
the labelSelector in the specified namespaces, where co-located is defined as running on a node
whose value of the label with key topologyKey matches that of any node on which any of the
selected pods is running.
Empty topologyKey is not allowed.
|======================

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchExpressions[].values[]

Type:: array

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].labelSelector.matchLabels

Type:: object

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchExpressions[].values[]

Type:: array

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaceSelector.matchLabels

Type:: object

=== .ruler.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution[].namespaces[]

Type:: array

=== .ruler.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .ruler.tolerations[].tolerationSeconds

Type:: int

[id="logging-5-x-reference-MTLSSpec"]
== MTLSSpec

MTLSSpec specifies mTLS configuration parameters.

[options="header"]
|======================
|Property|Type|Description

|ca|object|  CA defines the spec for the custom CA for tenant&#39;s authentication.

|======================

=== .ca

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

[id="logging-5-x-reference-ManagementStateType"]
== ManagementStateType

ManagementStateType defines the type for CR management states.

[id="logging-5-x-reference-MemberListSpec"]
== MemberListSpec

MemberListSpec defines the configuration for the memberlist based hash ring.

[options="header"]
|======================
|Property|Type|Description

|enableIPv6|bool|  *(optional)* EnableIPv6 enables IPv6 support for the memberlist based hash ring.

Currently this also forces the instanceAddrType to podIP to avoid local address lookup
for the memberlist.

|instanceAddrType|string|  *(optional)* InstanceAddrType defines the type of address to use to advertise to the ring.
Defaults to the first address from any private network interfaces of the current pod.
Alternatively the public pod IP can be used in case private networks (RFC 1918 and RFC 6598)
are not available.

|======================

[id="logging-5-x-reference-ModeType"]
== ModeType

ModeType is the authentication/authorization mode in which LokiStack Gateway will be configured.

[id="logging-5-x-reference-OIDCSpec"]
== OIDCSpec

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerCA|object|  *(optional)* IssuerCA defines the spec for the issuer CA for tenant&#39;s authentication.

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID and clientSecret for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .issuerCA

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

[id="logging-5-x-reference-OPASpec"]
== OPASpec

OPASpec defines the opa configuration spec for lokiStack Gateway component.

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

[id="logging-5-x-reference-ObjectStorageSchema"]
== ObjectStorageSchema

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

[id="logging-5-x-reference-ObjectStorageSchemaVersion"]
== ObjectStorageSchemaVersion

ObjectStorageSchemaVersion defines the storage schema version which will be
used with the Loki cluster.

[id="logging-5-x-reference-ObjectStorageSecretSpec"]
== ObjectStorageSecretSpec

ObjectStorageSecretSpec is a secret reference containing name only, no namespace.

[options="header"]
|======================
|Property|Type|Description

|credentialMode|string|  *(optional)* CredentialMode can be used to set the desired credential mode for authenticating with the object storage.
If this is not set, then the operator tries to infer the credential mode from the provided secret and its
own configuration.

|name|string|  Name of a secret in the namespace configured for object storage secrets.

|type|string|  Type of object storage that should be used

|======================

[id="logging-5-x-reference-ObjectStorageSecretType"]
== ObjectStorageSecretType

ObjectStorageSecretType defines the type of storage which can be used with the Loki cluster.

[id="logging-5-x-reference-ObjectStorageSpec"]
== ObjectStorageSpec

ObjectStorageSpec defines the requirements to access the object
storage bucket to persist logs by the ingester component.

[options="header"]
|======================
|Property|Type|Description

|schemas|array|  *(optional)* Schemas for reading and writing logs.

|secret|object|  Secret for object storage authentication.
Name of a secret in the same namespace as the LokiStack custom resource.

|tls|object|  *(optional)* TLS configuration for reaching the object storage endpoint.

|======================

=== .schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

=== .secret

ObjectStorageSecretSpec is a secret reference containing name only, no namespace.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentialMode|string|  *(optional)* CredentialMode can be used to set the desired credential mode for authenticating with the object storage.
If this is not set, then the operator tries to infer the credential mode from the provided secret and its
own configuration.

|name|string|  Name of a secret in the namespace configured for object storage secrets.

|type|string|  Type of object storage that should be used

|======================

=== .tls

ObjectStorageTLSSpec is the TLS configuration for reaching the object storage endpoint.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

[id="logging-5-x-reference-ObjectStorageTLSSpec"]
== ObjectStorageTLSSpec

ObjectStorageTLSSpec is the TLS configuration for reaching the object storage endpoint.

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

[id="logging-5-x-reference-OpenshiftTenantSpec"]
== OpenshiftTenantSpec

OpenshiftTenantSpec defines the configuration specific to Openshift modes.

[options="header"]
|======================
|Property|Type|Description

|adminGroups|array|  *(optional)* AdminGroups defines a list of groups, whose members are considered to have admin-privileges by the Loki Operator.
Setting this to an empty array disables admin groups.

By default the following groups are considered admin-groups:
 - system:cluster-admins
 - cluster-admin
 - dedicated-admin

|======================

=== .adminGroups[]

Type:: array

[id="logging-5-x-reference-PerTenantLimitsTemplateSpec"]
== PerTenantLimitsTemplateSpec

LimitsTemplateSpec defines the limits  applied at ingestion or query path.

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|retention|object|  *(optional)* Retention defines how long logs are kept in storage.

|======================

=== .ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|perStreamDesiredRate|int|  *(optional)* PerStreamDesiredRate defines the desired ingestion rate per second that LokiStack should
target applying automatic stream sharding. Units MB.

|perStreamRateLimit|int|  *(optional)* PerStreamRateLimit defines the maximum byte rate per second per stream. Units MB.

|perStreamRateLimitBurst|int|  *(optional)* PerStreamRateLimitBurst defines the maximum burst bytes per stream. Units MB.

|======================

=== .queries

PerTenantQueryLimitSpec defines the limits applied to per tenant query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|QueryLimitSpec|object|  
|blocked|array|  *(optional)* Blocked defines the list of rules to block matching queries.

|======================

=== .queries.QueryLimitSpec

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

=== .queries.blocked[]

BlockedQuerySpec defines the rule spec for queries to be blocked.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|hash|int|  *(optional)* Hash is a 32-bit FNV-1 hash of the query string.

|pattern|string|  *(optional)* Pattern defines the pattern matching the queries to be blocked.

|regex|bool|  *(optional)* Regex defines if the pattern is a regular expression. If false the pattern will be used only for exact matches.

|types|BlockedQueryType|  *(optional)* Types defines the list of query types that should be considered for blocking.

|======================

=== .queries.blocked[].types

BlockedQueryTypes defines a slice of BlockedQueryType values to be used for a blocked query.

Type:: BlockedQueryType

=== .retention

RetentionLimitSpec controls how long logs will be kept in storage.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|streams|array|  *(optional)* Stream defines the log stream.

|======================

=== .retention.streams[]

Type:: array

[id="logging-5-x-reference-PerTenantQueryLimitSpec"]
== PerTenantQueryLimitSpec

PerTenantQueryLimitSpec defines the limits applied to per tenant query path.

[options="header"]
|======================
|Property|Type|Description

|QueryLimitSpec|object|  
|blocked|array|  *(optional)* Blocked defines the list of rules to block matching queries.

|======================

=== .QueryLimitSpec

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

=== .blocked[]

BlockedQuerySpec defines the rule spec for queries to be blocked.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|hash|int|  *(optional)* Hash is a 32-bit FNV-1 hash of the query string.

|pattern|string|  *(optional)* Pattern defines the pattern matching the queries to be blocked.

|regex|bool|  *(optional)* Regex defines if the pattern is a regular expression. If false the pattern will be used only for exact matches.

|types|BlockedQueryType|  *(optional)* Types defines the list of query types that should be considered for blocking.

|======================

=== .blocked[].types

BlockedQueryTypes defines a slice of BlockedQueryType values to be used for a blocked query.

Type:: BlockedQueryType

[id="logging-5-x-reference-PermissionType"]
== PermissionType

PermissionType is a LokiStack Gateway RBAC permission.

[id="logging-5-x-reference-PodStatus"]
== PodStatus

PodStatus is a short description of the status a Pod can be in.
[id="logging-5-x-reference-PodStatusMap"]
== PodStatusMap

PodStatusMap defines the type for mapping pod status to pod name.
[id="logging-5-x-reference-PrometheusDuration"]
== PrometheusDuration

PrometheusDuration defines the type for Prometheus durations.

[id="logging-5-x-reference-QueryLimitSpec"]
== QueryLimitSpec

QueryLimitSpec defines the limits applies at the query path.

[options="header"]
|======================
|Property|Type|Description

|cardinalityLimit|int|  *(optional)* CardinalityLimit defines the cardinality limit for index queries.

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|queryTimeout|string|  *(optional)* Timeout when querying ingesters or storage during the execution of a query request.

|======================

[id="logging-5-x-reference-RecordingRule"]
== RecordingRule

RecordingRule is the Schema for the recordingrules API

[options="header"]
|======================
|Property|Type|Description

|spec|object|  
|status|object|  
|======================

=== .spec

RecordingRuleSpec defines the desired state of RecordingRule

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groups|array|  *(optional)* List of groups for recording rules.

|tenantID|string|  TenantID of tenant where the recording rules are evaluated in.

|======================

=== .spec.groups[]

Type:: array

=== .status

RecordingRuleStatus defines the observed state of RecordingRule

Type:: object

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the RecordingRule generation health.

|======================

=== .status.conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-RecordingRuleGroup"]
== RecordingRuleGroup

RecordingRuleGroup defines a group of Loki  recording rules.

[options="header"]
|======================
|Property|Type|Description

|interval|string|  *(optional)* Interval defines the time interval between evaluation of the given
recoding rule.

|limit|int|  *(optional)* Limit defines the number of series a recording rule can produce. 0 is no limit.

|name|string|  Name of the recording rule group. Must be unique within all recording rules.

|rules|array|  Rules defines a list of recording rules

|======================

=== .rules[]

Type:: array

[id="logging-5-x-reference-RecordingRuleGroupSpec"]
== RecordingRuleGroupSpec

RecordingRuleGroupSpec defines the spec for a Loki recording rule.

[options="header"]
|======================
|Property|Type|Description

|expr|string|  The LogQL expression to evaluate. Every evaluation cycle this is
evaluated at the current time, and all resultant time series become
pending/firing alerts.

|labels|object|  *(optional)* Labels to add to each recording rule.

|record|string|  *(optional)* The name of the time series to output to. Must be a valid metric name.

|======================

=== .labels

Type:: object

[id="logging-5-x-reference-RecordingRuleSpec"]
== RecordingRuleSpec

RecordingRuleSpec defines the desired state of RecordingRule

[options="header"]
|======================
|Property|Type|Description

|groups|array|  *(optional)* List of groups for recording rules.

|tenantID|string|  TenantID of tenant where the recording rules are evaluated in.

|======================

=== .groups[]

Type:: array

[id="logging-5-x-reference-RecordingRuleStatus"]
== RecordingRuleStatus

RecordingRuleStatus defines the observed state of RecordingRule

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the RecordingRule generation health.

|======================

=== .conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-RelabelActionType"]
== RelabelActionType

RelabelActionType defines the enumeration type for RelabelConfig actions.

[id="logging-5-x-reference-RelabelConfig"]
== RelabelConfig

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .sourceLabels[]

Type:: array

[id="logging-5-x-reference-RemoteWriteAuthType"]
== RemoteWriteAuthType

RemoteWriteAuthType defines the type of authorization to use to access the remote write endpoint.

[id="logging-5-x-reference-RemoteWriteClientQueueSpec"]
== RemoteWriteClientQueueSpec

RemoteWriteClientQueueSpec defines the configuration of the remote write client queue.

[options="header"]
|======================
|Property|Type|Description

|batchSendDeadline|string|  *(optional)* Maximum time a sample will wait in buffer.

|capacity|int|  *(optional)* Number of samples to buffer per shard before we block reading of more

|maxBackOffPeriod|string|  *(optional)* Maximum retry delay.

|maxSamplesPerSend|int|  *(optional)* Maximum number of samples per send.

|maxShards|int|  *(optional)* Maximum number of shards, i.e. amount of concurrency.

|minBackOffPeriod|string|  *(optional)* Initial retry delay. Gets doubled for every retry.

|minShards|int|  *(optional)* Minimum number of shards, i.e. amount of concurrency.

|======================

[id="logging-5-x-reference-RemoteWriteClientSpec"]
== RemoteWriteClientSpec

RemoteWriteClientSpec defines the configuration of the remote write client.

[options="header"]
|======================
|Property|Type|Description

|additionalHeaders|object|  *(optional)* Additional HTTP headers to be sent along with each remote write request.

|authorization|string|  Type of authorzation to use to access the remote write endpoint

|authorizationSecretName|string|  Name of a secret in the namespace configured for authorization secrets.

|followRedirects|bool|  *(optional)* Configure whether HTTP requests follow HTTP 3xx redirects.

|name|string|  Name of the remote write config, which if specified must be unique among remote write configs.

|proxyUrl|string|  *(optional)* Optional proxy URL.

|relabelConfigs|array|  *(optional)* List of remote write relabel configurations.

|timeout|string|  *(optional)* Timeout for requests to the remote write endpoint.

|url|string|  The URL of the endpoint to send samples to.

|======================

=== .additionalHeaders

Type:: object

=== .relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .relabelConfigs[].sourceLabels[]

Type:: array

[id="logging-5-x-reference-RemoteWriteSpec"]
== RemoteWriteSpec

RemoteWriteSpec defines the configuration for ruler&#39;s remote_write connectivity.

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Defines the configuration for remote write client.

|enabled|bool|  *(optional)* Enable remote-write functionality.

|queue|object|  *(optional)* Defines the configuration for remote write client queue.

|refreshPeriod|string|  *(optional)* Minimum period to wait between refreshing remote-write reconfigurations.

|======================

=== .client

RemoteWriteClientSpec defines the configuration of the remote write client.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|additionalHeaders|object|  *(optional)* Additional HTTP headers to be sent along with each remote write request.

|authorization|string|  Type of authorzation to use to access the remote write endpoint

|authorizationSecretName|string|  Name of a secret in the namespace configured for authorization secrets.

|followRedirects|bool|  *(optional)* Configure whether HTTP requests follow HTTP 3xx redirects.

|name|string|  Name of the remote write config, which if specified must be unique among remote write configs.

|proxyUrl|string|  *(optional)* Optional proxy URL.

|relabelConfigs|array|  *(optional)* List of remote write relabel configurations.

|timeout|string|  *(optional)* Timeout for requests to the remote write endpoint.

|url|string|  The URL of the endpoint to send samples to.

|======================

=== .client.additionalHeaders

Type:: object

=== .client.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .client.relabelConfigs[].sourceLabels[]

Type:: array

=== .queue

RemoteWriteClientQueueSpec defines the configuration of the remote write client queue.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|batchSendDeadline|string|  *(optional)* Maximum time a sample will wait in buffer.

|capacity|int|  *(optional)* Number of samples to buffer per shard before we block reading of more

|maxBackOffPeriod|string|  *(optional)* Maximum retry delay.

|maxSamplesPerSend|int|  *(optional)* Maximum number of samples per send.

|maxShards|int|  *(optional)* Maximum number of shards, i.e. amount of concurrency.

|minBackOffPeriod|string|  *(optional)* Initial retry delay. Gets doubled for every retry.

|minShards|int|  *(optional)* Minimum number of shards, i.e. amount of concurrency.

|======================

[id="logging-5-x-reference-ReplicationSpec"]
== ReplicationSpec

[options="header"]
|======================
|Property|Type|Description

|factor|int|  *(optional)* Factor defines the policy for log stream replication.

|zones|array|  *(optional)* Zones defines an array of ZoneSpec that the scheduler will try to satisfy.
IMPORTANT: Make sure that the replication factor defined is less than or equal to the number of available zones.

|======================

=== .zones[]

ZoneSpec defines the spec to support zone-aware component deployments.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|maxSkew|int|  MaxSkew describes the maximum degree to which Pods can be unevenly distributed.

|topologyKey|string|  TopologyKey is the key that defines a topology in the Nodes&#39; labels.

|======================

[id="logging-5-x-reference-RetentionLimitSpec"]
== RetentionLimitSpec

RetentionLimitSpec controls how long logs will be kept in storage.

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|streams|array|  *(optional)* Stream defines the log stream.

|======================

=== .streams[]

Type:: array

[id="logging-5-x-reference-RetentionStreamSpec"]
== RetentionStreamSpec

RetentionStreamSpec defines a log stream with separate retention time.

[options="header"]
|======================
|Property|Type|Description

|days|int|  Days contains the number of days logs are kept.

|priority|int|  *(optional)* Priority defines the priority of this selector compared to other retention rules.

|selector|string|  Selector contains the LogQL query used to define the log stream.

|======================

[id="logging-5-x-reference-RoleBindingsSpec"]
== RoleBindingsSpec

RoleBindingsSpec binds a set of roles to a set of subjects.

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .roles[]

Type:: array

=== .subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

[id="logging-5-x-reference-RoleSpec"]
== RoleSpec

RoleSpec describes a set of permissions to interact with a tenant.

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .resources[]

Type:: array

=== .tenants[]

Type:: array

[id="logging-5-x-reference-RulerConfig"]
== RulerConfig

RulerConfig is the Schema for the rulerconfigs API

[options="header"]
|======================
|Property|Type|Description

|spec|object|  
|status|object|  
|======================

=== .spec

RulerConfigSpec defines the desired state of Ruler

Type:: object

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* Defines alert manager configuration to notify on firing alerts.

|evaluationInterval|string|  *(optional)* Interval on how frequently to evaluate rules.

|overrides|object|  *(optional)* Overrides defines the config overrides to be applied per-tenant.

|pollInterval|string|  *(optional)* Interval on how frequently to poll for new rule definitions.

|remoteWrite|object|  *(optional)* Defines a remote write endpoint to write recording rule metrics.

|======================

=== .spec.alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .spec.alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .spec.alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .spec.alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .spec.alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .spec.alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .spec.alertmanager.endpoints[]

Type:: array

=== .spec.alertmanager.externalLabels

Type:: object

=== .spec.alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .spec.alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .spec.alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

=== .spec.overrides

RulerOverrides defines the overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* AlertManagerOverrides defines the overrides to apply to the alertmanager config.

|======================

=== .spec.overrides.alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .spec.overrides.alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .spec.overrides.alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .spec.overrides.alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .spec.overrides.alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .spec.overrides.alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .spec.overrides.alertmanager.endpoints[]

Type:: array

=== .spec.overrides.alertmanager.externalLabels

Type:: object

=== .spec.overrides.alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .spec.overrides.alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .spec.overrides.alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

=== .spec.remoteWrite

RemoteWriteSpec defines the configuration for ruler&#39;s remote_write connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Defines the configuration for remote write client.

|enabled|bool|  *(optional)* Enable remote-write functionality.

|queue|object|  *(optional)* Defines the configuration for remote write client queue.

|refreshPeriod|string|  *(optional)* Minimum period to wait between refreshing remote-write reconfigurations.

|======================

=== .spec.remoteWrite.client

RemoteWriteClientSpec defines the configuration of the remote write client.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|additionalHeaders|object|  *(optional)* Additional HTTP headers to be sent along with each remote write request.

|authorization|string|  Type of authorzation to use to access the remote write endpoint

|authorizationSecretName|string|  Name of a secret in the namespace configured for authorization secrets.

|followRedirects|bool|  *(optional)* Configure whether HTTP requests follow HTTP 3xx redirects.

|name|string|  Name of the remote write config, which if specified must be unique among remote write configs.

|proxyUrl|string|  *(optional)* Optional proxy URL.

|relabelConfigs|array|  *(optional)* List of remote write relabel configurations.

|timeout|string|  *(optional)* Timeout for requests to the remote write endpoint.

|url|string|  The URL of the endpoint to send samples to.

|======================

=== .spec.remoteWrite.client.additionalHeaders

Type:: object

=== .spec.remoteWrite.client.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .spec.remoteWrite.client.relabelConfigs[].sourceLabels[]

Type:: array

=== .spec.remoteWrite.queue

RemoteWriteClientQueueSpec defines the configuration of the remote write client queue.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|batchSendDeadline|string|  *(optional)* Maximum time a sample will wait in buffer.

|capacity|int|  *(optional)* Number of samples to buffer per shard before we block reading of more

|maxBackOffPeriod|string|  *(optional)* Maximum retry delay.

|maxSamplesPerSend|int|  *(optional)* Maximum number of samples per send.

|maxShards|int|  *(optional)* Maximum number of shards, i.e. amount of concurrency.

|minBackOffPeriod|string|  *(optional)* Initial retry delay. Gets doubled for every retry.

|minShards|int|  *(optional)* Minimum number of shards, i.e. amount of concurrency.

|======================

=== .status

RulerConfigStatus defines the observed state of RulerConfig

Type:: object

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the RulerConfig health.

|======================

=== .status.conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-RulerConfigSpec"]
== RulerConfigSpec

RulerConfigSpec defines the desired state of Ruler

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* Defines alert manager configuration to notify on firing alerts.

|evaluationInterval|string|  *(optional)* Interval on how frequently to evaluate rules.

|overrides|object|  *(optional)* Overrides defines the config overrides to be applied per-tenant.

|pollInterval|string|  *(optional)* Interval on how frequently to poll for new rule definitions.

|remoteWrite|object|  *(optional)* Defines a remote write endpoint to write recording rule metrics.

|======================

=== .alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .alertmanager.endpoints[]

Type:: array

=== .alertmanager.externalLabels

Type:: object

=== .alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

=== .overrides

RulerOverrides defines the overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* AlertManagerOverrides defines the overrides to apply to the alertmanager config.

|======================

=== .overrides.alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .overrides.alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .overrides.alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .overrides.alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .overrides.alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .overrides.alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .overrides.alertmanager.endpoints[]

Type:: array

=== .overrides.alertmanager.externalLabels

Type:: object

=== .overrides.alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .overrides.alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .overrides.alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

=== .remoteWrite

RemoteWriteSpec defines the configuration for ruler&#39;s remote_write connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Defines the configuration for remote write client.

|enabled|bool|  *(optional)* Enable remote-write functionality.

|queue|object|  *(optional)* Defines the configuration for remote write client queue.

|refreshPeriod|string|  *(optional)* Minimum period to wait between refreshing remote-write reconfigurations.

|======================

=== .remoteWrite.client

RemoteWriteClientSpec defines the configuration of the remote write client.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|additionalHeaders|object|  *(optional)* Additional HTTP headers to be sent along with each remote write request.

|authorization|string|  Type of authorzation to use to access the remote write endpoint

|authorizationSecretName|string|  Name of a secret in the namespace configured for authorization secrets.

|followRedirects|bool|  *(optional)* Configure whether HTTP requests follow HTTP 3xx redirects.

|name|string|  Name of the remote write config, which if specified must be unique among remote write configs.

|proxyUrl|string|  *(optional)* Optional proxy URL.

|relabelConfigs|array|  *(optional)* List of remote write relabel configurations.

|timeout|string|  *(optional)* Timeout for requests to the remote write endpoint.

|url|string|  The URL of the endpoint to send samples to.

|======================

=== .remoteWrite.client.additionalHeaders

Type:: object

=== .remoteWrite.client.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .remoteWrite.client.relabelConfigs[].sourceLabels[]

Type:: array

=== .remoteWrite.queue

RemoteWriteClientQueueSpec defines the configuration of the remote write client queue.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|batchSendDeadline|string|  *(optional)* Maximum time a sample will wait in buffer.

|capacity|int|  *(optional)* Number of samples to buffer per shard before we block reading of more

|maxBackOffPeriod|string|  *(optional)* Maximum retry delay.

|maxSamplesPerSend|int|  *(optional)* Maximum number of samples per send.

|maxShards|int|  *(optional)* Maximum number of shards, i.e. amount of concurrency.

|minBackOffPeriod|string|  *(optional)* Initial retry delay. Gets doubled for every retry.

|minShards|int|  *(optional)* Minimum number of shards, i.e. amount of concurrency.

|======================

[id="logging-5-x-reference-RulerConfigStatus"]
== RulerConfigStatus

RulerConfigStatus defines the observed state of RulerConfig

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the RulerConfig health.

|======================

=== .conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-RulerOverrides"]
== RulerOverrides

RulerOverrides defines the overrides applied per-tenant.

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* AlertManagerOverrides defines the overrides to apply to the alertmanager config.

|======================

=== .alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .alertmanager.endpoints[]

Type:: array

=== .alertmanager.externalLabels

Type:: object

=== .alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

[id="logging-5-x-reference-RulesSpec"]
== RulesSpec

RulesSpec defines the spec for the ruler component.

[options="header"]
|======================
|Property|Type|Description

|enabled|bool|  Enabled defines a flag to enable/disable the ruler component

|namespaceSelector|object|  *(optional)* Namespaces to be selected for PrometheusRules discovery. If unspecified, only
the same namespace as the LokiStack object is in is used.

|selector|object|  *(optional)* A selector to select which LokiRules to mount for loading alerting/recording
rules from.

|======================

=== .namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .namespaceSelector.matchExpressions[].values[]

Type:: array

=== .namespaceSelector.matchLabels

Type:: object

=== .selector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .selector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .selector.matchExpressions[].values[]

Type:: array

=== .selector.matchLabels

Type:: object[id="logging-5-x-reference-StorageSchemaEffectiveDate"]
== StorageSchemaEffectiveDate

StorageSchemaEffectiveDate defines the type for the Storage Schema Effect Date

[id="logging-5-x-reference-Subject"]
== Subject

Subject represents a subject that has been bound to a role.

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

[id="logging-5-x-reference-SubjectKind"]
== SubjectKind

SubjectKind is a kind of LokiStack Gateway RBAC subject.

[id="logging-5-x-reference-TenantSecretSpec"]
== TenantSecretSpec

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

[id="logging-5-x-reference-TenantsSpec"]
== TenantsSpec

TenantsSpec defines the mode, authentication and authorization
configuration of the lokiStack gateway component.

[options="header"]
|======================
|Property|Type|Description

|authentication|array|  *(optional)* Authentication defines the lokistack-gateway component authentication configuration spec per tenant.

|authorization|object|  *(optional)* Authorization defines the lokistack-gateway component authorization configuration spec per tenant.

|mode|string|  Mode defines the mode in which lokistack-gateway component will be configured.

|openshift|object|  *(optional)* Openshift defines the configuration specific to Openshift modes.

|======================

=== .authentication[]

AuthenticationSpec defines the oidc configuration per tenant for lokiStack Gateway component.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|mTLS|object|  *(optional)* TLSConfig defines the spec for the mTLS tenant&#39;s authentication.

|oidc|object|  *(optional)* OIDC defines the spec for the OIDC tenant&#39;s authentication.

|tenantId|string|  TenantID defines the id of the tenant.

|tenantName|string|  TenantName defines the name of the tenant.

|======================

=== .authentication[].mTLS

MTLSSpec specifies mTLS configuration parameters.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ca|object|  CA defines the spec for the custom CA for tenant&#39;s authentication.

|======================

=== .authentication[].mTLS.ca

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .authentication[].oidc

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerCA|object|  *(optional)* IssuerCA defines the spec for the issuer CA for tenant&#39;s authentication.

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID and clientSecret for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .authentication[].oidc.issuerCA

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caKey|string|  *(optional)* Key is the data key of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.
If empty, it defaults to &#34;service-ca.crt&#34;.

|caName|string|  CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .authentication[].oidc.secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

=== .authorization

AuthorizationSpec defines the opa, role bindings and roles
configuration per tenant for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|opa|object|  *(optional)* OPA defines the spec for the third-party endpoint for tenant&#39;s authorization.

|roleBindings|array|  *(optional)* RoleBindings defines configuration to bind a set of roles to a set of subjects.

|roles|array|  *(optional)* Roles defines a set of permissions to interact with a tenant.

|======================

=== .authorization.opa

OPASpec defines the opa configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

=== .authorization.roleBindings[]

RoleBindingsSpec binds a set of roles to a set of subjects.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .authorization.roleBindings[].roles[]

Type:: array

=== .authorization.roleBindings[].subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

=== .authorization.roles[]

RoleSpec describes a set of permissions to interact with a tenant.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .authorization.roles[].permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .authorization.roles[].resources[]

Type:: array

=== .authorization.roles[].tenants[]

Type:: array

=== .openshift

OpenshiftTenantSpec defines the configuration specific to Openshift modes.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|adminGroups|array|  *(optional)* AdminGroups defines a list of groups, whose members are considered to have admin-privileges by the Loki Operator.
Setting this to an empty array disables admin groups.

By default the following groups are considered admin-groups:
 - system:cluster-admins
 - cluster-admin
 - dedicated-admin

|======================

=== .openshift.adminGroups[]

Type:: array

[id="logging-5-x-reference-ZoneSpec"]
== ZoneSpec

ZoneSpec defines the spec to support zone-aware component deployments.

[options="header"]
|======================
|Property|Type|Description

|maxSkew|int|  MaxSkew describes the maximum degree to which Pods can be unevenly distributed.

|topologyKey|string|  TopologyKey is the key that defines a topology in the Nodes&#39; labels.

|======================

[id="logging-5-x-reference-AlertManagerClientBasicAuth"]
== AlertManagerClientBasicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

[id="logging-5-x-reference-AlertManagerClientConfig"]
== AlertManagerClientConfig

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

[id="logging-5-x-reference-AlertManagerClientHeaderAuth"]
== AlertManagerClientHeaderAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

[id="logging-5-x-reference-AlertManagerClientTLSConfig"]
== AlertManagerClientTLSConfig

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

[id="logging-5-x-reference-AlertManagerDiscoverySpec"]
== AlertManagerDiscoverySpec

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

[id="logging-5-x-reference-AlertManagerNotificationQueueSpec"]
== AlertManagerNotificationQueueSpec

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

[id="logging-5-x-reference-AlertManagerSpec"]
== AlertManagerSpec

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .endpoints[]

Type:: array

=== .externalLabels

Type:: object

=== .notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .relabelConfigs[].sourceLabels[]

Type:: array

[id="logging-5-x-reference-AlertingRule"]
== AlertingRule

AlertingRule is the Schema for the alertingrules API

[options="header"]
|======================
|Property|Type|Description

|spec|object|  
|status|object|  
|======================

=== .spec

AlertingRuleSpec defines the desired state of AlertingRule

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groups|array|  *(optional)* List of groups for alerting rules.

|tenantID|string|  TenantID of tenant where the alerting rules are evaluated in.

|======================

=== .spec.groups[]

Type:: array

=== .status

AlertingRuleStatus defines the observed state of AlertingRule

Type:: object

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the AlertingRule generation health.

|======================

=== .status.conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-AlertingRuleGroup"]
== AlertingRuleGroup

AlertingRuleGroup defines a group of Loki alerting rules.

[options="header"]
|======================
|Property|Type|Description

|interval|string|  *(optional)* Interval defines the time interval between evaluation of the given
alerting rule.

|limit|int|  *(optional)* Limit defines the number of alerts an alerting rule can produce. 0 is no limit.

|name|string|  Name of the alerting rule group. Must be unique within all alerting rules.

|rules|array|  Rules defines a list of alerting rules

|======================

=== .rules[]

Type:: array

[id="logging-5-x-reference-AlertingRuleGroupSpec"]
== AlertingRuleGroupSpec

AlertingRuleGroupSpec defines the spec for a Loki alerting rule.

[options="header"]
|======================
|Property|Type|Description

|alert|string|  *(optional)* The name of the alert. Must be a valid label value.

|annotations|object|  *(optional)* Annotations to add to each alert.

|expr|string|  The LogQL expression to evaluate. Every evaluation cycle this is
evaluated at the current time, and all resultant time series become
pending/firing alerts.

|for|string|  *(optional)* Alerts are considered firing once they have been returned for this long.
Alerts which have not yet fired for long enough are considered pending.

|labels|object|  *(optional)* Labels to add to each alert.

|======================

=== .annotations

Type:: object

=== .labels

Type:: object[id="logging-5-x-reference-AlertingRuleSpec"]
== AlertingRuleSpec

AlertingRuleSpec defines the desired state of AlertingRule

[options="header"]
|======================
|Property|Type|Description

|groups|array|  *(optional)* List of groups for alerting rules.

|tenantID|string|  TenantID of tenant where the alerting rules are evaluated in.

|======================

=== .groups[]

Type:: array

[id="logging-5-x-reference-AlertingRuleStatus"]
== AlertingRuleStatus

AlertingRuleStatus defines the observed state of AlertingRule

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the AlertingRule generation health.

|======================

=== .conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-AuthenticationSpec"]
== AuthenticationSpec

AuthenticationSpec defines the oidc configuration per tenant for lokiStack Gateway component.

[options="header"]
|======================
|Property|Type|Description

|oidc|object|  OIDC defines the spec for the OIDC tenant&#39;s authentication.

|tenantId|string|  TenantID defines the id of the tenant.

|tenantName|string|  TenantName defines the name of the tenant.

|======================

=== .oidc

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID, clientSecret and issuerCAPath for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .oidc.secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

[id="logging-5-x-reference-AuthorizationSpec"]
== AuthorizationSpec

AuthorizationSpec defines the opa, role bindings and roles
configuration per tenant for lokiStack Gateway component.

[options="header"]
|======================
|Property|Type|Description

|opa|object|  *(optional)* OPA defines the spec for the third-party endpoint for tenant&#39;s authorization.

|roleBindings|array|  *(optional)* RoleBindings defines configuration to bind a set of roles to a set of subjects.

|roles|array|  *(optional)* Roles defines a set of permissions to interact with a tenant.

|======================

=== .opa

OPASpec defines the opa configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

=== .roleBindings[]

RoleBindingsSpec binds a set of roles to a set of subjects.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .roleBindings[].roles[]

Type:: array

=== .roleBindings[].subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

=== .roles[]

RoleSpec describes a set of permissions to interact with a tenant.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .roles[].permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .roles[].resources[]

Type:: array

=== .roles[].tenants[]

Type:: array

[id="logging-5-x-reference-IngestionLimitSpec"]
== IngestionLimitSpec

IngestionLimitSpec defines the limits applied at the ingestion path.

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|======================

[id="logging-5-x-reference-LimitsSpec"]
== LimitsSpec

LimitsSpec defines the spec for limits applied at ingestion or query
path across the cluster or per tenant.
It also defines the per-tenant configuration overrides.

[options="header"]
|======================
|Property|Type|Description

|global|object|  *(optional)* Global defines the limits applied globally across the cluster.

|tenants|object|  *(optional)* Tenants defines the limits and overrides applied per tenant.

|======================

=== .global

LimitsTemplateSpec defines the limits and overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|======================

=== .global.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|======================

=== .global.queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|======================

=== .tenants

LimitsTemplateSpec defines the limits and overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|======================

=== .tenants.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|======================

=== .tenants.queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|======================

[id="logging-5-x-reference-LimitsTemplateSpec"]
== LimitsTemplateSpec

LimitsTemplateSpec defines the limits and overrides applied per-tenant.

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|======================

=== .ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|======================

=== .queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|======================

[id="logging-5-x-reference-LokiComponentSpec"]
== LokiComponentSpec

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .nodeSelector

Type:: object

=== .tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .tolerations[].tolerationSeconds

Type:: int

[id="logging-5-x-reference-LokiStack"]
== LokiStack

LokiStack is the Schema for the lokistacks API

[options="header"]
|======================
|Property|Type|Description

|spec|object|  
|status|object|  
|======================

=== .spec

LokiStackSpec defines the desired state of LokiStack

Type:: object

[options="header"]
|======================
|Property|Type|Description

|limits|object|  *(optional)* Limits defines the per-tenant limits to be applied to log stream processing and the per-tenant the config overrides.

|managementState|string|  ManagementState defines if the CR should be managed by the operator or not.
Default is managed.

|replicationFactor|int|  *(optional)* ReplicationFactor defines the policy for log stream replication.

|rules|object|  *(optional)* Rules defines the spec for the ruler component

|size|string|  Size defines one of the support Loki deployment scale out sizes.

|storage|object|  Storage defines the spec for the object storage endpoint to store logs.

|storageClassName|string|  Storage class name defines the storage class for ingester/querier PVCs.

|template|object|  *(optional)* Template defines the resource/limits/tolerations/nodeselectors per component

|tenants|object|  *(optional)* Tenants defines the per-tenant authentication and authorization spec for the lokistack-gateway component.

|======================

=== .spec.limits

LimitsSpec defines the spec for limits applied at ingestion or query
path across the cluster or per tenant.
It also defines the per-tenant configuration overrides.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|global|object|  *(optional)* Global defines the limits applied globally across the cluster.

|tenants|object|  *(optional)* Tenants defines the limits and overrides applied per tenant.

|======================

=== .spec.limits.global

LimitsTemplateSpec defines the limits and overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|======================

=== .spec.limits.global.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|======================

=== .spec.limits.global.queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|======================

=== .spec.limits.tenants

LimitsTemplateSpec defines the limits and overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|======================

=== .spec.limits.tenants.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|======================

=== .spec.limits.tenants.queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|======================

=== .spec.rules

RulesSpec deifnes the spec for the ruler component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enabled|bool|  Enabled defines a flag to enable/disable the ruler component

|namespaceSelector|object|  *(optional)* Namespaces to be selected for PrometheusRules discovery. If unspecified, only
the same namespace as the LokiStack object is in is used.

|selector|object|  *(optional)* A selector to select which LokiRules to mount for loading alerting/recording
rules from.

|======================

=== .spec.rules.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.rules.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.rules.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .spec.rules.namespaceSelector.matchLabels

Type:: object

=== .spec.rules.selector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .spec.rules.selector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .spec.rules.selector.matchExpressions[].values[]

Type:: array

=== .spec.rules.selector.matchLabels

Type:: object

=== .spec.storage

ObjectStorageSpec defines the requirements to access the object
storage bucket to persist logs by the ingester component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|schemas|array|  *(optional)* Schemas for reading and writing logs.

|secret|object|  Secret for object storage authentication.
Name of a secret in the same namespace as the LokiStack custom resource.

|tls|object|  *(optional)* TLS configuration for reaching the object storage endpoint.

|======================

=== .spec.storage.schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

=== .spec.storage.secret

ObjectStorageSecretSpec is a secret reference containing name only, no namespace.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for object storage secrets.

|type|string|  Type of object storage that should be used

|======================

=== .spec.storage.tls

ObjectStorageTLSSpec is the TLS configuration for reaching the object storage endpoint.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caName|string|  *(optional)* CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .spec.template

LokiTemplateSpec defines the template of all requirements to configure
scheduling of all Loki components to be deployed.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|compactor|object|  *(optional)* Compactor defines the compaction component spec.

|distributor|object|  *(optional)* Distributor defines the distributor component spec.

|gateway|object|  *(optional)* Gateway defines the lokistack gateway component spec.

|indexGateway|object|  *(optional)* IndexGateway defines the index gateway component spec.

|ingester|object|  *(optional)* Ingester defines the ingester component spec.

|querier|object|  *(optional)* Querier defines the querier component spec.

|queryFrontend|object|  *(optional)* QueryFrontend defines the query frontend component spec.

|ruler|object|  *(optional)* Ruler defines the ruler component spec.

|======================

=== .spec.template.compactor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.compactor.nodeSelector

Type:: object

=== .spec.template.compactor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.compactor.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.distributor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.distributor.nodeSelector

Type:: object

=== .spec.template.distributor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.distributor.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.gateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.gateway.nodeSelector

Type:: object

=== .spec.template.gateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.gateway.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.indexGateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.indexGateway.nodeSelector

Type:: object

=== .spec.template.indexGateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.indexGateway.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.ingester

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.ingester.nodeSelector

Type:: object

=== .spec.template.ingester.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.ingester.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.querier

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.querier.nodeSelector

Type:: object

=== .spec.template.querier.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.querier.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.queryFrontend

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.queryFrontend.nodeSelector

Type:: object

=== .spec.template.queryFrontend.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.queryFrontend.tolerations[].tolerationSeconds

Type:: int

=== .spec.template.ruler

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .spec.template.ruler.nodeSelector

Type:: object

=== .spec.template.ruler.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .spec.template.ruler.tolerations[].tolerationSeconds

Type:: int

=== .spec.tenants

TenantsSpec defines the mode, authentication and authorization
configuration of the lokiStack gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|authentication|array|  *(optional)* Authentication defines the lokistack-gateway component authentication configuration spec per tenant.

|authorization|object|  *(optional)* Authorization defines the lokistack-gateway component authorization configuration spec per tenant.

|mode|string|  Mode defines the mode in which lokistack-gateway component will be configured.

|======================

=== .spec.tenants.authentication[]

AuthenticationSpec defines the oidc configuration per tenant for lokiStack Gateway component.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|oidc|object|  OIDC defines the spec for the OIDC tenant&#39;s authentication.

|tenantId|string|  TenantID defines the id of the tenant.

|tenantName|string|  TenantName defines the name of the tenant.

|======================

=== .spec.tenants.authentication[].oidc

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID, clientSecret and issuerCAPath for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .spec.tenants.authentication[].oidc.secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

=== .spec.tenants.authorization

AuthorizationSpec defines the opa, role bindings and roles
configuration per tenant for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|opa|object|  *(optional)* OPA defines the spec for the third-party endpoint for tenant&#39;s authorization.

|roleBindings|array|  *(optional)* RoleBindings defines configuration to bind a set of roles to a set of subjects.

|roles|array|  *(optional)* Roles defines a set of permissions to interact with a tenant.

|======================

=== .spec.tenants.authorization.opa

OPASpec defines the opa configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

=== .spec.tenants.authorization.roleBindings[]

RoleBindingsSpec binds a set of roles to a set of subjects.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .spec.tenants.authorization.roleBindings[].roles[]

Type:: array

=== .spec.tenants.authorization.roleBindings[].subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

=== .spec.tenants.authorization.roles[]

RoleSpec describes a set of permissions to interact with a tenant.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .spec.tenants.authorization.roles[].permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .spec.tenants.authorization.roles[].resources[]

Type:: array

=== .spec.tenants.authorization.roles[].tenants[]

Type:: array

=== .status

LokiStackStatus defines the observed state of LokiStack

Type:: object

[options="header"]
|======================
|Property|Type|Description

|components|object|  *(optional)* Components provides summary of all Loki pod status grouped
per component.

|conditions|array|  *(optional)* Conditions of the Loki deployment health.

|storage|object|  *(optional)* Storage provides summary of all changes that have occurred
to the storage configuration.

|======================

=== .status.components

LokiStackComponentStatus defines the map of per pod status per LokiStack component.
Each component is represented by a separate map of v1.Phase to a list of pods.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|compactor|string|  *(optional)* Compactor is a map to the pod status of the compactor pod.

|distributor|string|  *(optional)* Distributor is a map to the per pod status of the distributor deployment

|gateway|string|  *(optional)* Gateway is a map to the per pod status of the lokistack gateway deployment.

|indexGateway|string|  *(optional)* IndexGateway is a map to the per pod status of the index gateway statefulset

|ingester|string|  *(optional)* Ingester is a map to the per pod status of the ingester statefulset

|querier|string|  *(optional)* Querier is a map to the per pod status of the querier deployment

|queryFrontend|string|  *(optional)* QueryFrontend is a map to the per pod status of the query frontend deployment

|ruler|string|  *(optional)* Ruler is a map to the per pod status of the lokistack ruler statefulset.

|======================

=== .status.conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

=== .status.storage

LokiStackStorageStatus defines the observed state of
the Loki storage configuration.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|schemas|array|  *(optional)* Schemas is a list of schemas which have been applied
to the LokiStack.

|======================

=== .status.storage.schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

[id="logging-5-x-reference-LokiStackComponentStatus"]
== LokiStackComponentStatus

LokiStackComponentStatus defines the map of per pod status per LokiStack component.
Each component is represented by a separate map of v1.Phase to a list of pods.

[options="header"]
|======================
|Property|Type|Description

|compactor|string|  *(optional)* Compactor is a map to the pod status of the compactor pod.

|distributor|string|  *(optional)* Distributor is a map to the per pod status of the distributor deployment

|gateway|string|  *(optional)* Gateway is a map to the per pod status of the lokistack gateway deployment.

|indexGateway|string|  *(optional)* IndexGateway is a map to the per pod status of the index gateway statefulset

|ingester|string|  *(optional)* Ingester is a map to the per pod status of the ingester statefulset

|querier|string|  *(optional)* Querier is a map to the per pod status of the querier deployment

|queryFrontend|string|  *(optional)* QueryFrontend is a map to the per pod status of the query frontend deployment

|ruler|string|  *(optional)* Ruler is a map to the per pod status of the lokistack ruler statefulset.

|======================

[id="logging-5-x-reference-LokiStackConditionReason"]
== LokiStackConditionReason

LokiStackConditionReason defines the type for valid reasons of a Loki deployment conditions.
[id="logging-5-x-reference-LokiStackConditionType"]
== LokiStackConditionType

LokiStackConditionType deifnes the type of condition types of a Loki deployment.
[id="logging-5-x-reference-LokiStackSizeType"]
== LokiStackSizeType

LokiStackSizeType declares the type for loki cluster scale outs.

[id="logging-5-x-reference-LokiStackSpec"]
== LokiStackSpec

LokiStackSpec defines the desired state of LokiStack

[options="header"]
|======================
|Property|Type|Description

|limits|object|  *(optional)* Limits defines the per-tenant limits to be applied to log stream processing and the per-tenant the config overrides.

|managementState|string|  ManagementState defines if the CR should be managed by the operator or not.
Default is managed.

|replicationFactor|int|  *(optional)* ReplicationFactor defines the policy for log stream replication.

|rules|object|  *(optional)* Rules defines the spec for the ruler component

|size|string|  Size defines one of the support Loki deployment scale out sizes.

|storage|object|  Storage defines the spec for the object storage endpoint to store logs.

|storageClassName|string|  Storage class name defines the storage class for ingester/querier PVCs.

|template|object|  *(optional)* Template defines the resource/limits/tolerations/nodeselectors per component

|tenants|object|  *(optional)* Tenants defines the per-tenant authentication and authorization spec for the lokistack-gateway component.

|======================

=== .limits

LimitsSpec defines the spec for limits applied at ingestion or query
path across the cluster or per tenant.
It also defines the per-tenant configuration overrides.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|global|object|  *(optional)* Global defines the limits applied globally across the cluster.

|tenants|object|  *(optional)* Tenants defines the limits and overrides applied per tenant.

|======================

=== .limits.global

LimitsTemplateSpec defines the limits and overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|======================

=== .limits.global.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|======================

=== .limits.global.queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|======================

=== .limits.tenants

LimitsTemplateSpec defines the limits and overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestion|object|  *(optional)* IngestionLimits defines the limits applied on ingested log streams.

|queries|object|  *(optional)* QueryLimits defines the limit applied on querying log streams.

|======================

=== .limits.tenants.ingestion

IngestionLimitSpec defines the limits applied at the ingestion path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|ingestionBurstSize|int|  *(optional)* IngestionBurstSize defines the local rate-limited sample size per
distributor replica. It should be set to the set at least to the
maximum logs size expected in a single push request.

|ingestionRate|int|  *(optional)* IngestionRate defines the sample size per second. Units MB.

|maxGlobalStreamsPerTenant|int|  *(optional)* MaxGlobalStreamsPerTenant defines the maximum number of active streams
per tenant, across the cluster.

|maxLabelNameLength|int|  *(optional)* MaxLabelNameLength defines the maximum number of characters allowed
for label keys in log streams.

|maxLabelNamesPerSeries|int|  *(optional)* MaxLabelNamesPerSeries defines the maximum number of label names per series
in each log stream.

|maxLabelValueLength|int|  *(optional)* MaxLabelValueLength defines the maximum number of characters allowed
for label values in log streams.

|maxLineSize|int|  *(optional)* MaxLineSize defines the maximum line size on ingestion path. Units in Bytes.

|======================

=== .limits.tenants.queries

QueryLimitSpec defines the limits applies at the query path.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|======================

=== .rules

RulesSpec deifnes the spec for the ruler component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enabled|bool|  Enabled defines a flag to enable/disable the ruler component

|namespaceSelector|object|  *(optional)* Namespaces to be selected for PrometheusRules discovery. If unspecified, only
the same namespace as the LokiStack object is in is used.

|selector|object|  *(optional)* A selector to select which LokiRules to mount for loading alerting/recording
rules from.

|======================

=== .rules.namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .rules.namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .rules.namespaceSelector.matchExpressions[].values[]

Type:: array

=== .rules.namespaceSelector.matchLabels

Type:: object

=== .rules.selector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .rules.selector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .rules.selector.matchExpressions[].values[]

Type:: array

=== .rules.selector.matchLabels

Type:: object

=== .storage

ObjectStorageSpec defines the requirements to access the object
storage bucket to persist logs by the ingester component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|schemas|array|  *(optional)* Schemas for reading and writing logs.

|secret|object|  Secret for object storage authentication.
Name of a secret in the same namespace as the LokiStack custom resource.

|tls|object|  *(optional)* TLS configuration for reaching the object storage endpoint.

|======================

=== .storage.schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

=== .storage.secret

ObjectStorageSecretSpec is a secret reference containing name only, no namespace.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for object storage secrets.

|type|string|  Type of object storage that should be used

|======================

=== .storage.tls

ObjectStorageTLSSpec is the TLS configuration for reaching the object storage endpoint.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caName|string|  *(optional)* CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

=== .template

LokiTemplateSpec defines the template of all requirements to configure
scheduling of all Loki components to be deployed.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|compactor|object|  *(optional)* Compactor defines the compaction component spec.

|distributor|object|  *(optional)* Distributor defines the distributor component spec.

|gateway|object|  *(optional)* Gateway defines the lokistack gateway component spec.

|indexGateway|object|  *(optional)* IndexGateway defines the index gateway component spec.

|ingester|object|  *(optional)* Ingester defines the ingester component spec.

|querier|object|  *(optional)* Querier defines the querier component spec.

|queryFrontend|object|  *(optional)* QueryFrontend defines the query frontend component spec.

|ruler|object|  *(optional)* Ruler defines the ruler component spec.

|======================

=== .template.compactor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.compactor.nodeSelector

Type:: object

=== .template.compactor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.compactor.tolerations[].tolerationSeconds

Type:: int

=== .template.distributor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.distributor.nodeSelector

Type:: object

=== .template.distributor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.distributor.tolerations[].tolerationSeconds

Type:: int

=== .template.gateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.gateway.nodeSelector

Type:: object

=== .template.gateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.gateway.tolerations[].tolerationSeconds

Type:: int

=== .template.indexGateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.indexGateway.nodeSelector

Type:: object

=== .template.indexGateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.indexGateway.tolerations[].tolerationSeconds

Type:: int

=== .template.ingester

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.ingester.nodeSelector

Type:: object

=== .template.ingester.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.ingester.tolerations[].tolerationSeconds

Type:: int

=== .template.querier

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.querier.nodeSelector

Type:: object

=== .template.querier.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.querier.tolerations[].tolerationSeconds

Type:: int

=== .template.queryFrontend

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.queryFrontend.nodeSelector

Type:: object

=== .template.queryFrontend.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.queryFrontend.tolerations[].tolerationSeconds

Type:: int

=== .template.ruler

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .template.ruler.nodeSelector

Type:: object

=== .template.ruler.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .template.ruler.tolerations[].tolerationSeconds

Type:: int

=== .tenants

TenantsSpec defines the mode, authentication and authorization
configuration of the lokiStack gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|authentication|array|  *(optional)* Authentication defines the lokistack-gateway component authentication configuration spec per tenant.

|authorization|object|  *(optional)* Authorization defines the lokistack-gateway component authorization configuration spec per tenant.

|mode|string|  Mode defines the mode in which lokistack-gateway component will be configured.

|======================

=== .tenants.authentication[]

AuthenticationSpec defines the oidc configuration per tenant for lokiStack Gateway component.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|oidc|object|  OIDC defines the spec for the OIDC tenant&#39;s authentication.

|tenantId|string|  TenantID defines the id of the tenant.

|tenantName|string|  TenantName defines the name of the tenant.

|======================

=== .tenants.authentication[].oidc

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID, clientSecret and issuerCAPath for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .tenants.authentication[].oidc.secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

=== .tenants.authorization

AuthorizationSpec defines the opa, role bindings and roles
configuration per tenant for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|opa|object|  *(optional)* OPA defines the spec for the third-party endpoint for tenant&#39;s authorization.

|roleBindings|array|  *(optional)* RoleBindings defines configuration to bind a set of roles to a set of subjects.

|roles|array|  *(optional)* Roles defines a set of permissions to interact with a tenant.

|======================

=== .tenants.authorization.opa

OPASpec defines the opa configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

=== .tenants.authorization.roleBindings[]

RoleBindingsSpec binds a set of roles to a set of subjects.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .tenants.authorization.roleBindings[].roles[]

Type:: array

=== .tenants.authorization.roleBindings[].subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

=== .tenants.authorization.roles[]

RoleSpec describes a set of permissions to interact with a tenant.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .tenants.authorization.roles[].permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .tenants.authorization.roles[].resources[]

Type:: array

=== .tenants.authorization.roles[].tenants[]

Type:: array

[id="logging-5-x-reference-LokiStackStatus"]
== LokiStackStatus

LokiStackStatus defines the observed state of LokiStack

[options="header"]
|======================
|Property|Type|Description

|components|object|  *(optional)* Components provides summary of all Loki pod status grouped
per component.

|conditions|array|  *(optional)* Conditions of the Loki deployment health.

|storage|object|  *(optional)* Storage provides summary of all changes that have occurred
to the storage configuration.

|======================

=== .components

LokiStackComponentStatus defines the map of per pod status per LokiStack component.
Each component is represented by a separate map of v1.Phase to a list of pods.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|compactor|string|  *(optional)* Compactor is a map to the pod status of the compactor pod.

|distributor|string|  *(optional)* Distributor is a map to the per pod status of the distributor deployment

|gateway|string|  *(optional)* Gateway is a map to the per pod status of the lokistack gateway deployment.

|indexGateway|string|  *(optional)* IndexGateway is a map to the per pod status of the index gateway statefulset

|ingester|string|  *(optional)* Ingester is a map to the per pod status of the ingester statefulset

|querier|string|  *(optional)* Querier is a map to the per pod status of the querier deployment

|queryFrontend|string|  *(optional)* QueryFrontend is a map to the per pod status of the query frontend deployment

|ruler|string|  *(optional)* Ruler is a map to the per pod status of the lokistack ruler statefulset.

|======================

=== .conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

=== .storage

LokiStackStorageStatus defines the observed state of
the Loki storage configuration.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|schemas|array|  *(optional)* Schemas is a list of schemas which have been applied
to the LokiStack.

|======================

=== .storage.schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

[id="logging-5-x-reference-LokiStackStorageStatus"]
== LokiStackStorageStatus

LokiStackStorageStatus defines the observed state of
the Loki storage configuration.

[options="header"]
|======================
|Property|Type|Description

|schemas|array|  *(optional)* Schemas is a list of schemas which have been applied
to the LokiStack.

|======================

=== .schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

[id="logging-5-x-reference-LokiTemplateSpec"]
== LokiTemplateSpec

LokiTemplateSpec defines the template of all requirements to configure
scheduling of all Loki components to be deployed.

[options="header"]
|======================
|Property|Type|Description

|compactor|object|  *(optional)* Compactor defines the compaction component spec.

|distributor|object|  *(optional)* Distributor defines the distributor component spec.

|gateway|object|  *(optional)* Gateway defines the lokistack gateway component spec.

|indexGateway|object|  *(optional)* IndexGateway defines the index gateway component spec.

|ingester|object|  *(optional)* Ingester defines the ingester component spec.

|querier|object|  *(optional)* Querier defines the querier component spec.

|queryFrontend|object|  *(optional)* QueryFrontend defines the query frontend component spec.

|ruler|object|  *(optional)* Ruler defines the ruler component spec.

|======================

=== .compactor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .compactor.nodeSelector

Type:: object

=== .compactor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .compactor.tolerations[].tolerationSeconds

Type:: int

=== .distributor

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .distributor.nodeSelector

Type:: object

=== .distributor.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .distributor.tolerations[].tolerationSeconds

Type:: int

=== .gateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .gateway.nodeSelector

Type:: object

=== .gateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .gateway.tolerations[].tolerationSeconds

Type:: int

=== .indexGateway

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .indexGateway.nodeSelector

Type:: object

=== .indexGateway.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .indexGateway.tolerations[].tolerationSeconds

Type:: int

=== .ingester

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .ingester.nodeSelector

Type:: object

=== .ingester.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .ingester.tolerations[].tolerationSeconds

Type:: int

=== .querier

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .querier.nodeSelector

Type:: object

=== .querier.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .querier.tolerations[].tolerationSeconds

Type:: int

=== .queryFrontend

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .queryFrontend.nodeSelector

Type:: object

=== .queryFrontend.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .queryFrontend.tolerations[].tolerationSeconds

Type:: int

=== .ruler

LokiComponentSpec defines the requirements to configure scheduling
of each loki component individually.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|nodeSelector|object|  *(optional)* NodeSelector defines the labels required by a node to schedule
the component onto it.

|replicas|int|  *(optional)* Replicas defines the number of replica pods of the component.

|tolerations|array|  *(optional)* Tolerations defines the tolerations required by a node to schedule
the component onto it.

|======================

=== .ruler.nodeSelector

Type:: object

=== .ruler.tolerations[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effect|string|  *(optional)* Effect indicates the taint effect to match. Empty means match all taint effects.
When specified, allowed values are NoSchedule, PreferNoSchedule and NoExecute.
|key|string|  *(optional)* Key is the taint key that the toleration applies to. Empty means match all taint keys.
If the key is empty, operator must be Exists; this combination means to match all values and all keys.
|operator|string|  *(optional)* Operator represents a key&#39;s relationship to the value.
Valid operators are Exists and Equal. Defaults to Equal.
Exists is equivalent to wildcard for value, so that a pod can
tolerate all taints of a particular category.
|tolerationSeconds|int|  *(optional)* TolerationSeconds represents the period of time the toleration (which must be
of effect NoExecute, otherwise this field is ignored) tolerates the taint. By default,
it is not set, which means tolerate the taint forever (do not evict). Zero and
negative values will be treated as 0 (evict immediately) by the system.
|value|string|  *(optional)* Value is the taint value the toleration matches to.
If the operator is Exists, the value should be empty, otherwise just a regular string.
|======================

=== .ruler.tolerations[].tolerationSeconds

Type:: int

[id="logging-5-x-reference-ManagementStateType"]
== ManagementStateType

ManagementStateType defines the type for CR management states.

[id="logging-5-x-reference-ModeType"]
== ModeType

ModeType is the authentication/authorization mode in which LokiStack Gateway will be configured.

[id="logging-5-x-reference-OIDCSpec"]
== OIDCSpec

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID, clientSecret and issuerCAPath for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

[id="logging-5-x-reference-OPASpec"]
== OPASpec

OPASpec defines the opa configuration spec for lokiStack Gateway component.

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

[id="logging-5-x-reference-ObjectStorageSchema"]
== ObjectStorageSchema

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

[id="logging-5-x-reference-ObjectStorageSchemaVersion"]
== ObjectStorageSchemaVersion

ObjectStorageSchemaVersion defines the storage schema version which will be
used with the Loki cluster.

[id="logging-5-x-reference-ObjectStorageSecretSpec"]
== ObjectStorageSecretSpec

ObjectStorageSecretSpec is a secret reference containing name only, no namespace.

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for object storage secrets.

|type|string|  Type of object storage that should be used

|======================

[id="logging-5-x-reference-ObjectStorageSecretType"]
== ObjectStorageSecretType

ObjectStorageSecretType defines the type of storage which can be used with the Loki cluster.

[id="logging-5-x-reference-ObjectStorageSpec"]
== ObjectStorageSpec

ObjectStorageSpec defines the requirements to access the object
storage bucket to persist logs by the ingester component.

[options="header"]
|======================
|Property|Type|Description

|schemas|array|  *(optional)* Schemas for reading and writing logs.

|secret|object|  Secret for object storage authentication.
Name of a secret in the same namespace as the LokiStack custom resource.

|tls|object|  *(optional)* TLS configuration for reaching the object storage endpoint.

|======================

=== .schemas[]

ObjectStorageSchema defines the requirements needed to configure a new
storage schema.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|effectiveDate|string|  EffectiveDate is the date in UTC that the schema will be applied on.
To ensure readibility of logs, this date should be before the current
date in UTC.

|version|string|  Version for writing and reading logs.

|======================

=== .secret

ObjectStorageSecretSpec is a secret reference containing name only, no namespace.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for object storage secrets.

|type|string|  Type of object storage that should be used

|======================

=== .tls

ObjectStorageTLSSpec is the TLS configuration for reaching the object storage endpoint.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caName|string|  *(optional)* CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

[id="logging-5-x-reference-ObjectStorageTLSSpec"]
== ObjectStorageTLSSpec

ObjectStorageTLSSpec is the TLS configuration for reaching the object storage endpoint.

[options="header"]
|======================
|Property|Type|Description

|caName|string|  *(optional)* CA is the name of a ConfigMap containing a CA certificate.
It needs to be in the same namespace as the LokiStack custom resource.

|======================

[id="logging-5-x-reference-PermissionType"]
== PermissionType

PermissionType is a LokiStack Gateway RBAC permission.

[id="logging-5-x-reference-PodStatusMap"]
== PodStatusMap

PodStatusMap defines the type for mapping pod status to pod name.
[id="logging-5-x-reference-PrometheusDuration"]
== PrometheusDuration

PrometheusDuration defines the type for Prometheus durations.

[id="logging-5-x-reference-QueryLimitSpec"]
== QueryLimitSpec

QueryLimitSpec defines the limits applies at the query path.

[options="header"]
|======================
|Property|Type|Description

|maxChunksPerQuery|int|  *(optional)* MaxChunksPerQuery defines the maximum number of chunks
that can be fetched by a single query.

|maxEntriesLimitPerQuery|int|  *(optional)* MaxEntriesLimitsPerQuery defines the maximum number of log entries
that will be returned for a query.

|maxQuerySeries|int|  MaxQuerySeries defines the maximum of unique series
that is returned by a metric query.

|======================

[id="logging-5-x-reference-RecordingRule"]
== RecordingRule

RecordingRule is the Schema for the recordingrules API

[options="header"]
|======================
|Property|Type|Description

|spec|object|  
|status|object|  
|======================

=== .spec

RecordingRuleSpec defines the desired state of RecordingRule

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groups|array|  *(optional)* List of groups for recording rules.

|tenantID|string|  TenantID of tenant where the recording rules are evaluated in.

|======================

=== .spec.groups[]

Type:: array

=== .status

RecordingRuleStatus defines the observed state of RecordingRule

Type:: object

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the RecordingRule generation health.

|======================

=== .status.conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-RecordingRuleGroup"]
== RecordingRuleGroup

RecordingRuleGroup defines a group of Loki  recording rules.

[options="header"]
|======================
|Property|Type|Description

|interval|string|  *(optional)* Interval defines the time interval between evaluation of the given
recoding rule.

|limit|int|  *(optional)* Limit defines the number of series a recording rule can produce. 0 is no limit.

|name|string|  Name of the recording rule group. Must be unique within all recording rules.

|rules|array|  Rules defines a list of recording rules

|======================

=== .rules[]

Type:: array

[id="logging-5-x-reference-RecordingRuleGroupSpec"]
== RecordingRuleGroupSpec

RecordingRuleGroupSpec defines the spec for a Loki recording rule.

[options="header"]
|======================
|Property|Type|Description

|expr|string|  The LogQL expression to evaluate. Every evaluation cycle this is
evaluated at the current time, and all resultant time series become
pending/firing alerts.

|record|string|  *(optional)* The name of the time series to output to. Must be a valid metric name.

|======================

[id="logging-5-x-reference-RecordingRuleSpec"]
== RecordingRuleSpec

RecordingRuleSpec defines the desired state of RecordingRule

[options="header"]
|======================
|Property|Type|Description

|groups|array|  *(optional)* List of groups for recording rules.

|tenantID|string|  TenantID of tenant where the recording rules are evaluated in.

|======================

=== .groups[]

Type:: array

[id="logging-5-x-reference-RecordingRuleStatus"]
== RecordingRuleStatus

RecordingRuleStatus defines the observed state of RecordingRule

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the RecordingRule generation health.

|======================

=== .conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-RelabelActionType"]
== RelabelActionType

RelabelActionType defines the enumeration type for RelabelConfig actions.

[id="logging-5-x-reference-RelabelConfig"]
== RelabelConfig

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .sourceLabels[]

Type:: array

[id="logging-5-x-reference-RemoteWriteAuthType"]
== RemoteWriteAuthType

RemoteWriteAuthType defines the type of authorization to use to access the remote write endpoint.

[id="logging-5-x-reference-RemoteWriteClientQueueSpec"]
== RemoteWriteClientQueueSpec

RemoteWriteClientQueueSpec defines the configuration of the remote write client queue.

[options="header"]
|======================
|Property|Type|Description

|batchSendDeadline|string|  *(optional)* Maximum time a sample will wait in buffer.

|capacity|int|  *(optional)* Number of samples to buffer per shard before we block reading of more

|maxBackOffPeriod|string|  *(optional)* Maximum retry delay.

|maxSamplesPerSend|int|  *(optional)* Maximum number of samples per send.

|maxShards|int|  *(optional)* Maximum number of shards, i.e. amount of concurrency.

|minBackOffPeriod|string|  *(optional)* Initial retry delay. Gets doubled for every retry.

|minShards|int|  *(optional)* Minimum number of shards, i.e. amount of concurrency.

|======================

[id="logging-5-x-reference-RemoteWriteClientSpec"]
== RemoteWriteClientSpec

RemoteWriteClientSpec defines the configuration of the remote write client.

[options="header"]
|======================
|Property|Type|Description

|additionalHeaders|object|  *(optional)* Additional HTTP headers to be sent along with each remote write request.

|authorization|string|  Type of authorzation to use to access the remote write endpoint

|authorizationSecretName|string|  Name of a secret in the namespace configured for authorization secrets.

|followRedirects|bool|  *(optional)* Configure whether HTTP requests follow HTTP 3xx redirects.

|name|string|  Name of the remote write config, which if specified must be unique among remote write configs.

|proxyUrl|string|  *(optional)* Optional proxy URL.

|relabelConfigs|array|  *(optional)* List of remote write relabel configurations.

|timeout|string|  *(optional)* Timeout for requests to the remote write endpoint.

|url|string|  The URL of the endpoint to send samples to.

|======================

=== .additionalHeaders

Type:: object

=== .relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .relabelConfigs[].sourceLabels[]

Type:: array

[id="logging-5-x-reference-RemoteWriteSpec"]
== RemoteWriteSpec

RemoteWriteSpec defines the configuration for ruler&#39;s remote_write connectivity.

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Defines the configuration for remote write client.

|enabled|bool|  *(optional)* Enable remote-write functionality.

|queue|object|  *(optional)* Defines the configuration for remote write client queue.

|refreshPeriod|string|  *(optional)* Minimum period to wait between refreshing remote-write reconfigurations.

|======================

=== .client

RemoteWriteClientSpec defines the configuration of the remote write client.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|additionalHeaders|object|  *(optional)* Additional HTTP headers to be sent along with each remote write request.

|authorization|string|  Type of authorzation to use to access the remote write endpoint

|authorizationSecretName|string|  Name of a secret in the namespace configured for authorization secrets.

|followRedirects|bool|  *(optional)* Configure whether HTTP requests follow HTTP 3xx redirects.

|name|string|  Name of the remote write config, which if specified must be unique among remote write configs.

|proxyUrl|string|  *(optional)* Optional proxy URL.

|relabelConfigs|array|  *(optional)* List of remote write relabel configurations.

|timeout|string|  *(optional)* Timeout for requests to the remote write endpoint.

|url|string|  The URL of the endpoint to send samples to.

|======================

=== .client.additionalHeaders

Type:: object

=== .client.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .client.relabelConfigs[].sourceLabels[]

Type:: array

=== .queue

RemoteWriteClientQueueSpec defines the configuration of the remote write client queue.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|batchSendDeadline|string|  *(optional)* Maximum time a sample will wait in buffer.

|capacity|int|  *(optional)* Number of samples to buffer per shard before we block reading of more

|maxBackOffPeriod|string|  *(optional)* Maximum retry delay.

|maxSamplesPerSend|int|  *(optional)* Maximum number of samples per send.

|maxShards|int|  *(optional)* Maximum number of shards, i.e. amount of concurrency.

|minBackOffPeriod|string|  *(optional)* Initial retry delay. Gets doubled for every retry.

|minShards|int|  *(optional)* Minimum number of shards, i.e. amount of concurrency.

|======================

[id="logging-5-x-reference-RoleBindingsSpec"]
== RoleBindingsSpec

RoleBindingsSpec binds a set of roles to a set of subjects.

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .roles[]

Type:: array

=== .subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

[id="logging-5-x-reference-RoleSpec"]
== RoleSpec

RoleSpec describes a set of permissions to interact with a tenant.

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .resources[]

Type:: array

=== .tenants[]

Type:: array

[id="logging-5-x-reference-RulerConfig"]
== RulerConfig

RulerConfig is the Schema for the rulerconfigs API

[options="header"]
|======================
|Property|Type|Description

|spec|object|  
|status|object|  
|======================

=== .spec

RulerConfigSpec defines the desired state of Ruler

Type:: object

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* Defines alert manager configuration to notify on firing alerts.

|evaluationInterval|string|  *(optional)* Interval on how frequently to evaluate rules.

|overrides|object|  *(optional)* Overrides defines the config overrides to be applied per-tenant.

|pollInterval|string|  *(optional)* Interval on how frequently to poll for new rule definitions.

|remoteWrite|object|  *(optional)* Defines a remote write endpoint to write recording rule metrics.

|======================

=== .spec.alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .spec.alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .spec.alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .spec.alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .spec.alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .spec.alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .spec.alertmanager.endpoints[]

Type:: array

=== .spec.alertmanager.externalLabels

Type:: object

=== .spec.alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .spec.alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .spec.alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

=== .spec.overrides

RulerOverrides defines the overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* AlertManagerOverrides defines the overrides to apply to the alertmanager config.

|======================

=== .spec.overrides.alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .spec.overrides.alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .spec.overrides.alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .spec.overrides.alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .spec.overrides.alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .spec.overrides.alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .spec.overrides.alertmanager.endpoints[]

Type:: array

=== .spec.overrides.alertmanager.externalLabels

Type:: object

=== .spec.overrides.alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .spec.overrides.alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .spec.overrides.alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

=== .spec.remoteWrite

RemoteWriteSpec defines the configuration for ruler&#39;s remote_write connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Defines the configuration for remote write client.

|enabled|bool|  *(optional)* Enable remote-write functionality.

|queue|object|  *(optional)* Defines the configuration for remote write client queue.

|refreshPeriod|string|  *(optional)* Minimum period to wait between refreshing remote-write reconfigurations.

|======================

=== .spec.remoteWrite.client

RemoteWriteClientSpec defines the configuration of the remote write client.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|additionalHeaders|object|  *(optional)* Additional HTTP headers to be sent along with each remote write request.

|authorization|string|  Type of authorzation to use to access the remote write endpoint

|authorizationSecretName|string|  Name of a secret in the namespace configured for authorization secrets.

|followRedirects|bool|  *(optional)* Configure whether HTTP requests follow HTTP 3xx redirects.

|name|string|  Name of the remote write config, which if specified must be unique among remote write configs.

|proxyUrl|string|  *(optional)* Optional proxy URL.

|relabelConfigs|array|  *(optional)* List of remote write relabel configurations.

|timeout|string|  *(optional)* Timeout for requests to the remote write endpoint.

|url|string|  The URL of the endpoint to send samples to.

|======================

=== .spec.remoteWrite.client.additionalHeaders

Type:: object

=== .spec.remoteWrite.client.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .spec.remoteWrite.client.relabelConfigs[].sourceLabels[]

Type:: array

=== .spec.remoteWrite.queue

RemoteWriteClientQueueSpec defines the configuration of the remote write client queue.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|batchSendDeadline|string|  *(optional)* Maximum time a sample will wait in buffer.

|capacity|int|  *(optional)* Number of samples to buffer per shard before we block reading of more

|maxBackOffPeriod|string|  *(optional)* Maximum retry delay.

|maxSamplesPerSend|int|  *(optional)* Maximum number of samples per send.

|maxShards|int|  *(optional)* Maximum number of shards, i.e. amount of concurrency.

|minBackOffPeriod|string|  *(optional)* Initial retry delay. Gets doubled for every retry.

|minShards|int|  *(optional)* Minimum number of shards, i.e. amount of concurrency.

|======================

=== .status

RulerConfigStatus defines the observed state of RulerConfig

Type:: object

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the RulerConfig health.

|======================

=== .status.conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-RulerConfigSpec"]
== RulerConfigSpec

RulerConfigSpec defines the desired state of Ruler

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* Defines alert manager configuration to notify on firing alerts.

|evaluationInterval|string|  *(optional)* Interval on how frequently to evaluate rules.

|overrides|object|  *(optional)* Overrides defines the config overrides to be applied per-tenant.

|pollInterval|string|  *(optional)* Interval on how frequently to poll for new rule definitions.

|remoteWrite|object|  *(optional)* Defines a remote write endpoint to write recording rule metrics.

|======================

=== .alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .alertmanager.endpoints[]

Type:: array

=== .alertmanager.externalLabels

Type:: object

=== .alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

=== .overrides

RulerOverrides defines the overrides applied per-tenant.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* AlertManagerOverrides defines the overrides to apply to the alertmanager config.

|======================

=== .overrides.alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .overrides.alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .overrides.alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .overrides.alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .overrides.alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .overrides.alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .overrides.alertmanager.endpoints[]

Type:: array

=== .overrides.alertmanager.externalLabels

Type:: object

=== .overrides.alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .overrides.alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .overrides.alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

=== .remoteWrite

RemoteWriteSpec defines the configuration for ruler&#39;s remote_write connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Defines the configuration for remote write client.

|enabled|bool|  *(optional)* Enable remote-write functionality.

|queue|object|  *(optional)* Defines the configuration for remote write client queue.

|refreshPeriod|string|  *(optional)* Minimum period to wait between refreshing remote-write reconfigurations.

|======================

=== .remoteWrite.client

RemoteWriteClientSpec defines the configuration of the remote write client.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|additionalHeaders|object|  *(optional)* Additional HTTP headers to be sent along with each remote write request.

|authorization|string|  Type of authorzation to use to access the remote write endpoint

|authorizationSecretName|string|  Name of a secret in the namespace configured for authorization secrets.

|followRedirects|bool|  *(optional)* Configure whether HTTP requests follow HTTP 3xx redirects.

|name|string|  Name of the remote write config, which if specified must be unique among remote write configs.

|proxyUrl|string|  *(optional)* Optional proxy URL.

|relabelConfigs|array|  *(optional)* List of remote write relabel configurations.

|timeout|string|  *(optional)* Timeout for requests to the remote write endpoint.

|url|string|  The URL of the endpoint to send samples to.

|======================

=== .remoteWrite.client.additionalHeaders

Type:: object

=== .remoteWrite.client.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .remoteWrite.client.relabelConfigs[].sourceLabels[]

Type:: array

=== .remoteWrite.queue

RemoteWriteClientQueueSpec defines the configuration of the remote write client queue.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|batchSendDeadline|string|  *(optional)* Maximum time a sample will wait in buffer.

|capacity|int|  *(optional)* Number of samples to buffer per shard before we block reading of more

|maxBackOffPeriod|string|  *(optional)* Maximum retry delay.

|maxSamplesPerSend|int|  *(optional)* Maximum number of samples per send.

|maxShards|int|  *(optional)* Maximum number of shards, i.e. amount of concurrency.

|minBackOffPeriod|string|  *(optional)* Initial retry delay. Gets doubled for every retry.

|minShards|int|  *(optional)* Minimum number of shards, i.e. amount of concurrency.

|======================

[id="logging-5-x-reference-RulerConfigStatus"]
== RulerConfigStatus

RulerConfigStatus defines the observed state of RulerConfig

[options="header"]
|======================
|Property|Type|Description

|conditions|array|  *(optional)* Conditions of the RulerConfig health.

|======================

=== .conditions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|lastTransitionTime|string|  lastTransitionTime is the last time the condition transitioned from one status to another.
This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
|message|string|  message is a human readable message indicating details about the transition.
This may be an empty string.
|observedGeneration|int|  *(optional)* observedGeneration represents the .metadata.generation that the condition was set based upon.
For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
with respect to the current state of the instance.
|reason|string|  reason contains a programmatic identifier indicating the reason for the condition&#39;s last transition.
Producers of specific condition types may define expected values and meanings for this field,
and whether the values are considered a guaranteed API.
The value should be a CamelCase string.
This field may not be empty.
|status|string|  status of the condition, one of True, False, Unknown.
|type|string|  type of condition in CamelCase or in foo.example.com/CamelCase.
---
Many .condition.type values are consistent across resources like Available, but because arbitrary conditions can be
useful (see .node.status.conditions), the ability to deconflict is important.
The regex it matches is (dns1123SubdomainFmt/)?(qualifiedNameFmt)
|======================

[id="logging-5-x-reference-RulerOverrides"]
== RulerOverrides

RulerOverrides defines the overrides applied per-tenant.

[options="header"]
|======================
|Property|Type|Description

|alertmanager|object|  *(optional)* AlertManagerOverrides defines the overrides to apply to the alertmanager config.

|======================

=== .alertmanager

AlertManagerSpec defines the configuration for ruler&#39;s alertmanager connectivity.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|client|object|  *(optional)* Client configuration for reaching the alertmanager endpoint.

|discovery|object|  *(optional)* Defines the configuration for DNS-based discovery of AlertManager hosts.

|enableV2|bool|  *(optional)* If enabled, then requests to Alertmanager use the v2 API.

|endpoints|array|  List of AlertManager URLs to send notifications to. Each Alertmanager URL is treated as
a separate group in the configuration. Multiple Alertmanagers in HA per group can be
supported by using DNS resolution (See EnableDNSDiscovery).

|externalLabels|object|  *(optional)* Additional labels to add to all alerts.

|externalUrl|string|  *(optional)* URL for alerts return path.

|notificationQueue|object|  *(optional)* Defines the configuration for the notification queue to AlertManager hosts.

|relabelConfigs|array|  *(optional)* List of alert relabel configurations.

|======================

=== .alertmanager.client

AlertManagerClientConfig defines the client configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|basicAuth|object|  *(optional)* Basic authentication configuration for reaching the alertmanager endpoints.

|headerAuth|object|  *(optional)* Header authentication configuration for reaching the alertmanager endpoints.

|tls|object|  *(optional)* TLS configuration for reaching the alertmanager endpoints.

|======================

=== .alertmanager.client.basicAuth

AlertManagerClientBasicAuth defines the basic authentication configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|password|string|  *(optional)* The subject&#39;s password for the basic authentication configuration.

|username|string|  *(optional)* The subject&#39;s username for the basic authentication configuration.

|======================

=== .alertmanager.client.headerAuth

AlertManagerClientHeaderAuth defines the header configuration reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|credentials|string|  *(optional)* The credentials for the header authentication configuration.

|credentialsFile|string|  *(optional)* The credentials file for the Header authentication configuration. It is mutually exclusive with `credentials`.

|type|string|  *(optional)* The authentication type for the header authentication configuration.

|======================

=== .alertmanager.client.tls

AlertManagerClientTLSConfig defines the TLS configuration for reaching alertmanager endpoints.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|caPath|string|  *(optional)* The CA certificate file path for the TLS configuration.

|certPath|string|  *(optional)* The client-side certificate file path for the TLS configuration.

|keyPath|string|  *(optional)* The client-side key file path for the TLS configuration.

|serverName|string|  *(optional)* The server name to validate in the alertmanager server certificates.

|======================

=== .alertmanager.discovery

AlertManagerDiscoverySpec defines the configuration to use DNS resolution for AlertManager hosts.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|enableSRV|bool|  *(optional)* Use DNS SRV records to discover Alertmanager hosts.

|refreshInterval|string|  *(optional)* How long to wait between refreshing DNS resolutions of Alertmanager hosts.

|======================

=== .alertmanager.endpoints[]

Type:: array

=== .alertmanager.externalLabels

Type:: object

=== .alertmanager.notificationQueue

AlertManagerNotificationQueueSpec defines the configuration for AlertManager notification settings.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|capacity|int|  *(optional)* Capacity of the queue for notifications to be sent to the Alertmanager.

|forGracePeriod|string|  *(optional)* Minimum duration between alert and restored &#34;for&#34; state. This is maintained
only for alerts with configured &#34;for&#34; time greater than the grace period.

|forOutageTolerance|string|  *(optional)* Max time to tolerate outage for restoring &#34;for&#34; state of alert.

|resendDelay|string|  *(optional)* Minimum amount of time to wait before resending an alert to Alertmanager.

|timeout|string|  *(optional)* HTTP timeout duration when sending notifications to the Alertmanager.

|======================

=== .alertmanager.relabelConfigs[]

RelabelConfig allows dynamic rewriting of the label set, being applied to samples before ingestion.
It defines `&lt;metric_relabel_configs&gt;` and `&lt;alert_relabel_configs&gt;` sections of Prometheus configuration.
More info: https://prometheus.io/docs/prometheus/latest/configuration/configuration/#metric_relabel_configs

Type:: array

[options="header"]
|======================
|Property|Type|Description

|action|string|  *(optional)* Action to perform based on regex matching. Default is &#39;replace&#39;

|modulus|int|  *(optional)* Modulus to take of the hash of the source label values.

|regex|string|  *(optional)* Regular expression against which the extracted value is matched. Default is &#39;(.*)&#39;

|replacement|string|  *(optional)* Replacement value against which a regex replace is performed if the
regular expression matches. Regex capture groups are available. Default is &#39;$1&#39;

|separator|string|  *(optional)* Separator placed between concatenated source label values. default is &#39;;&#39;.

|sourceLabels|array|  The source labels select values from existing labels. Their content is concatenated
using the configured separator and matched against the configured regular expression
for the replace, keep, and drop actions.

|targetLabel|string|  *(optional)* Label to which the resulting value is written in a replace action.
It is mandatory for replace actions. Regex capture groups are available.

|======================

=== .alertmanager.relabelConfigs[].sourceLabels[]

Type:: array

[id="logging-5-x-reference-RulesSpec"]
== RulesSpec

RulesSpec deifnes the spec for the ruler component.

[options="header"]
|======================
|Property|Type|Description

|enabled|bool|  Enabled defines a flag to enable/disable the ruler component

|namespaceSelector|object|  *(optional)* Namespaces to be selected for PrometheusRules discovery. If unspecified, only
the same namespace as the LokiStack object is in is used.

|selector|object|  *(optional)* A selector to select which LokiRules to mount for loading alerting/recording
rules from.

|======================

=== .namespaceSelector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .namespaceSelector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .namespaceSelector.matchExpressions[].values[]

Type:: array

=== .namespaceSelector.matchLabels

Type:: object

=== .selector

Type:: object

[options="header"]
|======================
|Property|Type|Description

|matchExpressions|array|  *(optional)* matchExpressions is a list of label selector requirements. The requirements are ANDed.
|matchLabels|object|  *(optional)* matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
map is equivalent to an element of matchExpressions, whose key field is &#34;key&#34;, the
operator is &#34;In&#34;, and the values array contains only &#34;value&#34;. The requirements are ANDed.
|======================

=== .selector.matchExpressions[]

Type:: array

[options="header"]
|======================
|Property|Type|Description

|key|string|  key is the label key that the selector applies to.
|operator|string|  operator represents a key&#39;s relationship to a set of values.
Valid operators are In, NotIn, Exists and DoesNotExist.
|values|array|  *(optional)* values is an array of string values. If the operator is In or NotIn,
the values array must be non-empty. If the operator is Exists or DoesNotExist,
the values array must be empty. This array is replaced during a strategic
merge patch.
|======================

=== .selector.matchExpressions[].values[]

Type:: array

=== .selector.matchLabels

Type:: object[id="logging-5-x-reference-StorageSchemaEffectiveDate"]
== StorageSchemaEffectiveDate

StorageSchemaEffectiveDate defines the type for the Storage Schema Effect Date

[id="logging-5-x-reference-Subject"]
== Subject

Subject represents a subject that has been bound to a role.

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

[id="logging-5-x-reference-SubjectKind"]
== SubjectKind

SubjectKind is a kind of LokiStack Gateway RBAC subject.

[id="logging-5-x-reference-TenantSecretSpec"]
== TenantSecretSpec

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

[id="logging-5-x-reference-TenantsSpec"]
== TenantsSpec

TenantsSpec defines the mode, authentication and authorization
configuration of the lokiStack gateway component.

[options="header"]
|======================
|Property|Type|Description

|authentication|array|  *(optional)* Authentication defines the lokistack-gateway component authentication configuration spec per tenant.

|authorization|object|  *(optional)* Authorization defines the lokistack-gateway component authorization configuration spec per tenant.

|mode|string|  Mode defines the mode in which lokistack-gateway component will be configured.

|======================

=== .authentication[]

AuthenticationSpec defines the oidc configuration per tenant for lokiStack Gateway component.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|oidc|object|  OIDC defines the spec for the OIDC tenant&#39;s authentication.

|tenantId|string|  TenantID defines the id of the tenant.

|tenantName|string|  TenantName defines the name of the tenant.

|======================

=== .authentication[].oidc

OIDCSpec defines the oidc configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|groupClaim|string|  *(optional)* Group claim field from ID Token

|issuerURL|string|  IssuerURL defines the URL for issuer.

|redirectURL|string|  *(optional)* RedirectURL defines the URL for redirect.

|secret|object|  Secret defines the spec for the clientID, clientSecret and issuerCAPath for tenant&#39;s authentication.

|usernameClaim|string|  *(optional)* User claim field from ID Token

|======================

=== .authentication[].oidc.secret

TenantSecretSpec is a secret reference containing name only
for a secret living in the same namespace as the LokiStack custom resource.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|name|string|  Name of a secret in the namespace configured for tenant secrets.

|======================

=== .authorization

AuthorizationSpec defines the opa, role bindings and roles
configuration per tenant for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|opa|object|  *(optional)* OPA defines the spec for the third-party endpoint for tenant&#39;s authorization.

|roleBindings|array|  *(optional)* RoleBindings defines configuration to bind a set of roles to a set of subjects.

|roles|array|  *(optional)* Roles defines a set of permissions to interact with a tenant.

|======================

=== .authorization.opa

OPASpec defines the opa configuration spec for lokiStack Gateway component.

Type:: object

[options="header"]
|======================
|Property|Type|Description

|url|string|  URL defines the third-party endpoint for authorization.

|======================

=== .authorization.roleBindings[]

RoleBindingsSpec binds a set of roles to a set of subjects.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|roles|array|  
|subjects|array|  
|======================

=== .authorization.roleBindings[].roles[]

Type:: array

=== .authorization.roleBindings[].subjects[]

Subject represents a subject that has been bound to a role.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|kind|string|  
|name|string|  
|======================

=== .authorization.roles[]

RoleSpec describes a set of permissions to interact with a tenant.

Type:: array

[options="header"]
|======================
|Property|Type|Description

|name|string|  
|permissions|array|  
|resources|array|  
|tenants|array|  
|======================

=== .authorization.roles[].permissions[]

PermissionType is a LokiStack Gateway RBAC permission.

Type:: array

=== .authorization.roles[].resources[]

Type:: array

=== .authorization.roles[].tenants[]

Type:: array

