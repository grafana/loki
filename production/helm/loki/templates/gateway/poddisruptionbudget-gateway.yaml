{{- $args := dict "ctx" . "component" "gateway" "memberlist" true -}}
{{- if and .Values.gateway.enabled }}
{{- if or 
  (and (not .Values.gateway.autoscaling.enabled) (gt (int .Values.gateway.replicas) 1)) 
  (and .Values.gateway.autoscaling.enabled (gt (int .Values.gateway.autoscaling.minReplicas) 1))
}}
{{- include "loki.lib.podDisruptionBudget" $args }}
{{- end }}
{{- end }}
