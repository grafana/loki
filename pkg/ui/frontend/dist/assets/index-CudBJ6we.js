var ga=e=>{throw TypeError(e)};var Vs=(e,t,r)=>t.has(e)||ga("Cannot "+r);var x=(e,t,r)=>(Vs(e,t,"read from private field"),r?r.call(e):t.get(e)),$=(e,t,r)=>t.has(e)?ga("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),A=(e,t,r,a)=>(Vs(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),U=(e,t,r)=>(Vs(e,t,"access private method"),r);var ns=(e,t,r,a)=>({set _(n){A(e,t,n,r)},get _(){return x(e,t,a)}});import{j as s,S as pt,c as Er,u as Cr,a as sn,P as ae,b as we,d as rn,e as el,f as tl,g as an,h as nn,i as sl,C as on,I as ln,k as cn,l as dn,R as un,L as pn,m as fn,n as rl,T as al,o as mt,p as Rr,q as Tr,O as Yt,r as Xt,s as hn,t as ws,D as js,v as nl,w as mn,x as ol,y as il,z as gn,A as ll,B as xn,E as bn,F as cl,G as yn,V as dl,H as vn,J as wn,K as ul,M as pl,N as jn,Q as fl,U as hl,W as Nn,X as ml,Y as gl,Z as kn,_ as xl,$ as Sn,a0 as bl,a1 as yl,a2 as vl,a3 as En,a4 as wl,a5 as jl,a6 as Nl,a7 as Cn,a8 as Rn,a9 as Tn,aa as kl,ab as An,ac as In,ad as Sl,ae as Fn,af as El,ag as Cl,ah as _n,ai as fs,aj as Rl,ak as Tl,al as Al,am as Il}from"./radix-ui-CUexq7vL.js";import{a as Pn,r as l,u as On,m as tr,R as nt,e as Ar,f as Jt,L as Re,h as Ln,i as Fl,j as _l,k as Pl,l as Ol}from"./react-core-DXl9mKoA.js";import{t as Ll,c as Ir,a as ft,S as Dl,M as Ml,C as Dn,R as $l,H as Bl,b as _t,d as zl,A as xa,e as sr,f as Mn,g as Ns,X as Fr,h as $n,P as Ul,L as it,i as _r,j as Bn,k as Vl,l as Gl,m as ks,n as zn,F as ql,o as Hl,D as Un,p as Vn,q as Kl,G as Pr,r as Ql,s as Wl,u as Zl,v as Yl,U as Xl,w as Jl}from"./ui-utils-C1t6E1AB.js";import{f as ec,a as tc,b as Gn,c as rr,p as ar,i as Mt,z as sc}from"./utils-Ddo7UC9l.js";import{R as Ss,P as Es,a as Cs,C as Rs,T as Ts}from"./data-viz-pZSdYo9m.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();var qn,ba=Pn;qn=ba.createRoot,ba.hydrateRoot;function N(...e){return Ll(Ir(e))}function _e(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB","PB"],a=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,a)).toFixed(2))} ${r[a]}`}function As(e,t){return e?Object.keys(e).find(r=>Hn(e[r],t)):null}function Hn(e,t){var r;return((r=e.services)==null?void 0:r.some(a=>a.service===t))??!1}const rc=ft("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),J=l.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...n},o)=>{const i=a?pt:"button";return s.jsx(i,{className:N(rc({variant:t,size:r,className:e})),ref:o,...n})});J.displayName="Button";function ac(){return s.jsx(J,{variant:"ghost",size:"icon",className:"bg-muted hover:bg-muted-hover rounded-lg",asChild:!0,children:s.jsxs("a",{href:"https://github.com/grafana/loki",target:"_blank",rel:"noopener noreferrer",children:[s.jsx("svg",{viewBox:"0 0 438.549 438.549",className:"h-[1.2rem] w-[1.2rem]",children:s.jsx("path",{fill:"currentColor",d:"M409.132 114.573c-19.608-33.596-46.205-60.194-79.798-79.8-33.598-19.607-70.277-29.408-110.063-29.408-39.781 0-76.472 9.804-110.063 29.408-33.596 19.605-60.192 46.204-79.8 79.8C9.803 148.168 0 184.854 0 224.63c0 47.78 13.94 90.745 41.827 128.906 27.884 38.164 63.906 64.572 108.063 79.227 5.14.954 8.945.283 11.419-1.996 2.475-2.282 3.711-5.14 3.711-8.562 0-.571-.049-5.708-.144-15.417a2549.81 2549.81 0 01-.144-25.406l-6.567 1.136c-4.187.767-9.469 1.092-15.846 1-6.374-.089-12.991-.757-19.842-1.999-6.854-1.231-13.229-4.086-19.13-8.559-5.898-4.473-10.085-10.328-12.56-17.556l-2.855-6.57c-1.903-4.374-4.899-9.233-8.992-14.559-4.093-5.331-8.232-8.945-12.419-10.848l-1.999-1.431c-1.332-.951-2.568-2.098-3.711-3.429-1.142-1.331-1.997-2.663-2.568-3.997-.572-1.335-.098-2.43 1.427-3.289 1.525-.859 4.281-1.276 8.28-1.276l5.708.853c3.807.763 8.516 3.042 14.133 6.851 5.614 3.806 10.229 8.754 13.846 14.842 4.38 7.806 9.657 13.754 15.846 17.847 6.184 4.093 12.419 6.136 18.699 6.136 6.28 0 11.704-.476 16.274-1.423 4.565-.952 8.848-2.383 12.847-4.285 1.713-12.758 6.377-22.559 13.988-29.41-10.848-1.14-20.601-2.857-29.264-5.14-8.658-2.286-17.605-5.996-26.835-11.14-9.235-5.137-16.896-11.516-22.985-19.126-6.09-7.614-11.088-17.61-14.987-29.979-3.901-12.374-5.852-26.648-5.852-42.826 0-23.035 7.52-42.637 22.557-58.817-7.044-17.318-6.379-36.732 1.997-58.24 5.52-1.715 13.706-.428 24.554 3.853 10.85 4.283 18.794 7.952 23.84 10.994 5.046 3.041 9.089 5.618 12.135 7.708 17.705-4.947 35.976-7.421 54.818-7.421s37.117 2.474 54.823 7.421l10.849-6.849c7.419-4.57 16.18-8.758 26.262-12.565 10.088-3.805 17.802-4.853 23.134-3.138 8.562 21.509 9.325 40.922 2.279 58.24 15.036 16.18 22.559 35.787 22.559 58.817 0 16.178-1.958 30.497-5.853 42.966-3.9 12.471-8.941 22.457-15.125 29.979-6.191 7.521-13.901 13.85-23.131 18.986-9.232 5.14-18.182 8.85-26.84 11.136-8.662 2.286-18.415 4.004-29.263 5.146 9.894 8.562 14.842 22.077 14.842 40.539v60.237c0 3.422 1.19 6.279 3.572 8.562 2.379 2.279 6.136 2.95 11.276 1.995 44.163-14.653 80.185-41.062 108.068-79.226 27.88-38.161 41.825-81.126 41.825-128.906-.01-39.771-9.818-76.454-29.414-110.049z"})}),s.jsx("span",{className:"sr-only",children:"View on GitHub"})]})})}const nc={theme:"light",setTheme:()=>null},Kn=l.createContext(nc);function oc(){const e=l.useContext(Kn);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function ic({children:e,defaultTheme:t="light",storageKey:r="loki-ui-theme",...a}){const[n,o]=l.useState(()=>{try{const c=localStorage.getItem(r);return c==="dark"||c==="light"?c:t}catch{return t}}),i=c=>{try{localStorage.setItem(r,c),o(c)}catch(d){console.error("Failed to save theme:",d)}};return l.useEffect(()=>{const c=window.document.documentElement;c.classList.remove("light","dark"),c.classList.add(n)},[n]),s.jsx(Kn.Provider,{value:{theme:n,setTheme:i},...a,children:e})}function lc(){const{theme:e,setTheme:t}=oc(),r=()=>{t(e==="light"?"dark":"light")};return s.jsxs(J,{variant:"ghost",size:"icon",className:"bg-muted hover:bg-muted-hover rounded-lg",onClick:r,children:[e==="light"?s.jsx(Dl,{className:"h-[1.2rem] w-[1.2rem]"}):s.jsx(Ml,{className:"h-[1.2rem] w-[1.2rem]"}),s.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function cc(){return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ac,{}),s.jsx(lc,{})]})}var dc=function(t){return t.join("/").replace(/\/\/+/g,"/")},uc=/^:\w+$/,pc=3,fc=2,hc=1,mc=10,gc=-2,ya=function(t){return t==="*"};function xc(e,t){var r=e.split("/"),a=r.length;return r.some(ya)&&(a+=gc),t&&(a+=fc),r.filter(function(n){return!ya(n)}).reduce(function(n,o){return uc.test(o)?n+pc:o===""?n+hc:n+mc},a)}function bc(e,t){var r=e.length===t.length&&e.slice(0,-1).every(function(a,n){return a===t[n]});return r?e[e.length-1]-t[t.length-1]:0}function Qn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"";return e.forEach(function(n,o){var i;if(typeof n.path!="string"&&!n.index&&!(!((i=n.children)===null||i===void 0)&&i.length))throw new Error("useBreadcrumbs: `path` or `index` must be provided in every route object");if(n.path&&n.index)throw new Error("useBreadcrumbs: `path` and `index` cannot be provided at the same time");var c={relativePath:n.path||"",childrenIndex:o,route:n};if(c.relativePath.charAt(0)==="/"){if(!c.relativePath.startsWith(a))throw new Error("useBreadcrumbs: The absolute path of the child route must start with the parent path");c.relativePath=c.relativePath.slice(a.length)}var d=dc([a,c.relativePath]),u=r.concat(c);if(n.children&&n.children.length>0){if(n.index)throw new Error("useBreadcrumbs: Index route cannot have child routes");Qn(n.children,t,u,d)}t.push({path:d,score:xc(d,n.index),routesMeta:u})}),t}function yc(e){return e.sort(function(t,r){return t.score!==r.score?r.score-t.score:bc(t.routesMeta.map(function(a){return a.childrenIndex}),r.routesMeta.map(function(a){return a.childrenIndex}))})}var $t=Symbol("NO_BREADCRUMB"),Wn=function(t){return t.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[-_\s]+/g," ").replace(/^[a-z]/,function(r){return r.toUpperCase()})},Zn=function(t){var r=t.breadcrumb,a=t.match,n=t.location,o=t.props,i=Object.assign({match:a,location:n,key:a.pathname},o||{});return Object.assign(Object.assign({},i),{breadcrumb:typeof r=="string"?l.createElement("span",{key:i.key},r):nt.createElement(r,Object.assign({},i))})},vc=function(t){var r=t.currentSection,a=t.location,n=t.pathSection,o=t.defaultFormatter,i=tr({end:!0,path:n},n);return Zn({breadcrumb:o?o(r):Wn(r),match:i,location:a})},wc=function(t){var r=t.currentSection,a=t.disableDefaults,n=t.excludePaths,o=t.defaultFormatter,i=t.location,c=t.pathSection,d=t.branches,u,h=function(b){return tr({path:b,end:!0},c)!=null};return n&&n.some(h)?$t:(d.some(function(p){var b=p.path,j=p.routesMeta,g=j[j.length-1].route,f=g.breadcrumb;if(!f&&g.index){var m=j[j.length-2];m&&m.route.breadcrumb&&(f=m.route.breadcrumb)}var v=g.caseSensitive,y=g.props,w=tr({path:b,end:!0,caseSensitive:v},c);return w&&f===null?(u=$t,!0):w?!f&&a?(u=$t,!0):(u=Zn({breadcrumb:f||(o?o(r):Wn(r)),match:Object.assign(Object.assign({},w),{route:g}),location:i,props:y}),!0):!1}),u||(a?$t:vc({pathSection:c,currentSection:c==="/"?"Home":r,location:i,defaultFormatter:o})))},jc=function(t){var r=t.routes,a=t.location,n=t.options,o=n===void 0?{}:n,i=a.pathname,c=yc(Qn(r)),d=[];return i.split("?")[0].split("/").reduce(function(u,h,p){var b=h?"".concat(u,"/").concat(h):"/";if(b==="/"&&p!==0)return"";var j=wc(Object.assign({currentSection:h,location:a,pathSection:b,branches:c},o));return j!==$t&&d.push(j),b==="/"?"":b},""),d},Nc=function(t,r){return jc({routes:t,location:On(),options:r})};const Or=l.forwardRef(({...e},t)=>s.jsx("nav",{ref:t,"aria-label":"breadcrumb",...e}));Or.displayName="Breadcrumb";const Lr=l.forwardRef(({className:e,...t},r)=>s.jsx("ol",{ref:r,className:N("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...t}));Lr.displayName="BreadcrumbList";const hs=l.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,className:N("inline-flex items-center gap-1.5",e),...t}));hs.displayName="BreadcrumbItem";const ms=l.forwardRef(({asChild:e,className:t,...r},a)=>{const n=e?pt:"a";return s.jsx(n,{ref:a,className:N("transition-colors hover:text-foreground",t),...r})});ms.displayName="BreadcrumbLink";const Yn=l.forwardRef(({className:e,...t},r)=>s.jsx("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:N("font-normal text-foreground",e),...t}));Yn.displayName="BreadcrumbPage";const gs=({children:e,className:t,...r})=>s.jsx("li",{role:"presentation","aria-hidden":"true",className:N("[&>svg]:w-3.5 [&>svg]:h-3.5",t),...r,children:e??s.jsx(Dn,{})});gs.displayName="BreadcrumbSeparator";const kc=({match:e})=>{const t=e.params.nodeName;return s.jsx("span",{children:t})},Sc=({match:e})=>{const t=e.params.ringName;return s.jsx("span",{children:t})},ge=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:N("rounded-xl border bg-card text-card-foreground shadow",e),...t}));ge.displayName="Card";const je=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:N("flex flex-col space-y-1.5 p-6",e),...t}));je.displayName="CardHeader";const Ce=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:N("font-semibold leading-none tracking-tight",e),...t}));Ce.displayName="CardTitle";const Dr=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:N("text-sm text-muted-foreground",e),...t}));Dr.displayName="CardDescription";const xe=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:N("p-6 pt-0",e),...t}));xe.displayName="CardContent";const Xn=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:N("flex items-center p-6 pt-0",e),...t}));Xn.displayName="CardFooter";function Ec(){const e=Ar(),[t]=Jt(),r=t.get("path")||window.location.pathname;return s.jsxs("div",{className:"flex h-[80vh] items-center justify-center bg-dot-pattern",children:[s.jsxs(ge,{className:"w-[450px] overflow-hidden",children:[s.jsxs(je,{className:"text-center pb-0",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute inset-0 flex items-center justify-center"}),s.jsx("div",{className:"relative flex justify-center py-4",children:s.jsx("div",{className:"bg-white dark:bg-transparent p-2 rounded-full",children:s.jsx("img",{src:"https://grafana.com/media/docs/loki/logo-grafana-loki.png",alt:"Loki Logo",className:N("h-24 w-24","rotate-180 animate-swing hover:animate-shake cursor-pointer transition-all duration-300")})})})]}),s.jsx(Ce,{className:"text-7xl font-bold bg-gradient-to-r from-primary to-primary/50 bg-clip-text text-transparent",children:"404"})]}),s.jsxs(xe,{className:"text-center space-y-3 pb-8",children:[s.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Oops! Page Not Found"}),s.jsx("p",{className:"text-muted-foreground",children:"Even with our powerful log aggregation, we couldn't find this page in any of our streams!"}),s.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["Error: LogQL query returned 0 results for label"," ",`{path="${r}"}`]})]}),s.jsxs(Xn,{className:"flex justify-center gap-4 pb-8",children:[s.jsxs(J,{variant:"outline",onClick:()=>e(-1),className:"gap-2 group",children:[s.jsx($l,{className:"h-4 w-4 group-hover:animate-spin"}),"Go Back"]}),s.jsxs(J,{onClick:()=>e("/"),className:"gap-2 group",children:[s.jsx(Bl,{className:"h-4 w-4 group-hover:animate-bounce"}),"Go Home"]})]})]}),s.jsx("style",{children:`
          .bg-dot-pattern {
            background-image: radial-gradient(circle at 1px 1px, hsl(var(--muted-foreground) / 0.1) 1px, transparent 0);
            background-size: 32px 32px;
          }
          @keyframes shake {
            0%, 100% { transform: rotate(180deg); }
            25% { transform: rotate(170deg); }
            75% { transform: rotate(190deg); }
          }
          @keyframes swing {
            0%, 100% { transform: rotate(180deg); }
            50% { transform: rotate(190deg); }
          }
          .animate-swing {
            animation: swing 1s ease-in-out infinite;
          }
          .animate-shake {
            animation: shake 0.3s ease-in-out;
          }
        `})]})}const re={INGESTER:"ingester",PARTITION_INGESTER:"partition-ingester",DISTRIBUTOR:"distributor",PATTERN_INGESTER:"pattern-ingester",QUERY_SCHEDULER:"query-scheduler",COMPACTOR:"compactor",RULER:"ruler",INDEX_GATEWAY:"index-gateway"},Jn={0:"Unknown",1:"Pending",2:"Active",3:"Inactive",4:"Deleted"},Cc={cluster:null,error:null,isLoading:!0,refresh:()=>Promise.resolve()},eo=l.createContext(Cc);function Qe(){const e=l.useContext(eo);if(!e)throw new Error("useCluster must be used within a ClusterProvider");return e}function to(e){const t=new Date(e);return`${ec(t)} ago`}function so(e){const t=new Date(e);return tc(t,{format:"extended"})}function xs(e){switch(typeof e=="string"?parseInt(e,10):e){case 2:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case 1:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case 3:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case 4:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}}function ro(e){const t=e.split("").reduce((n,o)=>o.charCodeAt(0)+((n<<5)-n),0),r=["bg-rose-100 text-rose-800 dark:bg-rose-900 dark:text-rose-200","bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200","bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200","bg-lime-100 text-lime-800 dark:bg-lime-900 dark:text-lime-200","bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-200","bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200","bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-200","bg-fuchsia-100 text-fuchsia-800 dark:bg-fuchsia-900 dark:text-fuchsia-200"],a=Math.abs(t)%r.length;return r[a]}function Mr(e){const t=e.split("-");return t.length>=3?t[t.length-2]:""}function Rc(e){const t=["B","KiB","MiB","GiB","TiB"];let r=e,a=0;for(;r>=1024&&a<t.length-1;)r/=1024,a++;return`${r.toFixed(1)} ${t[a]}`}const Tc=(e,t)=>Object.values(e).some(r=>Hn(r,t)),He={ingester:{title:"Ingester",ringName:re.INGESTER,ringPath:"/ring",needsTokens:!0},"partition-ring":{title:"Partition Ingester",ringName:re.PARTITION_INGESTER,ringPath:"/partition-ring",needsTokens:!0},distributor:{title:"Distributor",ringName:re.DISTRIBUTOR,ringPath:"/distributor/ring",needsTokens:!1},"pattern-ingester":{title:"Pattern Ingester",ringName:re.PATTERN_INGESTER,ringPath:"/pattern/ring",needsTokens:!0},"query-scheduler":{title:"Scheduler",ringName:re.QUERY_SCHEDULER,ringPath:"/scheduler/ring",needsTokens:!1},compactor:{title:"Compactor",ringName:re.COMPACTOR,ringPath:"/compactor/ring",needsTokens:!1},ruler:{title:"Ruler",ringName:re.RULER,ringPath:"/ruler/ring",needsTokens:!0},"index-gateway":{title:"Index Gateway",ringName:re.INDEX_GATEWAY,ringPath:"/index-gateway/ring",needsTokens:!0}};function ao(e){return Object.keys(He).find(t=>He[t].ringName===e)}function Ac(e){if(!e)return!1;const t=ao(e);return t?He[t].needsTokens:!1}const Ic=e=>{const t=[];if(!e)return t;for(const r in He)Tc(e,r)&&t.push({title:He[r].title,url:`/rings/${He[r].ringName}`});return t};function no(e,t){if(!e||!t)return"";const r=ao(t);if(!r)return"";const a=As(e,r);if(!a)return"";const n=`/ui/api/v1/proxy/${a}`,o=He[r].ringPath,i=He[r].needsTokens?"?tokens=true":"";return`${n}${o}${i}`}const oo=[{id:re.INGESTER,title:"Ingester"},{id:re.PARTITION_INGESTER,title:"Partition Ingester"},{id:re.DISTRIBUTOR,title:"Distributor"},{id:re.PATTERN_INGESTER,title:"Pattern Ingester"},{id:re.QUERY_SCHEDULER,title:"Scheduler"},{id:re.COMPACTOR,title:"Compactor"},{id:re.RULER,title:"Ruler"},{id:re.INDEX_GATEWAY,title:"Index Gateway"}];function Fc(e){const t={};try{const r=/<tbody[^>]*>([\s\S]*?)<\/tbody>/,a=e.match(r);if(!a)return t;const n=/<tr[^>]*>([\s\S]*?)<\/tr>/g,o=Array.from(a[1].matchAll(n));for(const i of o){const c=/<td[^>]*>([\s\S]*?)<\/td>/g,d=Array.from(i[1].matchAll(c)).map(u=>u[1].trim().replace(/&nbsp;/g,""));if(d.length>=10){const u=d[0],h=d[9].endsWith("%")?d[9]:`${d[9]}%`;t[u]=h}}}catch(r){console.error("Error parsing ring HTML:",r)}return t}function _c({ringName:e,isPaused:t=!1}){const{cluster:r}=Qe(),[a,n]=l.useState(null),[o,i]=l.useState(""),[c,d]=l.useState(!1),u=l.useRef(),h=l.useMemo(()=>Ac(e),[e]),p=l.useCallback(()=>no(r==null?void 0:r.members,e??""),[r,e]),b=l.useCallback(async()=>{if(!e){i("Ring name is required");return}const m=p();if(!m){i("No cluster members available");return}u.current&&u.current.abort(),u.current=new AbortController,d(!0);try{const v=await fetch(m,{headers:{Accept:"application/json"},signal:u.current.signal});if(!v.ok)throw new Error(`Failed to fetch ring: ${v.statusText}`);const y=await v.json();if(!y||!y.shards){n(null);return}const w=await fetch(m,{headers:{Accept:"text/plain"},signal:u.current.signal});if(!w.ok)throw new Error(`Failed to fetch ring ownership: ${w.statusText}`);const E=await w.text(),C=Fc(E),R={...y,shards:y.shards.map(T=>({...T,ownership:C[T.id]||"0%"}))};n(R),i("")}catch(v){if(v instanceof Error&&v.name==="AbortError")return;console.error("Error fetching ring:",v),i(v instanceof Error?v.message:"Unknown error"),n(null)}finally{d(!1)}},[e,p]),j=l.useCallback(async m=>{const v=p();if(!v)throw new Error("Ring name and node name are required");let y=0;const w=m.length;for(const E of m)try{const C=new FormData;C.append("forget",E),(await fetch(v,{method:"POST",body:C})).ok&&y++}catch(C){console.error(`Error forgetting instance ${E}:`,C)}return{success:y,total:w}},[p]),{uniqueStates:g,uniqueZones:f}=l.useMemo(()=>{if(!(a!=null&&a.shards))return{uniqueStates:[],uniqueZones:[]};const m=new Set,v=new Set;return a.shards.forEach(y=>{const w=y.state||"unknown";w.trim()&&m.add(w),y.zone&&y.zone.trim()&&v.add(y.zone)}),{uniqueStates:Array.from(m).sort(),uniqueZones:Array.from(v).sort()}},[a==null?void 0:a.shards]);return l.useEffect(()=>()=>{u.current&&u.current.abort()},[]),l.useEffect(()=>{if(b(),!t){const m=setInterval(()=>{b()},5e3);return()=>{clearInterval(m)}}},[b,t]),{ring:a,error:o,isLoading:c,fetchRing:b,forgetInstances:j,uniqueStates:g,uniqueZones:f,isTokenBased:h}}var $r="Checkbox",[Pc,bm]=Er($r),[Oc,Lc]=Pc($r),io=l.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:n,defaultChecked:o,required:i,disabled:c,value:d="on",onCheckedChange:u,form:h,...p}=e,[b,j]=l.useState(null),g=Cr(t,E=>j(E)),f=l.useRef(!1),m=b?h||!!b.closest("form"):!0,[v=!1,y]=sn({prop:n,defaultProp:o,onChange:u}),w=l.useRef(v);return l.useEffect(()=>{const E=b==null?void 0:b.form;if(E){const C=()=>y(w.current);return E.addEventListener("reset",C),()=>E.removeEventListener("reset",C)}},[b,y]),s.jsxs(Oc,{scope:r,state:v,disabled:c,children:[s.jsx(ae.button,{type:"button",role:"checkbox","aria-checked":Ke(v)?"mixed":v,"aria-required":i,"data-state":uo(v),"data-disabled":c?"":void 0,disabled:c,value:d,...p,ref:g,onKeyDown:we(e.onKeyDown,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:we(e.onClick,E=>{y(C=>Ke(C)?!0:!C),m&&(f.current=E.isPropagationStopped(),f.current||E.stopPropagation())})}),m&&s.jsx(Dc,{control:b,bubbles:!f.current,name:a,value:d,checked:v,required:i,disabled:c,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Ke(o)?!1:o})]})});io.displayName=$r;var lo="CheckboxIndicator",co=l.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...n}=e,o=Lc(lo,r);return s.jsx(rn,{present:a||Ke(o.state)||o.state===!0,children:s.jsx(ae.span,{"data-state":uo(o.state),"data-disabled":o.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});co.displayName=lo;var Dc=e=>{const{control:t,checked:r,bubbles:a=!0,defaultChecked:n,...o}=e,i=l.useRef(null),c=el(r),d=tl(t);l.useEffect(()=>{const h=i.current,p=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&j){const g=new Event("click",{bubbles:a});h.indeterminate=Ke(r),j.call(h,Ke(r)?!1:r),h.dispatchEvent(g)}},[c,r,a]);const u=l.useRef(Ke(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ke(e){return e==="indeterminate"}function uo(e){return Ke(e)?"indeterminate":e?"checked":"unchecked"}var po=io,Mc=co;const lt=l.forwardRef(({className:e,...t},r)=>s.jsx(po,{ref:r,className:N("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(Mc,{className:N("flex items-center justify-center text-current"),children:s.jsx(_t,{className:"h-4 w-4"})})}));lt.displayName=po.displayName;const Pt=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:N("w-full caption-bottom text-sm",e),...t})}));Pt.displayName="Table";const Ot=l.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:N("[&_tr]:border-b",e),...t}));Ot.displayName="TableHeader";const Lt=l.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:N("[&_tr:last-child]:border-0",e),...t}));Lt.displayName="TableBody";const $c=l.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:N("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));$c.displayName="TableFooter";const le=l.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:N("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));le.displayName="TableRow";const Q=l.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:N("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));Q.displayName="TableHead";const B=l.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:N("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));B.displayName="TableCell";const Bc=l.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:N("mt-4 text-sm text-muted-foreground",e),...t}));Bc.displayName="TableCaption";const zc=rl,Uc=al,Vc=l.forwardRef(({className:e,inset:t,children:r,...a},n)=>s.jsxs(an,{ref:n,className:N("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...a,children:[r,s.jsx(Dn,{className:"ml-auto h-4 w-4"})]}));Vc.displayName=an.displayName;const Gc=l.forwardRef(({className:e,...t},r)=>s.jsx(nn,{ref:r,className:N("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Gc.displayName=nn.displayName;const fo=l.forwardRef(({className:e,sideOffset:t=4,...r},a)=>s.jsx(sl,{children:s.jsx(on,{ref:a,sideOffset:t,className:N("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));fo.displayName=on.displayName;const nr=l.forwardRef(({className:e,inset:t,...r},a)=>s.jsx(ln,{ref:a,className:N("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));nr.displayName=ln.displayName;const qc=l.forwardRef(({className:e,children:t,checked:r,...a},n)=>s.jsxs(cn,{ref:n,className:N("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(dn,{children:s.jsx(_t,{className:"h-4 w-4"})})}),t]}));qc.displayName=cn.displayName;const Hc=l.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(un,{ref:a,className:N("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(dn,{children:s.jsx(zl,{className:"h-2 w-2 fill-current"})})}),t]}));Hc.displayName=un.displayName;const Kc=l.forwardRef(({className:e,inset:t,...r},a)=>s.jsx(pn,{ref:a,className:N("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));Kc.displayName=pn.displayName;const Qc=l.forwardRef(({className:e,...t},r)=>s.jsx(fn,{ref:r,className:N("-mx-1 my-1 h-px bg-muted",e),...t}));Qc.displayName=fn.displayName;function ne({title:e,field:t,sortField:r,sortDirection:a,onSort:n}){const o=r===t,i=c=>{r===t&&a===c||n(t)};return s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(zc,{children:[s.jsx(Uc,{asChild:!0,children:s.jsx(J,{variant:"ghost",size:"sm",className:"-ml-3 h-8 hover:bg-muted/50 data-[state=open]:bg-muted/50",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{children:e}),o?a==="desc"?s.jsx(xa,{className:"ml-2 h-4 w-4"}):s.jsx(sr,{className:"ml-2 h-4 w-4"}):s.jsx(Mn,{className:"ml-2 h-4 w-4"})]})})}),s.jsxs(fo,{align:"start",children:[s.jsxs(nr,{onClick:()=>i("asc"),className:N("cursor-pointer",o&&a==="asc"&&"bg-accent"),children:[s.jsx(sr,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),s.jsxs(nr,{onClick:()=>i("desc"),className:N("cursor-pointer",o&&a==="desc"&&"bg-accent"),children:[s.jsx(xa,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]})]})]})})}var Br="Progress",zr=100,[Wc,ym]=Er(Br),[Zc,Yc]=Wc(Br),ho=l.forwardRef((e,t)=>{const{__scopeProgress:r,value:a=null,max:n,getValueLabel:o=Xc,...i}=e;(n||n===0)&&!va(n)&&console.error(Jc(`${n}`,"Progress"));const c=va(n)?n:zr;a!==null&&!wa(a,c)&&console.error(ed(`${a}`,"Progress"));const d=wa(a,c)?a:null,u=bs(d)?o(d,c):void 0;return s.jsx(Zc,{scope:r,value:d,max:c,children:s.jsx(ae.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":bs(d)?d:void 0,"aria-valuetext":u,role:"progressbar","data-state":xo(d,c),"data-value":d??void 0,"data-max":c,...i,ref:t})})});ho.displayName=Br;var mo="ProgressIndicator",go=l.forwardRef((e,t)=>{const{__scopeProgress:r,...a}=e,n=Yc(mo,r);return s.jsx(ae.div,{"data-state":xo(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:t})});go.displayName=mo;function Xc(e,t){return`${Math.round(e/t*100)}%`}function xo(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function bs(e){return typeof e=="number"}function va(e){return bs(e)&&!isNaN(e)&&e>0}function wa(e,t){return bs(e)&&!isNaN(e)&&e<=t&&e>=0}function Jc(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zr}\`.`}function ed(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zr} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bo=ho,td=go;const yo=l.forwardRef(({className:e,value:t,...r},a)=>s.jsx(bo,{ref:a,className:N("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...r,children:s.jsx(td,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));yo.displayName=bo.displayName;function sd({visibleIds:e,selectedIds:t,onChange:r}){const a=e.every(o=>t.has(o)),n=()=>{const o=new Set(e);r(a?new Set([...t].filter(i=>!o.has(i))):new Set([...t,...e]))};return s.jsx(lt,{checked:e.length>0&&a,onCheckedChange:n,"aria-label":"Select all visible instances"})}function rd({instances:e,selectedInstances:t,onSelectInstance:r,sortField:a,sortDirection:n,onSort:o,showTokens:i=!1}){return s.jsxs(Pt,{children:[s.jsx(Ot,{children:s.jsxs(le,{className:"hover:bg-transparent",children:[s.jsx(Q,{className:"w-[50px]",children:s.jsx(sd,{visibleIds:e.map(c=>c.id),selectedIds:t,onChange:c=>{e.forEach(d=>{c.has(d.id)!==t.has(d.id)&&r(d.id)})}})}),s.jsx(Q,{className:"w-[200px]",children:s.jsx(ne,{title:"ID",field:"id",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[150px]",children:s.jsx(ne,{title:"State",field:"state",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{children:s.jsx(ne,{title:"Address",field:"address",sortField:a,sortDirection:n,onSort:o})}),i&&s.jsx(Q,{className:"w-[200px]",children:s.jsx(ne,{title:"Ownership",field:"ownership",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[150px]",children:s.jsx(ne,{title:"Zone",field:"zone",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[200px]",children:s.jsx(ne,{title:"Last Heartbeat",field:"timestamp",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[50px]"})]})}),s.jsxs(Lt,{children:[e.map(c=>{const d=i?c.ownership:0;return s.jsxs(le,{children:[s.jsx(B,{children:s.jsx(lt,{checked:t.has(c.id),onCheckedChange:()=>r(c.id),"aria-label":`Select instance ${c.id}`})}),s.jsx(B,{className:"font-medium",children:s.jsx(Re,{to:`/nodes/${c.id}`,className:"hover:underline",children:c.id})}),s.jsx(B,{children:s.jsx("span",{className:N("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",xs(c.state)),children:c.state})}),s.jsx(B,{children:c.address}),i&&s.jsx(B,{children:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsx("span",{children:d}),s.jsxs("span",{className:"text-muted-foreground",children:[c.tokens.length," tokens"]})]}),s.jsx(yo,{value:typeof d=="number"?d:Number(d.slice(0,-1)),className:"h-2"})]})}),s.jsx(B,{children:c.zone?s.jsx("span",{className:N("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",ro(c.zone)),children:c.zone}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(B,{children:s.jsx("span",{title:so(c.timestamp),className:"text-muted-foreground",children:to(c.timestamp)})}),s.jsx(B,{children:s.jsx(J,{variant:"ghost",size:"icon",asChild:!0,className:"h-8 w-8",title:"View instance details",children:s.jsx(Re,{to:`/nodes/${c.id}`,children:s.jsx(Ns,{className:"h-4 w-4"})})})})]},c.id)}),e.length===0&&s.jsx(le,{children:s.jsx(B,{colSpan:7,className:"h-24 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:"No instances found"})})})]})]})}const es=l.forwardRef(({className:e,type:t,...r},a)=>s.jsx("input",{type:t,className:N("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));es.displayName="Input";var ja=1,ad=.9,nd=.8,od=.17,Gs=.1,qs=.999,id=.9999,ld=.99,cd=/[\\\/_+.#"@\[\(\{&]/,dd=/[\\\/_+.#"@\[\(\{&]/g,ud=/[\s-]/,vo=/[\s-]/g;function or(e,t,r,a,n,o,i){if(o===t.length)return n===e.length?ja:ld;var c=`${n},${o}`;if(i[c]!==void 0)return i[c];for(var d=a.charAt(o),u=r.indexOf(d,n),h=0,p,b,j,g;u>=0;)p=or(e,t,r,a,u+1,o+1,i),p>h&&(u===n?p*=ja:cd.test(e.charAt(u-1))?(p*=nd,j=e.slice(n,u-1).match(dd),j&&n>0&&(p*=Math.pow(qs,j.length))):ud.test(e.charAt(u-1))?(p*=ad,g=e.slice(n,u-1).match(vo),g&&n>0&&(p*=Math.pow(qs,g.length))):(p*=od,n>0&&(p*=Math.pow(qs,u-n))),e.charAt(u)!==t.charAt(o)&&(p*=id)),(p<Gs&&r.charAt(u-1)===a.charAt(o+1)||a.charAt(o+1)===a.charAt(o)&&r.charAt(u-1)!==a.charAt(o))&&(b=or(e,t,r,a,u+1,o+2,i),b*Gs>p&&(p=b*Gs)),p>h&&(h=p),u=r.indexOf(d,u+1);return i[c]=h,h}function Na(e){return e.toLowerCase().replace(vo," ")}function pd(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,or(e,t,Na(e),Na(t),0,0,{})}var wo={exports:{}},jo={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var At=l;function fd(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hd=typeof Object.is=="function"?Object.is:fd,md=At.useState,gd=At.useEffect,xd=At.useLayoutEffect,bd=At.useDebugValue;function yd(e,t){var r=t(),a=md({inst:{value:r,getSnapshot:t}}),n=a[0].inst,o=a[1];return xd(function(){n.value=r,n.getSnapshot=t,Hs(n)&&o({inst:n})},[e,r,t]),gd(function(){return Hs(n)&&o({inst:n}),e(function(){Hs(n)&&o({inst:n})})},[e]),bd(r),r}function Hs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!hd(e,r)}catch{return!0}}function vd(e,t){return t()}var wd=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?vd:yd;jo.useSyncExternalStore=At.useSyncExternalStore!==void 0?At.useSyncExternalStore:wd;wo.exports=jo;var jd=wo.exports,Dt='[cmdk-group=""]',Ks='[cmdk-group-items=""]',Nd='[cmdk-group-heading=""]',Ur='[cmdk-item=""]',ka=`${Ur}:not([aria-disabled="true"])`,ir="cmdk-item-select",Ze="data-value",kd=(e,t,r)=>pd(e,t,r),No=l.createContext(void 0),ts=()=>l.useContext(No),ko=l.createContext(void 0),Vr=()=>l.useContext(ko),So=l.createContext(void 0),Eo=l.forwardRef((e,t)=>{let r=ht(()=>{var S,F;return{search:"",value:(F=(S=e.value)!=null?S:e.defaultValue)!=null?F:"",filtered:{count:0,items:new Map,groups:new Set}}}),a=ht(()=>new Set),n=ht(()=>new Map),o=ht(()=>new Map),i=ht(()=>new Set),c=Co(e),{label:d,children:u,value:h,onValueChange:p,filter:b,shouldFilter:j,loop:g,disablePointerSelection:f=!1,vimBindings:m=!0,...v}=e,y=mt(),w=mt(),E=mt(),C=l.useRef(null),R=Od();ct(()=>{if(h!==void 0){let S=h.trim();r.current.value=S,T.emit()}},[h]),ct(()=>{R(6,ue)},[]);let T=l.useMemo(()=>({subscribe:S=>(i.current.add(S),()=>i.current.delete(S)),snapshot:()=>r.current,setState:(S,F,z)=>{var D,Z,Y;if(!Object.is(r.current[S],F)){if(r.current[S]=F,S==="search")G(),X(),R(1,K);else if(S==="value"&&(z||R(5,ue),((D=c.current)==null?void 0:D.value)!==void 0)){let pe=F??"";(Y=(Z=c.current).onValueChange)==null||Y.call(Z,pe);return}T.emit()}},emit:()=>{i.current.forEach(S=>S())}}),[]),O=l.useMemo(()=>({value:(S,F,z)=>{var D;F!==((D=o.current.get(S))==null?void 0:D.value)&&(o.current.set(S,{value:F,keywords:z}),r.current.filtered.items.set(S,L(F,z)),R(2,()=>{X(),T.emit()}))},item:(S,F)=>(a.current.add(S),F&&(n.current.has(F)?n.current.get(F).add(S):n.current.set(F,new Set([S]))),R(3,()=>{G(),X(),r.current.value||K(),T.emit()}),()=>{o.current.delete(S),a.current.delete(S),r.current.filtered.items.delete(S);let z=I();R(4,()=>{G(),(z==null?void 0:z.getAttribute("id"))===S&&K(),T.emit()})}),group:S=>(n.current.has(S)||n.current.set(S,new Set),()=>{o.current.delete(S),n.current.delete(S)}),filter:()=>c.current.shouldFilter,label:d||e["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:y,inputId:E,labelId:w,listInnerRef:C}),[]);function L(S,F){var z,D;let Z=(D=(z=c.current)==null?void 0:z.filter)!=null?D:kd;return S?Z(S,r.current.search,F):0}function X(){if(!r.current.search||c.current.shouldFilter===!1)return;let S=r.current.filtered.items,F=[];r.current.filtered.groups.forEach(D=>{let Z=n.current.get(D),Y=0;Z.forEach(pe=>{let Ne=S.get(pe);Y=Math.max(Ne,Y)}),F.push([D,Y])});let z=C.current;q().sort((D,Z)=>{var Y,pe;let Ne=D.getAttribute("id"),as=Z.getAttribute("id");return((Y=S.get(as))!=null?Y:0)-((pe=S.get(Ne))!=null?pe:0)}).forEach(D=>{let Z=D.closest(Ks);Z?Z.appendChild(D.parentElement===Z?D:D.closest(`${Ks} > *`)):z.appendChild(D.parentElement===z?D:D.closest(`${Ks} > *`))}),F.sort((D,Z)=>Z[1]-D[1]).forEach(D=>{var Z;let Y=(Z=C.current)==null?void 0:Z.querySelector(`${Dt}[${Ze}="${encodeURIComponent(D[0])}"]`);Y==null||Y.parentElement.appendChild(Y)})}function K(){let S=q().find(z=>z.getAttribute("aria-disabled")!=="true"),F=S==null?void 0:S.getAttribute(Ze);T.setState("value",F||void 0)}function G(){var S,F,z,D;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=a.current.size;return}r.current.filtered.groups=new Set;let Z=0;for(let Y of a.current){let pe=(F=(S=o.current.get(Y))==null?void 0:S.value)!=null?F:"",Ne=(D=(z=o.current.get(Y))==null?void 0:z.keywords)!=null?D:[],as=L(pe,Ne);r.current.filtered.items.set(Y,as),as>0&&Z++}for(let[Y,pe]of n.current)for(let Ne of pe)if(r.current.filtered.items.get(Ne)>0){r.current.filtered.groups.add(Y);break}r.current.filtered.count=Z}function ue(){var S,F,z;let D=I();D&&(((S=D.parentElement)==null?void 0:S.firstChild)===D&&((z=(F=D.closest(Dt))==null?void 0:F.querySelector(Nd))==null||z.scrollIntoView({block:"nearest"})),D.scrollIntoView({block:"nearest"}))}function I(){var S;return(S=C.current)==null?void 0:S.querySelector(`${Ur}[aria-selected="true"]`)}function q(){var S;return Array.from(((S=C.current)==null?void 0:S.querySelectorAll(ka))||[])}function ee(S){let F=q()[S];F&&T.setState("value",F.getAttribute(Ze))}function se(S){var F;let z=I(),D=q(),Z=D.findIndex(pe=>pe===z),Y=D[Z+S];(F=c.current)!=null&&F.loop&&(Y=Z+S<0?D[D.length-1]:Z+S===D.length?D[0]:D[Z+S]),Y&&T.setState("value",Y.getAttribute(Ze))}function _(S){let F=I(),z=F==null?void 0:F.closest(Dt),D;for(;z&&!D;)z=S>0?_d(z,Dt):Pd(z,Dt),D=z==null?void 0:z.querySelector(ka);D?T.setState("value",D.getAttribute(Ze)):se(S)}let P=()=>ee(q().length-1),M=S=>{S.preventDefault(),S.metaKey?P():S.altKey?_(1):se(1)},H=S=>{S.preventDefault(),S.metaKey?ee(0):S.altKey?_(-1):se(-1)};return l.createElement(ae.div,{ref:t,tabIndex:-1,...v,"cmdk-root":"",onKeyDown:S=>{var F;if((F=v.onKeyDown)==null||F.call(v,S),!S.defaultPrevented)switch(S.key){case"n":case"j":{m&&S.ctrlKey&&M(S);break}case"ArrowDown":{M(S);break}case"p":case"k":{m&&S.ctrlKey&&H(S);break}case"ArrowUp":{H(S);break}case"Home":{S.preventDefault(),ee(0);break}case"End":{S.preventDefault(),P();break}case"Enter":if(!S.nativeEvent.isComposing&&S.keyCode!==229){S.preventDefault();let z=I();if(z){let D=new Event(ir);z.dispatchEvent(D)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:O.inputId,id:O.labelId,style:Dd},d),Is(e,S=>l.createElement(ko.Provider,{value:T},l.createElement(No.Provider,{value:O},S))))}),Sd=l.forwardRef((e,t)=>{var r,a;let n=mt(),o=l.useRef(null),i=l.useContext(So),c=ts(),d=Co(e),u=(a=(r=d.current)==null?void 0:r.forceMount)!=null?a:i==null?void 0:i.forceMount;ct(()=>{if(!u)return c.item(n,i==null?void 0:i.id)},[u]);let h=Ro(n,o,[e.value,e.children,o],e.keywords),p=Vr(),b=dt(R=>R.value&&R.value===h.current),j=dt(R=>u||c.filter()===!1?!0:R.search?R.filtered.items.get(n)>0:!0);l.useEffect(()=>{let R=o.current;if(!(!R||e.disabled))return R.addEventListener(ir,g),()=>R.removeEventListener(ir,g)},[j,e.onSelect,e.disabled]);function g(){var R,T;f(),(T=(R=d.current).onSelect)==null||T.call(R,h.current)}function f(){p.setState("value",h.current,!0)}if(!j)return null;let{disabled:m,value:v,onSelect:y,forceMount:w,keywords:E,...C}=e;return l.createElement(ae.div,{ref:Ut([o,t]),...C,id:n,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!b,"data-disabled":!!m,"data-selected":!!b,onPointerMove:m||c.getDisablePointerSelection()?void 0:f,onClick:m?void 0:g},e.children)}),Ed=l.forwardRef((e,t)=>{let{heading:r,children:a,forceMount:n,...o}=e,i=mt(),c=l.useRef(null),d=l.useRef(null),u=mt(),h=ts(),p=dt(j=>n||h.filter()===!1?!0:j.search?j.filtered.groups.has(i):!0);ct(()=>h.group(i),[]),Ro(i,c,[e.value,e.heading,d]);let b=l.useMemo(()=>({id:i,forceMount:n}),[n]);return l.createElement(ae.div,{ref:Ut([c,t]),...o,"cmdk-group":"",role:"presentation",hidden:p?void 0:!0},r&&l.createElement("div",{ref:d,"cmdk-group-heading":"","aria-hidden":!0,id:u},r),Is(e,j=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?u:void 0},l.createElement(So.Provider,{value:b},j))))}),Cd=l.forwardRef((e,t)=>{let{alwaysRender:r,...a}=e,n=l.useRef(null),o=dt(i=>!i.search);return!r&&!o?null:l.createElement(ae.div,{ref:Ut([n,t]),...a,"cmdk-separator":"",role:"separator"})}),Rd=l.forwardRef((e,t)=>{let{onValueChange:r,...a}=e,n=e.value!=null,o=Vr(),i=dt(h=>h.search),c=dt(h=>h.value),d=ts(),u=l.useMemo(()=>{var h;let p=(h=d.listInnerRef.current)==null?void 0:h.querySelector(`${Ur}[${Ze}="${encodeURIComponent(c)}"]`);return p==null?void 0:p.getAttribute("id")},[]);return l.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),l.createElement(ae.input,{ref:t,...a,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":d.listId,"aria-labelledby":d.labelId,"aria-activedescendant":u,id:d.inputId,type:"text",value:n?e.value:i,onChange:h=>{n||o.setState("search",h.target.value),r==null||r(h.target.value)}})}),Td=l.forwardRef((e,t)=>{let{children:r,label:a="Suggestions",...n}=e,o=l.useRef(null),i=l.useRef(null),c=ts();return l.useEffect(()=>{if(i.current&&o.current){let d=i.current,u=o.current,h,p=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let b=d.offsetHeight;u.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return p.observe(d),()=>{cancelAnimationFrame(h),p.unobserve(d)}}},[]),l.createElement(ae.div,{ref:Ut([o,t]),...n,"cmdk-list":"",role:"listbox","aria-label":a,id:c.listId},Is(e,d=>l.createElement("div",{ref:Ut([i,c.listInnerRef]),"cmdk-list-sizer":""},d)))}),Ad=l.forwardRef((e,t)=>{let{open:r,onOpenChange:a,overlayClassName:n,contentClassName:o,container:i,...c}=e;return l.createElement(Rr,{open:r,onOpenChange:a},l.createElement(Tr,{container:i},l.createElement(Yt,{"cmdk-overlay":"",className:n}),l.createElement(Xt,{"aria-label":e.label,"cmdk-dialog":"",className:o},l.createElement(Eo,{ref:t,...c}))))}),Id=l.forwardRef((e,t)=>dt(r=>r.filtered.count===0)?l.createElement(ae.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Fd=l.forwardRef((e,t)=>{let{progress:r,children:a,label:n="Loading...",...o}=e;return l.createElement(ae.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},Is(e,i=>l.createElement("div",{"aria-hidden":!0},i)))}),he=Object.assign(Eo,{List:Td,Item:Sd,Input:Rd,Group:Ed,Separator:Cd,Dialog:Ad,Empty:Id,Loading:Fd});function _d(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function Pd(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function Co(e){let t=l.useRef(e);return ct(()=>{t.current=e}),t}var ct=typeof window>"u"?l.useEffect:l.useLayoutEffect;function ht(e){let t=l.useRef();return t.current===void 0&&(t.current=e()),t}function Ut(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}function dt(e){let t=Vr(),r=()=>e(t.snapshot());return jd.useSyncExternalStore(t.subscribe,r,r)}function Ro(e,t,r,a=[]){let n=l.useRef(),o=ts();return ct(()=>{var i;let c=(()=>{var u;for(let h of r){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(u=h.current.textContent)==null?void 0:u.trim():n.current}})(),d=a.map(u=>u.trim());o.value(e,c,d),(i=t.current)==null||i.setAttribute(Ze,c),n.current=c}),n}var Od=()=>{let[e,t]=l.useState(),r=ht(()=>new Map);return ct(()=>{r.current.forEach(a=>a()),r.current=new Map},[e]),(a,n)=>{r.current.set(a,n),t({})}};function Ld(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Is({asChild:e,children:t},r){return e&&l.isValidElement(t)?l.cloneElement(Ld(t),{ref:t.ref},r(t.props.children)):r(t)}var Dd={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const To=Rr,Md=Tr,Ao=l.forwardRef(({className:e,...t},r)=>s.jsx(Yt,{ref:r,className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Ao.displayName=Yt.displayName;const Gr=l.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(Md,{children:[s.jsx(Ao,{}),s.jsxs(Xt,{ref:a,className:N("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,s.jsxs(hn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Fr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Gr.displayName=Xt.displayName;const qr=({className:e,...t})=>s.jsx("div",{className:N("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});qr.displayName="DialogHeader";const Hr=({className:e,...t})=>s.jsx("div",{className:N("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Hr.displayName="DialogFooter";const Kr=l.forwardRef(({className:e,...t},r)=>s.jsx(ws,{ref:r,className:N("text-lg font-semibold leading-none tracking-tight",e),...t}));Kr.displayName=ws.displayName;const Qr=l.forwardRef(({className:e,...t},r)=>s.jsx(js,{ref:r,className:N("text-sm text-muted-foreground",e),...t}));Qr.displayName=js.displayName;const Io=l.forwardRef(({className:e,...t},r)=>s.jsx(he,{ref:r,className:N("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Io.displayName=he.displayName;const Fo=l.forwardRef(({className:e,...t},r)=>s.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[s.jsx($n,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),s.jsx(he.Input,{ref:r,className:N("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Fo.displayName=he.Input.displayName;const $d=l.forwardRef(({className:e,...t},r)=>s.jsx(he.List,{ref:r,className:N("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));$d.displayName=he.List.displayName;const _o=l.forwardRef((e,t)=>s.jsx(he.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));_o.displayName=he.Empty.displayName;const Po=l.forwardRef(({className:e,...t},r)=>s.jsx(he.Group,{ref:r,className:N("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));Po.displayName=he.Group.displayName;const Bd=l.forwardRef(({className:e,...t},r)=>s.jsx(he.Separator,{ref:r,className:N("-mx-1 h-px bg-border",e),...t}));Bd.displayName=he.Separator.displayName;const lr=l.forwardRef(({className:e,...t},r)=>s.jsx(he.Item,{ref:r,className:N("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));lr.displayName=he.Item.displayName;const zd=ol,Ud=il,Oo=l.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},n)=>s.jsx(nl,{children:s.jsx(mn,{ref:n,align:t,sideOffset:r,className:N("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));Oo.displayName=mn.displayName;function ot({options:e=[],selected:t=[],onChange:r,placeholder:a="Select options...",emptyMessage:n="No options found.",className:o}){const[i,c]=l.useState(!1),d=b=>{const j=t.includes(b)?t.filter(g=>g!==b):[...t,b];r(j)},u=()=>{t.length===e.length?r([]):r(e.map(b=>b.value))},h=t.length,p=e.length;return s.jsxs(zd,{open:i,onOpenChange:c,children:[s.jsx(Ud,{asChild:!0,children:s.jsxs(J,{variant:"outline",role:"combobox","aria-expanded":i,className:N("justify-between",o),children:[h===0?a:`${h} selected`,s.jsx(Mn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),s.jsx(Oo,{className:"w-[200px] p-0",children:s.jsxs(Io,{children:[s.jsx(Fo,{placeholder:a}),s.jsx(_o,{children:n}),s.jsxs(Po,{children:[p>0&&s.jsx(lr,{onSelect:u,children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lt,{checked:h>0&&h===p,"aria-label":"Select all"}),s.jsx("span",{children:"Select all"})]})}),e.map(b=>s.jsx(lr,{onSelect:()=>d(b.value),children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(lt,{checked:t.includes(b.value)}),s.jsx("span",{children:b.label})]})},b.value))]})]})})]})}function Vd({idFilter:e,onIdFilterChange:t,stateFilter:r,onStateFilterChange:a,zoneFilter:n,onZoneFilterChange:o,uniqueStates:i,uniqueZones:c}){return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx($n,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(es,{placeholder:"Filter by ID...",value:e,onChange:d=>t(d.target.value),className:"pl-8"})]}),i.length>0&&s.jsx(ot,{options:i.map(d=>({value:d,label:d})),selected:r,onChange:a,placeholder:"Filter by State",className:"w-[180px]"}),c.length>0&&s.jsx(ot,{options:c.map(d=>({value:d,label:d})),selected:n,onChange:o,placeholder:"Filter by Zone",className:"w-[180px]"})]})}const Gd=e=>{switch(e){case"ACTIVE":return"#22c55e";case"LEAVING":return"#eab308";case"PENDING":return"#3b82f6";case"JOINING":return"#a855f7";case"LEFT":return"#ef4444";default:return"#6b7280"}};function qd({instances:e}){const t=l.useMemo(()=>{const a=new Map;return e.forEach(n=>{const o=n.state||"unknown";a.set(o,(a.get(o)||0)+1)}),Array.from(a.entries()).sort((n,o)=>o[1]-n[1]).map(([n,o])=>({name:n,value:o,color:Gd(n)}))},[e]),r=l.useMemo(()=>e.length,[e]);return t.length===0?null:s.jsxs("div",{className:"w-full h-[120px] relative",children:[s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsx("div",{className:"text-xl font-bold",children:r}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Instances"})]}),s.jsx(Ss,{width:"100%",height:"100%",children:s.jsxs(Es,{children:[s.jsx(Cs,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:60,innerRadius:42,dataKey:"value",paddingAngle:1,strokeWidth:1,children:t.map(a=>s.jsx(Rs,{fill:a.color,stroke:"hsl(var(--background))"},`cell-${a.name}`))}),s.jsx(Ts,{content:({active:a,payload:n})=>{if(!a||!n||!n[0])return null;const o=n[0].payload;return s.jsxs("div",{className:"bg-background border rounded-lg shadow-lg px-3 py-2 flex items-center gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm",style:{backgroundColor:o.color}}),s.jsx("span",{className:"text-sm font-medium",children:o.name}),s.jsx("span",{className:"text-sm font-semibold",children:o.value})]})}})]})})]})}function Lo({onRefresh:e,isPaused:t=!1,isLoading:r,className:a}){const[n,o]=l.useState(r);return l.useEffect(()=>{let i;return r?o(!0):i=setTimeout(()=>{o(!1)},1e3),()=>{i&&clearTimeout(i)}},[r]),s.jsxs("div",{className:`flex items-center gap-2 text-sm text-muted-foreground ${a}`,children:[s.jsx(J,{variant:"secondary",size:"sm",className:"h-6 px-2 text-xs hover:bg-muted",onClick:e,children:"Refresh now"}),t?s.jsx(Ul,{className:"h-3 w-3 text-orange-500"}):s.jsx(it,{className:`h-3 w-3 ${n?"animate-spin text-emerald-500 ":"opacity-0 transition-opacity duration-1000"} `}),s.jsx("span",{className:"transition-opacity duration-1000",children:t?"Auto-refresh paused":n?"Refreshing...":""})]})}const Hd=ft("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Fs=l.forwardRef(({className:e,variant:t,...r},a)=>s.jsx("div",{ref:a,role:"alert",className:N(Hd({variant:t}),e),...r}));Fs.displayName="Alert";const _s=l.forwardRef(({className:e,...t},r)=>s.jsx("h5",{ref:r,className:N("mb-1 font-medium leading-none tracking-tight",e),...t}));_s.displayName="AlertTitle";const Ps=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,className:N("text-sm [&_p]:leading-relaxed",e),...t}));Ps.displayName="AlertDescription";function Wr({error:e,ringName:t}){return e?s.jsxs(Fs,{variant:"destructive",children:[s.jsx(_r,{className:"h-4 w-4"}),s.jsx(_s,{children:"Error"}),s.jsx(Ps,{children:e})]}):t?null:s.jsx("div",{className:"container space-y-6 p-6",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(Bn,{className:"h-6 w-6"}),s.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Rings"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:oo.map(r=>s.jsx(Re,{to:`/rings/${r.id}`,children:s.jsxs(ge,{className:"hover:bg-muted/50 transition-colors cursor-pointer",children:[s.jsx(je,{children:s.jsx(Ce,{children:r.title})}),s.jsx(xe,{children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["View and manage ",r.title.toLowerCase()," ring members"]})})]})},r.id))})]})})}const Kd=5,Qd=1e6;let Qs=0;function Wd(){return Qs=(Qs+1)%Number.MAX_SAFE_INTEGER,Qs.toString()}const Ws=new Map,Sa=e=>{if(Ws.has(e))return;const t=setTimeout(()=>{Ws.delete(e),zt({type:"REMOVE_TOAST",toastId:e})},Qd);Ws.set(e,t)},Zd=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Kd)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?Sa(r):e.toasts.forEach(a=>{Sa(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},cs=[];let ds={toasts:[]};function zt(e){ds=Zd(ds,e),cs.forEach(t=>{t(ds)})}function Yd({...e}){const t=Wd(),r=n=>zt({type:"UPDATE_TOAST",toast:{...n,id:t}}),a=()=>zt({type:"DISMISS_TOAST",toastId:t});return zt({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:n=>{n||a()}}}),{id:t,dismiss:a,update:r}}function Zr(){const[e,t]=l.useState(ds);return l.useEffect(()=>(cs.push(t),()=>{const r=cs.indexOf(t);r>-1&&cs.splice(r,1)}),[e]),{...e,toast:Yd,dismiss:r=>zt({type:"DISMISS_TOAST",toastId:r})}}function Xd({ringName:e}){var se;const[t,r]=l.useState(new Set),[a,n]=l.useState(!1),[o,i]=l.useState(0),[c,d]=l.useState("id"),[u,h]=l.useState("asc"),[p,b]=l.useState(""),[j,g]=l.useState([]),[f,m]=l.useState([]),[v,y]=l.useState(!1),{ring:w,error:E,isLoading:C,fetchRing:R,forgetInstances:T,uniqueStates:O,uniqueZones:L,isTokenBased:X}=_c({ringName:e,isPaused:t.size>0}),K=l.useMemo(()=>w!=null&&w.shards?w.shards.filter(_=>t.has(_.id)):[],[w==null?void 0:w.shards,t]),G=l.useCallback(_=>{d(P=>P===_?(h(M=>M==="asc"?"desc":"asc"),_):(h("asc"),_))},[]),ue=l.useCallback(_=>{r(P=>{const M=new Set(P);return M.has(_)?M.delete(_):M.add(_),M})},[]),{toast:I}=Zr(),q=l.useCallback(async()=>{if(t.size!==0)try{n(!0),i(0);const{success:_,total:P}=await T(Array.from(t));_>0&&(await R(),r(new Set)),_<P&&I({title:"Failed to forget instances",description:`Failed to forget ${P-_} instance(s)`,variant:"destructive"})}catch{I({title:"Failed to forget instances",description:`${E}`,variant:"destructive"})}finally{n(!1),y(!1)}},[t,T,R,I,E]),ee=l.useMemo(()=>w!=null&&w.shards?w.shards.filter(_=>{const P=_.id.toLowerCase().includes(p.toLowerCase()),M=j.length===0||j.includes(_.state),H=f.length===0||f.includes(_.zone);return P&&M&&H}).sort((_,P)=>{let M=0;switch(c){case"id":M=_.id.localeCompare(P.id);break;case"state":M=_.state.localeCompare(P.state);break;case"address":M=_.address.localeCompare(P.address);break;case"zone":M=(_.zone||"").localeCompare(P.zone||"");break;case"timestamp":M=new Date(_.timestamp).getTime()-new Date(P.timestamp).getTime();break;case"tokens":M=_.tokens.length-P.tokens.length;break;case"ownership":M=parseFloat(_.ownership)-parseFloat(P.ownership);break}return u==="asc"?M:-M}):[],[w==null?void 0:w.shards,p,j,f,c,u]);return E?s.jsx(Wr,{error:E,ringName:e}):s.jsxs("div",{className:"container space-y-6 p-6",children:[s.jsxs(ge,{children:[s.jsx(je,{children:s.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs(Ce,{className:"text-3xl font-semibold tracking-tight",children:[((se=oo.find(_=>_.id===e))==null?void 0:se.title)||""," ","Ring Members"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View and manage ring instances with their current status and configuration"})]}),s.jsxs("div",{className:"flex items-center justify-between min-h-[32px]",children:[s.jsx(Lo,{onRefresh:R,isPaused:t.size>0,isLoading:C}),t.size>0&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.size," instance",t.size!==1?"s":""," selected"]}),s.jsxs(J,{onClick:()=>y(!0),disabled:a,size:"sm",variant:"outline",className:N("border-red-200 bg-red-50 text-red-900 hover:bg-red-100 hover:text-red-900","dark:border-red-800 dark:bg-red-950 dark:text-red-200 dark:hover:bg-red-900","disabled:hover:bg-red-50 dark:disabled:hover:bg-red-950"),children:[a&&s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"mr-2 h-4 w-4 animate-spin"}),o>0&&s.jsxs("span",{className:"mr-2",children:[o,"/",t.size]})]}),"Forget Selected"]})]})]})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"w-[250px]",children:(w==null?void 0:w.shards)&&s.jsx(qd,{instances:w.shards})})})]})}),s.jsxs(xe,{className:"space-y-6",children:[s.jsx(Vd,{idFilter:p,onIdFilterChange:b,stateFilter:j,onStateFilterChange:g,zoneFilter:f,onZoneFilterChange:m,uniqueStates:O,uniqueZones:L}),s.jsx("div",{className:"rounded-md border bg-card",children:s.jsx(rd,{instances:ee,selectedInstances:t,onSelectInstance:ue,sortField:c,sortDirection:u,onSort:G,showTokens:X})})]})]}),s.jsx(To,{open:v,onOpenChange:y,children:s.jsxs(Gr,{children:[s.jsxs(qr,{children:[s.jsx(Kr,{children:"Confirm Forget Instances"}),s.jsx(Qr,{children:"Are you sure you want to forget the following instances? This action cannot be undone."})]}),s.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:s.jsx("div",{className:"space-y-2",children:K.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium",children:_.id}),s.jsx("span",{className:N("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",xs(_.state)),children:_.state})]}),s.jsx("span",{className:"text-sm text-muted-foreground",children:_.address})]},_.id))})}),s.jsxs(Hr,{children:[s.jsx(J,{variant:"outline",onClick:()=>y(!1),disabled:a,children:"Cancel"}),s.jsx(J,{variant:"outline",onClick:q,disabled:a,className:N("border-red-200 bg-red-50 text-red-900 hover:bg-red-100 hover:text-red-900","dark:border-red-800 dark:bg-red-950 dark:text-red-200 dark:hover:bg-red-900","disabled:hover:bg-red-50 dark:disabled:hover:bg-red-950"),children:a?s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"mr-2 h-4 w-4 animate-spin"}),"Forgetting..."]}):"Forget Instances"})]})]})})]})}const Jd=()=>{const e=l.useRef({});return{fetchMetrics:l.useCallback(async({nodeNames:r,metrics:a})=>{if(!r.length)return{};const n={...e.current},o={};return await Promise.all(r.map(async i=>{try{const c=await fetch(`/ui/api/v1/proxy/${i}/metrics`);if(!c.ok)throw new Error(`Failed to fetch metrics: ${c.statusText}`);const d=await c.text(),u={timestamp:Date.now(),values:{}};a.forEach(p=>{const b=new RegExp(`${p}\\{[^}]*\\}\\s+([\\d.e+]+)`),j=d.match(b);j&&(u.values[p]=parseFloat(j[1]))});const h=e.current[i];if(n[i]=u,h){const p=(u.timestamp-h.timestamp)/1e3;if(p>0){const b=a.map(j=>{const g=u.values[j],f=h.values[j];if(g!==void 0&&f!==void 0){const m=(g-f)/p;return{name:j,rate:m,currentValue:g}}return{name:j,rate:0,currentValue:g??0}});o[i]=b}}}catch(c){console.error(`Error fetching metrics for node ${i}:`,c)}})),e.current=n,o},[])}},eu={0:"PartitionUnknown",1:"PartitionPending",2:"PartitionActive",3:"PartitionInactive",4:"PartitionDeleted"};function tu({isPaused:e=!1}={}){const{cluster:t,isLoading:r}=Qe(),[a,n]=l.useState({partitions:[],error:"",isLoading:!1}),o=l.useRef(),i=l.useCallback(()=>no(t==null?void 0:t.members,re.PARTITION_INGESTER),[t]),{fetchMetrics:c}=Jd(),d=l.useCallback(async()=>{if(!i()){n(p=>({...p,partitions:[],error:"No cluster members available",isLoading:!1}));return}o.current&&o.current.abort(),o.current=new AbortController;try{n(m=>({...m,isLoading:!0,error:""}));const p=await fetch(i(),{signal:o.current.signal,headers:{Accept:"application/json"}});if(!p.ok)throw new Error(`Failed to fetch partitions: ${p.statusText}`);const j=(await p.json()).partitions.flatMap(m=>m.owner_ids.map(v=>({...m,owner_id:v,owner_ids:[v],zone:Mr(v)}))),g=Array.from(new Set(j.map(m=>m.owner_ids).flat().filter(m=>m!==void 0))),f=await c({nodeNames:g,metrics:["loki_ingest_storage_reader_fetch_bytes_total","loki_ingest_storage_reader_fetch_compressed_bytes_total"]});n(m=>({...m,isLoading:!1,partitions:j.map(v=>{var w,E;if(!v.owner_id)return v;const y=f[v.owner_id]||[];return{...v,uncompressedRate:((w=y.find(C=>C.name==="loki_ingest_storage_reader_fetch_bytes_total"))==null?void 0:w.rate)||0,compressedRate:((E=y.find(C=>C.name==="loki_ingest_storage_reader_fetch_compressed_bytes_total"))==null?void 0:E.rate)||0}})}))}catch(p){p instanceof Error&&p.name!=="AbortError"&&n(b=>({...b,error:p instanceof Error?p.message:"Unknown error occurred",isLoading:!1}))}},[i,c]),u=l.useCallback(async(p,b)=>{if(!i())throw new Error("No cluster members available");const j=Array.from(new Set(p)),g=j.length;let f=0;return await Promise.allSettled(j.map(async m=>{const v=new FormData;v.append("action","change_state"),v.append("partition_id",m.toString());const y=eu[b];if(y===void 0)throw new Error(`Invalid partition state: ${b}`);v.append("partition_state",y.toString());const w=await fetch(i(),{method:"POST",body:v});if(!w.ok){const E=await w.text();throw new Error(`Failed to change state for partition ${m}: ${E}`)}return f++,m})),{success:f,total:g}},[i]),h=l.useMemo(()=>{const p=new Set,b=new Set,j={};return a.partitions.forEach(g=>{const f=g.state.toString();j[f]=(j[f]||0)+1,p.add(f),g.owner_ids.forEach(m=>{const v=m.split("-")[2];v&&b.add(v)})}),{partitionsByState:j,uniqueStates:Array.from(p).sort(),uniqueZones:Array.from(b).sort()}},[a.partitions]);return l.useEffect(()=>()=>{o.current&&o.current.abort()},[]),l.useEffect(()=>{if(d(),!e){const p=setInterval(d,5e3);return()=>clearInterval(p)}},[d,e]),{partitions:a.partitions,error:a.error,isLoading:a.isLoading||r,fetchPartitions:d,changePartitionState:u,...h}}function su(e,t){return e===void 0||t===void 0||Math.abs((e-t)/t)<.1?null:e>t?"up":"down"}function ru({trend:e}){return e?e==="up"?s.jsx(Vl,{className:"inline h-4 w-4 text-green-500 ml-1"}):s.jsx(Gl,{className:"inline h-4 w-4 text-red-500 ml-1"}):null}function Ea({currentRate:e,label:t,className:r}){const a=l.useRef(e),n=l.useMemo(()=>su(e,a.current),[e]);return l.useEffect(()=>{const o=setTimeout(()=>{a.current=e},2e3);return()=>clearTimeout(o)},[e]),s.jsxs("span",{className:r,children:[Rc(e),"/s",t&&` ${t}`,s.jsx(ru,{trend:n})]})}function au({allPartitions:e,selectedIds:t,onChange:r}){const a=l.useMemo(()=>Array.from(new Set(e.map(i=>i.id))),[e]),n=a.every(i=>t.has(i)),o=()=>{r(n?new Set:new Set(a))};return s.jsx(lt,{checked:a.length>0&&n,onCheckedChange:o,"aria-label":"Select all partitions"})}function nu(e){switch(e){case 2:return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case 1:return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case 3:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case 4:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}}const ou=[{value:1,label:"Pending"},{value:2,label:"Active"},{value:3,label:"Inactive"},{value:4,label:"Deleted"}];function iu({partitions:e,selectedPartitions:t,onSelectPartition:r,sortField:a,sortDirection:n,onSort:o}){const i=l.useMemo(()=>[...e].sort((c,d)=>{var h;let u=0;switch(a){case"uncompressed_rate":{u=(c.uncompressedRate||0)-(d.uncompressedRate||0);break}case"compressed_rate":{u=(c.compressedRate||0)-(d.compressedRate||0);break}case"id":u=c.id-d.id;break;case"state":u=c.state-d.state;break;case"owner":u=((h=c.owner_id)==null?void 0:h.localeCompare(d.owner_id||""))||0;break;case"zone":u=(c.zone||"").localeCompare(d.zone||"");break;case"timestamp":u=new Date(c.state_timestamp).getTime()-new Date(d.state_timestamp).getTime();break}return n==="asc"?u:-u}),[e,a,n]);return s.jsx(s.Fragment,{children:s.jsxs(Pt,{children:[s.jsx(Ot,{children:s.jsxs(le,{className:"hover:bg-transparent",children:[s.jsx(Q,{className:"w-[50px]",children:s.jsx(au,{allPartitions:e,selectedIds:t,onChange:c=>{new Set(e.map(u=>u.id)).forEach(u=>{c.has(u)!==t.has(u)&&r(u)})}})}),s.jsx(Q,{className:"w-[200px]",children:s.jsx(ne,{title:"Owner",field:"owner",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[150px]",children:s.jsx(ne,{title:"Zone",field:"zone",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[100px]",children:s.jsx(ne,{title:"Partition ID",field:"id",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[150px]",children:s.jsx(ne,{title:"State",field:"state",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[200px]",children:s.jsx(ne,{title:"Last Update",field:"timestamp",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[150px]",children:s.jsx(ne,{title:"Uncompressed Rate",field:"uncompressed_rate",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[150px]",children:s.jsx(ne,{title:"Compressed Rate",field:"compressed_rate",sortField:a,sortDirection:n,onSort:o})}),s.jsx(Q,{className:"w-[100px]"})]})}),s.jsxs(Lt,{children:[i.map(c=>{var d;return s.jsxs(le,{children:[s.jsx(B,{children:s.jsx(lt,{checked:t.has(c.id),onCheckedChange:()=>r(c.id),"aria-label":`Select partition ${c.id}`})}),s.jsx(B,{className:"font-medium",children:s.jsx(Re,{to:`/nodes/${c.owner_id}`,className:"hover:underline",children:c.owner_id})}),s.jsx(B,{children:s.jsx("span",{className:N("inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",ro(c.zone||"")),children:c.zone||"-"})}),s.jsx(B,{children:s.jsx("span",{className:N("inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium",c.corrupted?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-muted"),title:c.corrupted?"Corrupted":void 0,children:c.id})}),s.jsx(B,{children:s.jsx("span",{className:N("inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium",nu(c.state)),children:((d=ou.find(u=>u.value===c.state))==null?void 0:d.label)||"Unknown"})}),s.jsx(B,{children:s.jsx("span",{title:so(c.state_timestamp),className:"text-muted-foreground",children:to(c.state_timestamp)})}),s.jsx(B,{children:s.jsx(Ea,{currentRate:c.uncompressedRate||0,className:"text-muted-foreground inline-flex items-center"})}),s.jsx(B,{children:s.jsx(Ea,{currentRate:c.compressedRate||0,className:"text-muted-foreground inline-flex items-center"})}),s.jsx(B,{children:s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(Re,{to:`/nodes/${c.owner_id}`,className:"hover:underline",children:s.jsx(J,{variant:"ghost",size:"icon",className:"h-8 w-8",title:"View instance details",children:s.jsx(Ns,{className:"h-4 w-4"})})})})})]},`${c.owner_id}-${c.id}`)}),i.length===0&&s.jsx(le,{children:s.jsx(B,{colSpan:7,className:"h-24 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:"No partitions found"})})})]})]})})}const Do=fl,Mo=hl,Yr=l.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(gn,{ref:a,className:N("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,s.jsx(ll,{asChild:!0,children:s.jsx(ks,{className:"h-4 w-4 opacity-50"})})]}));Yr.displayName=gn.displayName;const $o=l.forwardRef(({className:e,...t},r)=>s.jsx(xn,{ref:r,className:N("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(zn,{className:"h-4 w-4"})}));$o.displayName=xn.displayName;const Bo=l.forwardRef(({className:e,...t},r)=>s.jsx(bn,{ref:r,className:N("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(ks,{className:"h-4 w-4"})}));Bo.displayName=bn.displayName;const Xr=l.forwardRef(({className:e,children:t,position:r="popper",...a},n)=>s.jsx(cl,{children:s.jsxs(yn,{ref:n,className:N("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[s.jsx($o,{}),s.jsx(dl,{className:N("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(Bo,{})]})}));Xr.displayName=yn.displayName;const lu=l.forwardRef(({className:e,...t},r)=>s.jsx(vn,{ref:r,className:N("px-2 py-1.5 text-sm font-semibold",e),...t}));lu.displayName=vn.displayName;const Jr=l.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(wn,{ref:a,className:N("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(ul,{children:s.jsx(_t,{className:"h-4 w-4"})})}),s.jsx(pl,{children:t})]}));Jr.displayName=wn.displayName;const cu=l.forwardRef(({className:e,...t},r)=>s.jsx(jn,{ref:r,className:N("-mx-1 my-1 h-px bg-muted",e),...t}));cu.displayName=jn.displayName;const du=e=>{switch(e){case 2:return"#22c55e";case 1:return"#3b82f6";case 3:return"#eab308";case 4:return"#ef4444";default:return"#6b7280"}};function uu({partitions:e}){const t=l.useMemo(()=>{const a=new Map;return e.forEach(n=>{const o=n.state;a.set(o,(a.get(o)||0)+1)}),Array.from(a.entries()).sort((n,o)=>o[1]-n[1]).map(([n,o])=>({name:Jn[n],value:o,color:du(n)}))},[e]),r=l.useMemo(()=>e.length,[e]);return t.length===0?null:s.jsxs("div",{className:"w-full h-[120px] relative",children:[s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsx("div",{className:"text-xl font-bold",children:r}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Partitions"})]}),s.jsx(Ss,{width:"100%",height:"100%",children:s.jsxs(Es,{children:[s.jsx(Cs,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:60,innerRadius:42,dataKey:"value",paddingAngle:1,strokeWidth:1,children:t.map(a=>s.jsx(Rs,{fill:a.color,stroke:"hsl(var(--background))"},`cell-${a.name}`))}),s.jsx(Ts,{content:({active:a,payload:n})=>{if(!a||!n||!n[0])return null;const o=n[0].payload;return s.jsxs("div",{className:"bg-background border rounded-lg shadow-lg px-3 py-2 flex items-center gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm",style:{backgroundColor:o.color}}),s.jsx("span",{className:"text-sm font-medium",children:o.name}),s.jsx("span",{className:"text-sm font-semibold",children:o.value})]})}})]})})]})}function pu({idFilter:e,onIdFilterChange:t,stateFilter:r,onStateFilterChange:a,zoneFilter:n,onZoneFilterChange:o,ownerFilter:i,onOwnerFilterChange:c,uniqueStates:d,partitions:u}){const h=d.map(f=>({value:f,label:Jn[parseInt(f)]})),p=new Set;u.forEach(f=>{f.owner_ids.forEach(m=>{const v=Mr(m);v&&p.add(v)})});const b=Array.from(p).sort().map(f=>({value:f,label:f})),g=Array.from(new Set(u.map(f=>f.id.toString()))).sort((f,m)=>parseInt(f)-parseInt(m)).map(f=>({value:f,label:`Partition ${f}`}));return s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsx("div",{className:"flex-1 min-w-[200px]",children:s.jsx(es,{placeholder:"Filter by owner name...",value:i,onChange:f=>c(f.target.value),className:"max-w-sm"})}),s.jsx(ot,{options:h,selected:r,onChange:a,placeholder:"Filter by state",className:"w-[200px]"}),s.jsx(ot,{options:b,selected:n,onChange:o,placeholder:"Filter by zone",className:"w-[200px]"}),s.jsx(ot,{options:g,selected:e,onChange:t,placeholder:"Filter by partition ID",className:"w-[200px]"})]})}const os=[{value:1,label:"Pending"},{value:2,label:"Active"},{value:3,label:"Inactive"},{value:4,label:"Deleted"}];function fu(){const[e,t]=l.useState(new Set),[r,a]=l.useState("id"),[n,o]=l.useState("asc"),[i,c]=l.useState([]),[d,u]=l.useState([]),[h,p]=l.useState([]),[b,j]=l.useState(""),[g,f]=l.useState(!1),[m,v]=l.useState(),[y,w]=l.useState(!1),{toast:E}=Zr(),{partitions:C,error:R,isLoading:T,fetchPartitions:O,changePartitionState:L,uniqueStates:X,uniqueZones:K}=tu({isPaused:e.size>0}),G=l.useMemo(()=>C.flatMap(P=>P.owner_ids.map(M=>({...P,owner_id:M,owner_ids:[M],zone:Mr(M)}))),[C]),ue=l.useCallback(P=>{a(M=>M===P?(o(H=>H==="asc"?"desc":"asc"),P):(o("asc"),P))},[]),I=l.useCallback(P=>{t(M=>{const H=new Set(M);return H.has(P)?H.delete(P):H.add(P),H})},[]),q=l.useMemo(()=>G.filter(P=>{const M=i.length===0||i.includes(P.id.toString()),H=d.length===0||d.includes(P.state.toString()),S=h.length===0||h.includes(P.zone),F=b?P.owner_id.toLowerCase().includes(b.toLowerCase()):!0;return M&&H&&S&&F}),[G,i,d,h,b]),ee=l.useMemo(()=>G.filter(P=>e.has(P.id)),[G,e]),se=l.useCallback(async()=>{var P;if(!(e.size===0||!m))try{f(!0);const M=parseInt(m,10),{success:H,total:S}=await L(ee.map(F=>F.id),m);H>0&&S===H?(E({title:"State Change Success",description:`Successfully changed state for ${H} partition${H!==1?"s":""} to ${(P=os.find(F=>F.value===M))==null?void 0:P.label}`}),await O()):H<S&&E({title:"State Change Failed",variant:"destructive",description:`Failed to change state for ${S-H} partition${S-H!==1?"s":""}.`}),t(new Set),v(void 0)}catch{E({title:"Error",description:"An unexpected error occurred while changing partition states."})}finally{f(!1),w(!1)}},[e,m,ee,L,O,E]),_={partitions:q,selectedPartitions:e,onSelectPartition:I,sortField:r,sortDirection:n,onSort:ue,onStateChange:se};return R?s.jsx(Wr,{error:R,ringName:"partition-ingester"}):s.jsxs("div",{className:"container space-y-6 p-6",children:[s.jsxs(ge,{children:[s.jsx(je,{children:s.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(Ce,{className:"text-3xl font-semibold tracking-tight",children:"Partition Ring Members"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View and manage partition ring instances with their current status and configuration"})]}),s.jsxs("div",{className:"flex items-center justify-between min-h-[32px]",children:[s.jsx(Lo,{onRefresh:O,isPaused:e.size>0,isLoading:T}),e.size>0&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:[e.size," partition",e.size!==1?"s":""," selected"]}),s.jsxs(Do,{value:m,onValueChange:v,children:[s.jsx(Yr,{className:"w-[160px]",children:s.jsx(Mo,{placeholder:"Select new state"})}),s.jsx(Xr,{children:os.map(P=>s.jsx(Jr,{value:P.value.toString(),children:P.label},P.value))})]}),s.jsxs(J,{onClick:()=>w(!0),disabled:g||!m,size:"sm",variant:"outline",children:[g&&s.jsx(it,{className:"mr-2 h-4 w-4 animate-spin"}),"Change State"]})]})]})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"w-[250px]",children:s.jsx(uu,{partitions:C})})})]})}),s.jsxs(xe,{className:"space-y-6",children:[s.jsx(pu,{idFilter:i,onIdFilterChange:c,stateFilter:d,onStateFilterChange:u,zoneFilter:h,onZoneFilterChange:p,ownerFilter:b,onOwnerFilterChange:j,uniqueStates:X,uniqueZones:K,partitions:C}),s.jsx("div",{className:"rounded-md border bg-card",children:s.jsx(iu,{..._})})]})]}),s.jsx(To,{open:y,onOpenChange:w,children:s.jsxs(Gr,{children:[s.jsxs(qr,{children:[s.jsx(Kr,{children:"Confirm State Change"}),s.jsx(Qr,{children:"Are you sure you want to change the state of these partitions?"})]}),s.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:s.jsx("div",{className:"space-y-2",children:Array.from(new Set(ee.map(P=>P.id))).map(P=>{var H,S;const M=C.find(F=>F.id===P);return M?s.jsx("div",{className:"flex items-center justify-between p-2 rounded-md bg-muted",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium",children:["Partition ",P]}),s.jsx("span",{className:N("inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium",xs(M.state)),children:(H=os.find(F=>F.value===M.state))==null?void 0:H.label}),s.jsx(Ns,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:N("inline-flex items-center px-2 py-0.5 rounded-md text-xs font-medium",xs(parseInt(m||"0",10))),children:(S=os.find(F=>F.value===parseInt(m,10)))==null?void 0:S.label})]})},P):null})})}),s.jsxs(Hr,{children:[s.jsx(J,{variant:"outline",onClick:()=>w(!1),disabled:g,children:"Cancel"}),s.jsx(J,{onClick:se,disabled:g,children:g?"Changing States...":"Confirm Changes"})]})]})})]})}function Ca(){const{ringName:e}=Ln(),t=Object.values(re).includes(e);return!e||!t?s.jsx(Wr,{}):e===re.PARTITION_INGESTER?s.jsx(fu,{}):s.jsx(Xd,{ringName:e})}const ss=l.forwardRef(({className:e,children:t,...r},a)=>s.jsxs(Nn,{ref:a,className:N("relative overflow-hidden",e),...r,children:[s.jsx(ml,{className:"h-full w-full rounded-[inherit]",children:t}),s.jsx(zo,{}),s.jsx(gl,{})]}));ss.displayName=Nn.displayName;const zo=l.forwardRef(({className:e,orientation:t="vertical",...r},a)=>s.jsx(kn,{ref:a,orientation:t,className:N("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:s.jsx(xl,{className:"relative flex-1 rounded-full bg-border"})}));zo.displayName=kn.displayName;const ea=bl,ta=yl,Os=l.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},n)=>s.jsx(Sn,{ref:n,align:t,sideOffset:r,className:N("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));Os.displayName=Sn.displayName;const Uo=({date:e,className:t=""})=>{const r=Gn(e,{addSuffix:!0}),a=rr(e,"yyyy-MM-dd HH:mm:ss"),n=rr(new Date(e.getTime()+e.getTimezoneOffset()*6e4),"yyyy-MM-dd HH:mm:ss");return s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsx("div",{className:`inline-block ${t}`,children:r})}),s.jsx(Os,{className:"w-[280px]",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 rounded dark:bg-gray-700 w-14 text-center",children:"UTC"}),s.jsx("span",{className:"font-mono",children:n})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 rounded dark:bg-gray-700 w-14 text-center",children:"Local"}),s.jsx("span",{className:"font-mono",children:a})]})]})})]})};function hu({current:e,parent:t,files:r,folders:a}){const n=Ar(),[,o]=Jt(),i=d=>{o({path:d})},c=d=>{n(`/storage/dataobj/metadata?path=${encodeURIComponent(e+"/"+d.name)}`)};return s.jsx("div",{className:"space-y-4",children:s.jsxs(Pt,{children:[s.jsx(Ot,{children:s.jsxs(le,{className:"h-12",children:[s.jsx(Q,{children:"Name"}),s.jsx(Q,{children:"Modified"}),s.jsx(Q,{children:"Size"}),s.jsx(Q,{})]})}),s.jsxs(Lt,{children:[t!==e&&s.jsxs(le,{className:"h-12 cursor-pointer hover:bg-muted/50",onClick:()=>i(t||""),children:[s.jsx(B,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}),".."]})}),s.jsx(B,{children:"-"}),s.jsx(B,{children:"-"}),s.jsx(B,{})]},"parent"),a.map(d=>s.jsxs(le,{className:"h-12 cursor-pointer hover:bg-muted/50",onClick:()=>i(e?`${e}/${d}`:d),children:[s.jsx(B,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ql,{className:"mr-2 h-4 w-4"}),d]})}),s.jsx(B,{children:"-"}),s.jsx(B,{children:"-"}),s.jsx(B,{})]},d)),r.map(d=>s.jsxs(le,{className:"h-12 cursor-pointer hover:bg-muted/50",onClick:u=>{u.target.closest("a[download]")||c(d)},children:[s.jsx(B,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Hl,{className:"mr-2 h-4 w-4"}),d.name]})}),s.jsx(B,{children:s.jsx(Uo,{date:new Date(d.lastModified)})}),s.jsx(B,{children:_e(d.size)}),s.jsx(B,{children:s.jsx(J,{variant:"outline",size:"icon",asChild:!0,className:"h-8 w-8",children:s.jsx(Re,{to:d.downloadUrl,target:"_blank",download:!0,onClick:u=>u.stopPropagation(),children:s.jsx(Un,{className:"h-4 w-4"})})})})]},d.name))]})]})})}var rs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ut=typeof window>"u"||"Deno"in globalThis;function ye(){}function mu(e,t){return typeof e=="function"?e(t):e}function cr(e){return typeof e=="number"&&e>=0&&e!==1/0}function Vo(e,t){return Math.max(e+(t||0)-Date.now(),0)}function gt(e,t){return typeof e=="function"?e(t):e}function Ee(e,t){return typeof e=="function"?e(t):e}function Ra(e,t){const{type:r="all",exact:a,fetchStatus:n,predicate:o,queryKey:i,stale:c}=e;if(i){if(a){if(t.queryHash!==sa(i,t.options))return!1}else if(!Gt(t.queryKey,i))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||n&&n!==t.state.fetchStatus||o&&!o(t))}function Ta(e,t){const{exact:r,status:a,predicate:n,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Vt(t.options.mutationKey)!==Vt(o))return!1}else if(!Gt(t.options.mutationKey,o))return!1}return!(a&&t.state.status!==a||n&&!n(t))}function sa(e,t){return((t==null?void 0:t.queryKeyHashFn)||Vt)(e)}function Vt(e){return JSON.stringify(e,(t,r)=>ur(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function Gt(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!Gt(e[r],t[r])):!1}function Go(e,t){if(e===t)return e;const r=Aa(e)&&Aa(t);if(r||ur(e)&&ur(t)){const a=r?e:Object.keys(e),n=a.length,o=r?t:Object.keys(t),i=o.length,c=r?[]:{};let d=0;for(let u=0;u<i;u++){const h=r?u:o[u];(!r&&a.includes(h)||r)&&e[h]===void 0&&t[h]===void 0?(c[h]=void 0,d++):(c[h]=Go(e[h],t[h]),c[h]===e[h]&&e[h]!==void 0&&d++)}return n===i&&d===n?e:c}return t}function dr(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Aa(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ur(e){if(!Ia(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Ia(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Ia(e){return Object.prototype.toString.call(e)==="[object Object]"}function gu(e){return new Promise(t=>{setTimeout(t,e)})}function pr(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Go(e,t):t}function xu(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function bu(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var ra=Symbol();function qo(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ra?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ye,Me,xt,Ka,yu=(Ka=class extends rs{constructor(){super();$(this,Ye);$(this,Me);$(this,xt);A(this,xt,t=>{if(!ut&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){x(this,Me)||this.setEventListener(x(this,xt))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,Me))==null||t.call(this),A(this,Me,void 0))}setEventListener(t){var r;A(this,xt,t),(r=x(this,Me))==null||r.call(this),A(this,Me,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){x(this,Ye)!==t&&(A(this,Ye,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof x(this,Ye)=="boolean"?x(this,Ye):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ye=new WeakMap,Me=new WeakMap,xt=new WeakMap,Ka),aa=new yu,bt,$e,yt,Qa,vu=(Qa=class extends rs{constructor(){super();$(this,bt,!0);$(this,$e);$(this,yt);A(this,yt,t=>{if(!ut&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){x(this,$e)||this.setEventListener(x(this,yt))}onUnsubscribe(){var t;this.hasListeners()||((t=x(this,$e))==null||t.call(this),A(this,$e,void 0))}setEventListener(t){var r;A(this,yt,t),(r=x(this,$e))==null||r.call(this),A(this,$e,t(this.setOnline.bind(this)))}setOnline(t){x(this,bt)!==t&&(A(this,bt,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return x(this,bt)}},bt=new WeakMap,$e=new WeakMap,yt=new WeakMap,Qa),ys=new vu;function fr(){let e,t;const r=new Promise((n,o)=>{e=n,t=o});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),e(n)},r.reject=n=>{a({status:"rejected",reason:n}),t(n)},r}function wu(e){return Math.min(1e3*2**e,3e4)}function Ho(e){return(e??"online")==="online"?ys.isOnline():!0}var Ko=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Zs(e){return e instanceof Ko}function Qo(e){let t=!1,r=0,a=!1,n;const o=fr(),i=f=>{var m;a||(b(new Ko(f)),(m=e.abort)==null||m.call(e))},c=()=>{t=!0},d=()=>{t=!1},u=()=>aa.isFocused()&&(e.networkMode==="always"||ys.isOnline())&&e.canRun(),h=()=>Ho(e.networkMode)&&e.canRun(),p=f=>{var m;a||(a=!0,(m=e.onSuccess)==null||m.call(e,f),n==null||n(),o.resolve(f))},b=f=>{var m;a||(a=!0,(m=e.onError)==null||m.call(e,f),n==null||n(),o.reject(f))},j=()=>new Promise(f=>{var m;n=v=>{(a||u())&&f(v)},(m=e.onPause)==null||m.call(e)}).then(()=>{var f;n=void 0,a||(f=e.onContinue)==null||f.call(e)}),g=()=>{if(a)return;let f;const m=r===0?e.initialPromise:void 0;try{f=m??e.fn()}catch(v){f=Promise.reject(v)}Promise.resolve(f).then(p).catch(v=>{var R;if(a)return;const y=e.retry??(ut?0:3),w=e.retryDelay??wu,E=typeof w=="function"?w(r,v):w,C=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,v);if(t||!C){b(v);return}r++,(R=e.onFail)==null||R.call(e,r,v),gu(E).then(()=>u()?void 0:j()).then(()=>{t?b(v):g()})})};return{promise:o,cancel:i,continue:()=>(n==null||n(),o),cancelRetry:c,continueRetry:d,canStart:h,start:()=>(h()?g():j().then(g),o)}}function ju(){let e=[],t=0,r=c=>{c()},a=c=>{c()},n=c=>setTimeout(c,0);const o=c=>{t?e.push(c):n(()=>{r(c)})},i=()=>{const c=e;e=[],c.length&&n(()=>{a(()=>{c.forEach(d=>{r(d)})})})};return{batch:c=>{let d;t++;try{d=c()}finally{t--,t||i()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{a=c},setScheduler:c=>{n=c}}}var oe=ju(),Xe,Wa,Wo=(Wa=class{constructor(){$(this,Xe)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cr(this.gcTime)&&A(this,Xe,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ut?1/0:5*60*1e3))}clearGcTimeout(){x(this,Xe)&&(clearTimeout(x(this,Xe)),A(this,Xe,void 0))}},Xe=new WeakMap,Wa),vt,wt,be,Je,ie,Kt,et,ke,Oe,Za,Nu=(Za=class extends Wo{constructor(t){super();$(this,ke);$(this,vt);$(this,wt);$(this,be);$(this,Je);$(this,ie);$(this,Kt);$(this,et);A(this,et,!1),A(this,Kt,t.defaultOptions),this.setOptions(t.options),this.observers=[],A(this,Je,t.client),A(this,be,x(this,Je).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,A(this,vt,ku(this.options)),this.state=t.state??x(this,vt),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=x(this,ie))==null?void 0:t.promise}setOptions(t){this.options={...x(this,Kt),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&x(this,be).remove(this)}setData(t,r){const a=pr(this.state.data,t,this.options);return U(this,ke,Oe).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){U(this,ke,Oe).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,n;const r=(a=x(this,ie))==null?void 0:a.promise;return(n=x(this,ie))==null||n.cancel(t),r?r.then(ye).catch(ye):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(x(this,vt))}isActive(){return this.observers.some(t=>Ee(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ra||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!Vo(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=x(this,ie))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=x(this,ie))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),x(this,be).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(x(this,ie)&&(x(this,et)?x(this,ie).cancel({revert:!0}):x(this,ie).cancelRetry()),this.scheduleGc()),x(this,be).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||U(this,ke,Oe).call(this,{type:"invalidate"})}fetch(t,r){var d,u,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(x(this,ie))return x(this,ie).continueRetry(),x(this,ie).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(b=>b.options.queryFn);p&&this.setOptions(p.options)}const a=new AbortController,n=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(A(this,et,!0),a.signal)})},o=()=>{const p=qo(this.options,r),b={client:x(this,Je),queryKey:this.queryKey,meta:this.meta};return n(b),A(this,et,!1),this.options.persister?this.options.persister(p,b,this):p(b)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:x(this,Je),state:this.state,fetchFn:o};n(i),(d=this.options.behavior)==null||d.onFetch(i,this),A(this,wt,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&U(this,ke,Oe).call(this,{type:"fetch",meta:(h=i.fetchOptions)==null?void 0:h.meta});const c=p=>{var b,j,g,f;Zs(p)&&p.silent||U(this,ke,Oe).call(this,{type:"error",error:p}),Zs(p)||((j=(b=x(this,be).config).onError)==null||j.call(b,p,this),(f=(g=x(this,be).config).onSettled)==null||f.call(g,this.state.data,p,this)),this.scheduleGc()};return A(this,ie,Qo({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:a.abort.bind(a),onSuccess:p=>{var b,j,g,f;if(p===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(m){c(m);return}(j=(b=x(this,be).config).onSuccess)==null||j.call(b,p,this),(f=(g=x(this,be).config).onSettled)==null||f.call(g,p,this.state.error,this),this.scheduleGc()},onError:c,onFail:(p,b)=>{U(this,ke,Oe).call(this,{type:"failed",failureCount:p,error:b})},onPause:()=>{U(this,ke,Oe).call(this,{type:"pause"})},onContinue:()=>{U(this,ke,Oe).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),x(this,ie).start()}},vt=new WeakMap,wt=new WeakMap,be=new WeakMap,Je=new WeakMap,ie=new WeakMap,Kt=new WeakMap,et=new WeakMap,ke=new WeakSet,Oe=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Zo(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Zs(n)&&n.revert&&x(this,wt)?{...x(this,wt),fetchStatus:"idle"}:{...a,error:n,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),oe.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),x(this,be).notify({query:this,type:"updated",action:t})})},Za);function Zo(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Ho(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ku(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Te,Ya,Su=(Ya=class extends rs{constructor(t={}){super();$(this,Te);this.config=t,A(this,Te,new Map)}build(t,r,a){const n=r.queryKey,o=r.queryHash??sa(n,r);let i=this.get(o);return i||(i=new Nu({client:t,queryKey:n,queryHash:o,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(n)}),this.add(i)),i}add(t){x(this,Te).has(t.queryHash)||(x(this,Te).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=x(this,Te).get(t.queryHash);r&&(t.destroy(),r===t&&x(this,Te).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){oe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return x(this,Te).get(t)}getAll(){return[...x(this,Te).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Ra(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>Ra(t,a)):r}notify(t){oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){oe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){oe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Te=new WeakMap,Ya),Ae,ce,tt,Ie,De,Xa,Eu=(Xa=class extends Wo{constructor(t){super();$(this,Ie);$(this,Ae);$(this,ce);$(this,tt);this.mutationId=t.mutationId,A(this,ce,t.mutationCache),A(this,Ae,[]),this.state=t.state||Cu(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){x(this,Ae).includes(t)||(x(this,Ae).push(t),this.clearGcTimeout(),x(this,ce).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){A(this,Ae,x(this,Ae).filter(r=>r!==t)),this.scheduleGc(),x(this,ce).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){x(this,Ae).length||(this.state.status==="pending"?this.scheduleGc():x(this,ce).remove(this))}continue(){var t;return((t=x(this,tt))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,o,i,c,d,u,h,p,b,j,g,f,m,v,y,w,E,C,R,T;A(this,tt,Qo({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(O,L)=>{U(this,Ie,De).call(this,{type:"failed",failureCount:O,error:L})},onPause:()=>{U(this,Ie,De).call(this,{type:"pause"})},onContinue:()=>{U(this,Ie,De).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>x(this,ce).canRun(this)}));const r=this.state.status==="pending",a=!x(this,tt).canStart();try{if(!r){U(this,Ie,De).call(this,{type:"pending",variables:t,isPaused:a}),await((o=(n=x(this,ce).config).onMutate)==null?void 0:o.call(n,t,this));const L=await((c=(i=this.options).onMutate)==null?void 0:c.call(i,t));L!==this.state.context&&U(this,Ie,De).call(this,{type:"pending",context:L,variables:t,isPaused:a})}const O=await x(this,tt).start();return await((u=(d=x(this,ce).config).onSuccess)==null?void 0:u.call(d,O,t,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,O,t,this.state.context)),await((j=(b=x(this,ce).config).onSettled)==null?void 0:j.call(b,O,null,this.state.variables,this.state.context,this)),await((f=(g=this.options).onSettled)==null?void 0:f.call(g,O,null,t,this.state.context)),U(this,Ie,De).call(this,{type:"success",data:O}),O}catch(O){try{throw await((v=(m=x(this,ce).config).onError)==null?void 0:v.call(m,O,t,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,O,t,this.state.context)),await((C=(E=x(this,ce).config).onSettled)==null?void 0:C.call(E,void 0,O,this.state.variables,this.state.context,this)),await((T=(R=this.options).onSettled)==null?void 0:T.call(R,void 0,O,t,this.state.context)),O}finally{U(this,Ie,De).call(this,{type:"error",error:O})}}finally{x(this,ce).runNext(this)}}},Ae=new WeakMap,ce=new WeakMap,tt=new WeakMap,Ie=new WeakSet,De=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),oe.batch(()=>{x(this,Ae).forEach(a=>{a.onMutationUpdate(t)}),x(this,ce).notify({mutation:this,type:"updated",action:t})})},Xa);function Cu(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Le,Se,Qt,Ja,Ru=(Ja=class extends rs{constructor(t={}){super();$(this,Le);$(this,Se);$(this,Qt);this.config=t,A(this,Le,new Set),A(this,Se,new Map),A(this,Qt,0)}build(t,r,a){const n=new Eu({mutationCache:this,mutationId:++ns(this,Qt)._,options:t.defaultMutationOptions(r),state:a});return this.add(n),n}add(t){x(this,Le).add(t);const r=is(t);if(typeof r=="string"){const a=x(this,Se).get(r);a?a.push(t):x(this,Se).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(x(this,Le).delete(t)){const r=is(t);if(typeof r=="string"){const a=x(this,Se).get(r);if(a)if(a.length>1){const n=a.indexOf(t);n!==-1&&a.splice(n,1)}else a[0]===t&&x(this,Se).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=is(t);if(typeof r=="string"){const a=x(this,Se).get(r),n=a==null?void 0:a.find(o=>o.state.status==="pending");return!n||n===t}else return!0}runNext(t){var a;const r=is(t);if(typeof r=="string"){const n=(a=x(this,Se).get(r))==null?void 0:a.find(o=>o!==t&&o.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){oe.batch(()=>{x(this,Le).forEach(t=>{this.notify({type:"removed",mutation:t})}),x(this,Le).clear(),x(this,Se).clear()})}getAll(){return Array.from(x(this,Le))}find(t){const r={exact:!0,...t};return this.getAll().find(a=>Ta(r,a))}findAll(t={}){return this.getAll().filter(r=>Ta(t,r))}notify(t){oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return oe.batch(()=>Promise.all(t.map(r=>r.continue().catch(ye))))}},Le=new WeakMap,Se=new WeakMap,Qt=new WeakMap,Ja);function is(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Fa(e){return{onFetch:(t,r)=>{var h,p,b,j,g;const a=t.options,n=(b=(p=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:b.direction,o=((j=t.state.data)==null?void 0:j.pages)||[],i=((g=t.state.data)==null?void 0:g.pageParams)||[];let c={pages:[],pageParams:[]},d=0;const u=async()=>{let f=!1;const m=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},v=qo(t.options,t.fetchOptions),y=async(w,E,C)=>{if(f)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const R={client:t.client,queryKey:t.queryKey,pageParam:E,direction:C?"backward":"forward",meta:t.options.meta};m(R);const T=await v(R),{maxPages:O}=t.options,L=C?bu:xu;return{pages:L(w.pages,T,O),pageParams:L(w.pageParams,E,O)}};if(n&&o.length){const w=n==="backward",E=w?Tu:_a,C={pages:o,pageParams:i},R=E(a,C);c=await y(C,R,w)}else{const w=e??o.length;do{const E=d===0?i[0]??a.initialPageParam:_a(a,c);if(d>0&&E==null)break;c=await y(c,E),d++}while(d<w)}return c};t.options.persister?t.fetchFn=()=>{var f,m;return(m=(f=t.options).persister)==null?void 0:m.call(f,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function _a(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function Tu(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var te,Be,ze,jt,Nt,Ue,kt,St,en,Au=(en=class{constructor(e={}){$(this,te);$(this,Be);$(this,ze);$(this,jt);$(this,Nt);$(this,Ue);$(this,kt);$(this,St);A(this,te,e.queryCache||new Su),A(this,Be,e.mutationCache||new Ru),A(this,ze,e.defaultOptions||{}),A(this,jt,new Map),A(this,Nt,new Map),A(this,Ue,0)}mount(){ns(this,Ue)._++,x(this,Ue)===1&&(A(this,kt,aa.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,te).onFocus())})),A(this,St,ys.subscribe(async e=>{e&&(await this.resumePausedMutations(),x(this,te).onOnline())})))}unmount(){var e,t;ns(this,Ue)._--,x(this,Ue)===0&&((e=x(this,kt))==null||e.call(this),A(this,kt,void 0),(t=x(this,St))==null||t.call(this),A(this,St,void 0))}isFetching(e){return x(this,te).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return x(this,Be).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=x(this,te).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=x(this,te).build(this,t),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(gt(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return x(this,te).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),n=x(this,te).get(a.queryHash),o=n==null?void 0:n.state.data,i=mu(t,o);if(i!==void 0)return x(this,te).build(this,a).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return oe.batch(()=>x(this,te).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=x(this,te).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=x(this,te);oe.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=x(this,te),a={type:"active",...e};return oe.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries(a,t)))}cancelQueries(e,t={}){const r={revert:!0,...t},a=oe.batch(()=>x(this,te).findAll(e).map(n=>n.cancel(r)));return Promise.all(a).then(ye).catch(ye)}invalidateQueries(e,t={}){return oe.batch(()=>{if(x(this,te).findAll(e).forEach(a=>{a.invalidate()}),(e==null?void 0:e.refetchType)==="none")return Promise.resolve();const r={...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"};return this.refetchQueries(r,t)})}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},a=oe.batch(()=>x(this,te).findAll(e).filter(n=>!n.isDisabled()).map(n=>{let o=n.fetch(void 0,r);return r.throwOnError||(o=o.catch(ye)),n.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(a).then(ye)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=x(this,te).build(this,t);return r.isStaleByTime(gt(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ye).catch(ye)}fetchInfiniteQuery(e){return e.behavior=Fa(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ye).catch(ye)}ensureInfiniteQueryData(e){return e.behavior=Fa(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ys.isOnline()?x(this,Be).resumePausedMutations():Promise.resolve()}getQueryCache(){return x(this,te)}getMutationCache(){return x(this,Be)}getDefaultOptions(){return x(this,ze)}setDefaultOptions(e){A(this,ze,e)}setQueryDefaults(e,t){x(this,jt).set(Vt(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...x(this,jt).values()],r={};return t.forEach(a=>{Gt(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,t){x(this,Nt).set(Vt(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...x(this,Nt).values()];let r={};return t.forEach(a=>{Gt(e,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...x(this,ze).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=sa(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ra&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...x(this,ze).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){x(this,te).clear(),x(this,Be).clear()}},te=new WeakMap,Be=new WeakMap,ze=new WeakMap,jt=new WeakMap,Nt=new WeakMap,Ue=new WeakMap,kt=new WeakMap,St=new WeakMap,en),fe,V,Wt,de,st,Et,Ve,Fe,Zt,Ct,Rt,rt,at,Ge,Tt,W,Bt,hr,mr,gr,xr,br,yr,vr,Yo,tn,Iu=(tn=class extends rs{constructor(t,r){super();$(this,W);$(this,fe);$(this,V);$(this,Wt);$(this,de);$(this,st);$(this,Et);$(this,Ve);$(this,Fe);$(this,Zt);$(this,Ct);$(this,Rt);$(this,rt);$(this,at);$(this,Ge);$(this,Tt,new Set);this.options=r,A(this,fe,t),A(this,Fe,null),A(this,Ve,fr()),this.options.experimental_prefetchInRender||x(this,Ve).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(x(this,V).addObserver(this),Pa(x(this,V),this.options)?U(this,W,Bt).call(this):this.updateResult(),U(this,W,xr).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wr(x(this,V),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wr(x(this,V),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,U(this,W,br).call(this),U(this,W,yr).call(this),x(this,V).removeObserver(this)}setOptions(t,r){const a=this.options,n=x(this,V);if(this.options=x(this,fe).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ee(this.options.enabled,x(this,V))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");U(this,W,vr).call(this),x(this,V).setOptions(this.options),a._defaulted&&!dr(this.options,a)&&x(this,fe).getQueryCache().notify({type:"observerOptionsUpdated",query:x(this,V),observer:this});const o=this.hasListeners();o&&Oa(x(this,V),n,this.options,a)&&U(this,W,Bt).call(this),this.updateResult(r),o&&(x(this,V)!==n||Ee(this.options.enabled,x(this,V))!==Ee(a.enabled,x(this,V))||gt(this.options.staleTime,x(this,V))!==gt(a.staleTime,x(this,V)))&&U(this,W,hr).call(this);const i=U(this,W,mr).call(this);o&&(x(this,V)!==n||Ee(this.options.enabled,x(this,V))!==Ee(a.enabled,x(this,V))||i!==x(this,Ge))&&U(this,W,gr).call(this,i)}getOptimisticResult(t){const r=x(this,fe).getQueryCache().build(x(this,fe),t),a=this.createResult(r,t);return _u(this,a)&&(A(this,de,a),A(this,Et,this.options),A(this,st,x(this,V).state)),a}getCurrentResult(){return x(this,de)}trackResult(t,r){const a={};return Object.keys(t).forEach(n=>{Object.defineProperty(a,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),r==null||r(n),t[n])})}),a}trackProp(t){x(this,Tt).add(t)}getCurrentQuery(){return x(this,V)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=x(this,fe).defaultQueryOptions(t),a=x(this,fe).getQueryCache().build(x(this,fe),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return U(this,W,Bt).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),x(this,de)))}createResult(t,r){var O;const a=x(this,V),n=this.options,o=x(this,de),i=x(this,st),c=x(this,Et),u=t!==a?t.state:x(this,Wt),{state:h}=t;let p={...h},b=!1,j;if(r._optimisticResults){const L=this.hasListeners(),X=!L&&Pa(t,r),K=L&&Oa(t,a,r,n);(X||K)&&(p={...p,...Zo(h.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:g,errorUpdatedAt:f,status:m}=p;if(r.select&&p.data!==void 0)if(o&&p.data===(i==null?void 0:i.data)&&r.select===x(this,Zt))j=x(this,Ct);else try{A(this,Zt,r.select),j=r.select(p.data),j=pr(o==null?void 0:o.data,j,r),A(this,Ct,j),A(this,Fe,null)}catch(L){A(this,Fe,L)}else j=p.data;if(r.placeholderData!==void 0&&j===void 0&&m==="pending"){let L;if(o!=null&&o.isPlaceholderData&&r.placeholderData===(c==null?void 0:c.placeholderData))L=o.data;else if(L=typeof r.placeholderData=="function"?r.placeholderData((O=x(this,Rt))==null?void 0:O.state.data,x(this,Rt)):r.placeholderData,r.select&&L!==void 0)try{L=r.select(L),A(this,Fe,null)}catch(X){A(this,Fe,X)}L!==void 0&&(m="success",j=pr(o==null?void 0:o.data,L,r),b=!0)}x(this,Fe)&&(g=x(this,Fe),j=x(this,Ct),f=Date.now(),m="error");const v=p.fetchStatus==="fetching",y=m==="pending",w=m==="error",E=y&&v,C=j!==void 0,T={status:m,fetchStatus:p.fetchStatus,isPending:y,isSuccess:m==="success",isError:w,isInitialLoading:E,isLoading:E,data:j,dataUpdatedAt:p.dataUpdatedAt,error:g,errorUpdatedAt:f,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!y,isLoadingError:w&&!C,isPaused:p.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:w&&C,isStale:na(t,r),refetch:this.refetch,promise:x(this,Ve)};if(this.options.experimental_prefetchInRender){const L=G=>{T.status==="error"?G.reject(T.error):T.data!==void 0&&G.resolve(T.data)},X=()=>{const G=A(this,Ve,T.promise=fr());L(G)},K=x(this,Ve);switch(K.status){case"pending":t.queryHash===a.queryHash&&L(K);break;case"fulfilled":(T.status==="error"||T.data!==K.value)&&X();break;case"rejected":(T.status!=="error"||T.error!==K.reason)&&X();break}}return T}updateResult(t){const r=x(this,de),a=this.createResult(x(this,V),this.options);if(A(this,st,x(this,V).state),A(this,Et,this.options),x(this,st).data!==void 0&&A(this,Rt,x(this,V)),dr(a,r))return;A(this,de,a);const n={},o=()=>{if(!r)return!0;const{notifyOnChangeProps:i}=this.options,c=typeof i=="function"?i():i;if(c==="all"||!c&&!x(this,Tt).size)return!0;const d=new Set(c??x(this,Tt));return this.options.throwOnError&&d.add("error"),Object.keys(x(this,de)).some(u=>{const h=u;return x(this,de)[h]!==r[h]&&d.has(h)})};(t==null?void 0:t.listeners)!==!1&&o()&&(n.listeners=!0),U(this,W,Yo).call(this,{...n,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&U(this,W,xr).call(this)}},fe=new WeakMap,V=new WeakMap,Wt=new WeakMap,de=new WeakMap,st=new WeakMap,Et=new WeakMap,Ve=new WeakMap,Fe=new WeakMap,Zt=new WeakMap,Ct=new WeakMap,Rt=new WeakMap,rt=new WeakMap,at=new WeakMap,Ge=new WeakMap,Tt=new WeakMap,W=new WeakSet,Bt=function(t){U(this,W,vr).call(this);let r=x(this,V).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(ye)),r},hr=function(){U(this,W,br).call(this);const t=gt(this.options.staleTime,x(this,V));if(ut||x(this,de).isStale||!cr(t))return;const a=Vo(x(this,de).dataUpdatedAt,t)+1;A(this,rt,setTimeout(()=>{x(this,de).isStale||this.updateResult()},a))},mr=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(x(this,V)):this.options.refetchInterval)??!1},gr=function(t){U(this,W,yr).call(this),A(this,Ge,t),!(ut||Ee(this.options.enabled,x(this,V))===!1||!cr(x(this,Ge))||x(this,Ge)===0)&&A(this,at,setInterval(()=>{(this.options.refetchIntervalInBackground||aa.isFocused())&&U(this,W,Bt).call(this)},x(this,Ge)))},xr=function(){U(this,W,hr).call(this),U(this,W,gr).call(this,U(this,W,mr).call(this))},br=function(){x(this,rt)&&(clearTimeout(x(this,rt)),A(this,rt,void 0))},yr=function(){x(this,at)&&(clearInterval(x(this,at)),A(this,at,void 0))},vr=function(){const t=x(this,fe).getQueryCache().build(x(this,fe),this.options);if(t===x(this,V))return;const r=x(this,V);A(this,V,t),A(this,Wt,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Yo=function(t){oe.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(x(this,de))}),x(this,fe).getQueryCache().notify({query:x(this,V),type:"observerResultsUpdated"})})},tn);function Fu(e,t){return Ee(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Pa(e,t){return Fu(e,t)||e.state.data!==void 0&&wr(e,t,t.refetchOnMount)}function wr(e,t,r){if(Ee(t.enabled,e)!==!1){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&na(e,t)}return!1}function Oa(e,t,r,a){return(e!==t||Ee(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&na(e,r)}function na(e,t){return Ee(t.enabled,e)!==!1&&e.isStaleByTime(gt(t.staleTime,e))}function _u(e,t){return!dr(e.getCurrentResult(),t)}var Xo=l.createContext(void 0),Pu=e=>{const t=l.useContext(Xo);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ou=({client:e,children:t})=>(l.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Xo.Provider,{value:e,children:t})),Jo=l.createContext(!1),Lu=()=>l.useContext(Jo);Jo.Provider;function Du(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Mu=l.createContext(Du()),$u=()=>l.useContext(Mu);function Bu(e,t){return typeof e=="function"?e(...t):!!e}function La(){}var zu=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Uu=e=>{l.useEffect(()=>{e.clearReset()},[e])},Vu=({result:e,errorResetBoundary:t,throwOnError:r,query:a,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(n&&e.data===void 0||Bu(r,[e.error,a])),Gu=e=>{const t=e.staleTime;e.suspense&&(e.staleTime=typeof t=="function"?(...r)=>Math.max(t(...r),1e3):Math.max(t??1e3,1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},qu=(e,t)=>e.isLoading&&e.isFetching&&!t,Hu=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Da=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ku(e,t,r){var p,b,j,g,f;const a=Pu(),n=Lu(),o=$u(),i=a.defaultQueryOptions(e);(b=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||b.call(p,i),i._optimisticResults=n?"isRestoring":"optimistic",Gu(i),zu(i,o),Uu(o);const c=!a.getQueryCache().get(i.queryHash),[d]=l.useState(()=>new t(a,i)),u=d.getOptimisticResult(i),h=!n&&e.subscribed!==!1;if(l.useSyncExternalStore(l.useCallback(m=>{const v=h?d.subscribe(oe.batchCalls(m)):La;return d.updateResult(),v},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),l.useEffect(()=>{d.setOptions(i,{listeners:!1})},[i,d]),Hu(i,u))throw Da(i,d,o);if(Vu({result:u,errorResetBoundary:o,throwOnError:i.throwOnError,query:a.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw u.error;if((g=(j=a.getDefaultOptions().queries)==null?void 0:j._experimental_afterQuery)==null||g.call(j,i,u),i.experimental_prefetchInRender&&!ut&&qu(u,n)){const m=c?Da(i,d,o):(f=a.getQueryCache().get(i.queryHash))==null?void 0:f.promise;m==null||m.catch(La).finally(()=>{d.updateResult()})}return i.notifyOnChangeProps?u:d.trackResult(u)}function ei(e,t){return Ku(e,Iu)}function Qu(e){const{cluster:t}=Qe(),r=l.useMemo(()=>As(t==null?void 0:t.members,"dataobj-explorer"),[t==null?void 0:t.members]);return ei({queryKey:["explorer",e,r],queryFn:async()=>{if(!r)throw new Error("Node name not found");const a=await fetch(`/ui/api/v1/proxy/${r}/dataobj/api/v1/list?path=${encodeURIComponent(e)}`);if(!a.ok)throw new Error("Failed to fetch explorer data");const n=await a.json();return{...n,files:Wu(n.files).map(o=>({...o,downloadUrl:`/api/v1/proxy/${r}/dataobj/api/v1/download?file=${encodeURIComponent(e?`${e}/${o.name}`:o.name)}`}))}}})}const Wu=e=>[...e].sort((t,r)=>new Date(r.lastModified).getTime()-new Date(t.lastModified).getTime()),Zu=e=>{switch(e){case"S3":return{bg:"bg-orange-100",text:"text-orange-800",darkBg:"dark:bg-orange-900",darkText:"dark:text-orange-300"};case"GCS":return{bg:"bg-blue-100",text:"text-blue-800",darkBg:"dark:bg-blue-900",darkText:"dark:text-blue-300"};case"AZURE":return{bg:"bg-sky-100",text:"text-sky-800",darkBg:"dark:bg-sky-900",darkText:"dark:text-sky-300"};case"SWIFT":return{bg:"bg-red-100",text:"text-red-800",darkBg:"dark:bg-red-900",darkText:"dark:text-red-300"};case"COS":return{bg:"bg-purple-100",text:"text-purple-800",darkBg:"dark:bg-purple-900",darkText:"dark:text-purple-300"};case"ALIYUNOSS":return{bg:"bg-rose-100",text:"text-rose-800",darkBg:"dark:bg-rose-900",darkText:"dark:text-rose-300"};case"OCI":return{bg:"bg-red-100",text:"text-red-800",darkBg:"dark:bg-red-900",darkText:"dark:text-red-300"};case"OBS":return{bg:"bg-cyan-100",text:"text-cyan-800",darkBg:"dark:bg-cyan-900",darkText:"dark:text-cyan-300"};case"FILESYSTEM":return{bg:"bg-green-100",text:"text-green-800",darkBg:"dark:bg-green-900",darkText:"dark:text-green-300"};case"MEMORY":return{bg:"bg-yellow-100",text:"text-yellow-800",darkBg:"dark:bg-yellow-900",darkText:"dark:text-yellow-300"};default:return{bg:"bg-gray-100",text:"text-gray-800",darkBg:"dark:bg-gray-700",darkText:"dark:text-gray-300"}}};function ti(){const[e,t]=nt.useState(""),{cluster:r}=Qe(),a=l.useMemo(()=>As(r==null?void 0:r.members,"dataobj-explorer"),[r==null?void 0:r.members]);nt.useEffect(()=>{a&&fetch(`/ui/api/v1/proxy/${a}/dataobj/api/v1/provider`).then(d=>d.json()).then(d=>t(d.provider)).catch(console.error)},[a]);const[n]=Jt(),i=(n.get("path")||"").split("/").filter(Boolean),c=Zu(e);return s.jsx(Or,{children:s.jsxs(Lr,{children:[s.jsx(hs,{children:s.jsx(ms,{asChild:!0,children:s.jsxs(Re,{to:"/storage/dataobj",className:`inline-flex items-center h-7 gap-2 px-3 py-1 text-xs font-medium ${c.bg} ${c.text} ${c.darkBg} ${c.darkText} rounded-full hover:ring-1 hover:ring-gray-300 dark:hover:ring-gray-600 transition-all duration-200`,children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",className:"w-4 h-4",fill:"currentColor",children:s.jsx("path",{d:"M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"})}),e||""]})})}),i.length>0&&s.jsx(gs,{}),i.map((d,u)=>{const h=i.slice(0,u+1).join("/"),p=u===i.length-1;return s.jsxs(nt.Fragment,{children:[s.jsx(hs,{children:s.jsx(ms,{asChild:!0,children:p?s.jsx("span",{className:"text-gray-500",children:d}):s.jsx(Re,{to:`/storage/dataobj?path=${encodeURIComponent(h)}`,children:d})})}),u<i.length-1&&s.jsx(gs,{})]},h)})]})})}function Yu(){const[e]=Jt(),t=e.get("path")||"",{data:r,isLoading:a,error:n}=Qu(t);return s.jsxs("div",{className:"flex h-full flex-col container space-y-6 p-6",children:[s.jsx(ti,{}),s.jsx(ss,{className:"h-full",children:s.jsx("div",{className:"grid gap-4",children:s.jsxs(ge,{children:[s.jsxs(je,{children:[s.jsx(Ce,{children:s.jsx("h2",{className:"text-3xl font-semibold tracking-tight",children:"Data Objects Explorer"})}),s.jsx(Dr,{children:s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"The Data Objects Explorer allows you to explore the data objects in the cluster."})})]}),s.jsx(xe,{children:a?s.jsx("div",{className:"flex items-center justify-center p-8",children:"Loading..."}):n?s.jsx("div",{className:"flex items-center justify-center p-8 text-destructive",children:n.message}):r?s.jsx(hu,{current:r.current,parent:r.parent,files:r.files,folders:r.folders}):null})]})})})]})}const Xu=ft("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function It({className:e,variant:t,...r}){return s.jsx("div",{className:N(Xu({variant:t}),e),...r})}function oa({text:e,className:t,onCopy:r}){const[a,n]=l.useState(!1),o=()=>{navigator.clipboard.writeText(e).then(()=>{n(!0),r==null||r(),setTimeout(()=>n(!1),2e3)})};return s.jsx(J,{variant:"ghost",size:"sm",onClick:o,className:N("h-8 px-2",t),children:a?s.jsxs(s.Fragment,{children:[s.jsx(_t,{className:"h-4 w-4 mr-1"}),"Copied"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vn,{className:"h-4 w-4 mr-1"}),"Copy"]})})}const Ls=({compressed:e,uncompressed:t,showVisualization:r=!1})=>{if(e===0||t===0)return s.jsx("span",{className:"dark:text-gray-200",children:"-"});const a=t/e,n=a>1;return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("div",{className:"font-medium whitespace-nowrap dark:text-gray-200",children:[a.toFixed(1),"x"]}),r&&n&&s.jsx("div",{className:"flex-1 h-2.5 bg-gray-100 dark:bg-gray-600 border border-gray-200 dark:border-gray-500 rounded relative",children:s.jsx("div",{className:"absolute inset-y-0 left-0 bg-blue-600 dark:bg-blue-500 rounded",style:{width:`${e/t*100}%`}})})]})},Ju=e=>{switch(e){case"INT64":return"bg-blue-500/20 text-blue-700 dark:bg-blue-500/30 dark:text-blue-300 hover:bg-blue-500/30";case"BYTES":return"bg-red-500/20 text-red-700 dark:bg-red-500/30 dark:text-red-300 hover:bg-red-500/30";case"FLOAT64":return"bg-purple-500/20 text-purple-700 dark:bg-purple-500/30 dark:text-purple-300 hover:bg-purple-500/30";case"BOOL":return"bg-yellow-500/20 text-yellow-700 dark:bg-yellow-500/30 dark:text-yellow-300 hover:bg-yellow-500/30";case"STRING":return"bg-green-500/20 text-green-700 dark:bg-green-500/30 dark:text-green-300 hover:bg-green-500/30";case"TIMESTAMP":return"bg-orange-500/20 text-orange-700 dark:bg-orange-500/30 dark:text-orange-300 hover:bg-orange-500/30";default:return"bg-gray-500/20 text-gray-700 dark:bg-gray-500/30 dark:text-gray-300 hover:bg-gray-500/30"}};function ep({metadata:e,filename:t,downloadUrl:r}){const[a,n]=l.useState(null),[o,i]=l.useState({}),c=f=>{n(a===f?null:f)},d=(f,m)=>{const v=`${f}-${m}`;i(y=>({...y,[v]:!y[v]}))},u=e.sections.reduce((f,m)=>f+m.totalCompressedSize,0),h=e.sections.reduce((f,m)=>f+m.totalUncompressedSize,0),p=e.sections.filter(f=>f.type==="SECTION_TYPE_STREAMS"),b=e.sections.filter(f=>f.type==="SECTION_TYPE_LOGS"),j=p==null?void 0:p.reduce((f,m)=>f+(m.columns[0].rows_count||0),0),g=b==null?void 0:b.reduce((f,m)=>f+(m.columns[0].rows_count||0),0);return s.jsxs(ge,{className:"w-full",children:[s.jsx(tp,{filename:t,downloadUrl:r,lastModified:e.lastModified}),s.jsxs(xe,{className:"space-y-8",children:[s.jsx(sp,{totalCompressed:u,totalUncompressed:h,sections:e.sections,streamCount:j,logCount:g}),s.jsx(rp,{sections:e.sections,expandedSectionIndex:a,expandedColumns:o,onToggleSection:c,onToggleColumn:d})]})]})}function tp({filename:e,downloadUrl:t,lastModified:r}){return s.jsxs(je,{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ce,{className:"text-2xl font-semibold tracking-tight",children:"Thor Dataobj File"}),s.jsx(J,{asChild:!0,variant:"outline",children:s.jsxs(Re,{to:t,target:"_blank",download:!0,children:[s.jsx(Un,{className:"h-4 w-4 mr-2"}),"Download"]})})]}),s.jsx(Dr,{className:"space-y-2",children:s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-mono text-sm text-foreground",children:e}),s.jsx(oa,{text:e})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx("span",{children:"Last Modified:"}),s.jsx(Uo,{date:new Date(r)})]})]})})})]})}function sp({totalCompressed:e,totalUncompressed:t,sections:r,streamCount:a,logCount:n}){return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"rounded-lg bg-muted/50 p-6 shadow-sm",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Compression"}),s.jsx(Ls,{compressed:e,uncompressed:t,showVisualization:!0}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[_e(e)," → ",_e(t)]})]}),s.jsxs("div",{className:"rounded-lg bg-muted/50 p-6 shadow-sm",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Sections"}),s.jsx("div",{className:"font-medium text-lg",children:r.length}),s.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:r.map(o=>o.type).join(", ")})]}),a&&s.jsxs("div",{className:"rounded-lg bg-muted/50 p-6 shadow-sm",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Stream Count"}),s.jsx("div",{className:"font-medium text-lg",children:a.toLocaleString()})]}),n&&s.jsxs("div",{className:"rounded-lg bg-muted/50 p-6 shadow-sm",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Log Count"}),s.jsx("div",{className:"font-medium text-lg",children:n.toLocaleString()})]})]})}function rp({sections:e,expandedSectionIndex:t,expandedColumns:r,onToggleSection:a,onToggleColumn:n}){return s.jsx("div",{className:"divide-y divide-border",children:e.map((o,i)=>s.jsx(ap,{section:o,sectionIndex:i,isExpanded:t===i,expandedColumns:r,onToggle:()=>a(i),onToggleColumn:c=>n(i,c)},i))})}function ap({section:e,sectionIndex:t,isExpanded:r,expandedColumns:a,onToggle:n,onToggleColumn:o}){return s.jsxs("div",{className:"py-4",children:[s.jsxs("button",{className:"w-full flex justify-between items-center py-4 px-6 rounded-lg hover:bg-accent/50 transition-colors",onClick:n,children:[s.jsxs("h3",{className:"text-lg font-semibold",children:["Section #",t+1,": ",e.type]}),s.jsx("svg",{className:`w-5 h-5 transform transition-transform duration-300 ${r?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),r&&s.jsxs("div",{className:"mt-6 px-6",children:[s.jsx(np,{section:e}),s.jsx(op,{columns:e.columns,sectionIndex:t,expandedColumns:a,onToggleColumn:o})]})]})}function np({section:e}){return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("div",{className:"rounded-lg bg-secondary/50 p-6 shadow-sm",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Compression"}),s.jsx(Ls,{compressed:e.totalCompressedSize,uncompressed:e.totalUncompressedSize,showVisualization:!0}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[_e(e.totalCompressedSize)," →"," ",_e(e.totalUncompressedSize)]})]}),s.jsxs("div",{className:"rounded-lg bg-secondary/50 p-6 shadow-sm",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Column Count"}),s.jsx("div",{className:"font-medium text-lg",children:e.columnCount})]}),s.jsxs("div",{className:"rounded-lg bg-secondary/50 p-6 shadow-sm",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Type"}),s.jsx("div",{className:"font-medium text-lg flex items-center gap-2",children:s.jsx(It,{variant:"outline",className:"font-mono",children:e.type})})]})]})}function op({columns:e,sectionIndex:t,expandedColumns:r,onToggleColumn:a}){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h4",{className:"text-lg font-medium",children:["Columns (",e.length,")"]}),s.jsx("div",{className:"space-y-4",children:e.map((n,o)=>s.jsx(ip,{column:n,isExpanded:r[`${t}-${o}`],onToggle:()=>a(o)},o))})]})}function ip({column:e,isExpanded:t,onToggle:r}){return s.jsxs(ge,{className:"bg-card/50",children:[s.jsxs("button",{className:"w-full flex justify-between items-center p-6 hover:bg-accent/50 transition-colors rounded-t-lg",onClick:r,children:[s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-lg",children:e.name?`${e.name} (${e.type})`:e.type}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1 flex items-center gap-2",children:s.jsx(It,{variant:"secondary",className:N("font-mono text-xs",Ju(e.value_type)),children:e.value_type})})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-sm font-medium flex items-center gap-2",children:["Compression:",s.jsx(It,{variant:"outline",className:"font-mono",children:e.compression||"NONE"})]}),s.jsx("svg",{className:`w-4 h-4 transform transition-transform ${t?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})]}),t&&s.jsxs(xe,{className:"pt-6",children:[s.jsx(lp,{column:e}),e.pages.length>0&&s.jsx(cp,{pages:e.pages})]})]})}function lp({column:e}){return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsxs("div",{className:"rounded-lg bg-muted p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2 flex items-center gap-2",children:s.jsx(It,{variant:"outline",className:"font-mono",children:e.compression||"NONE"})}),s.jsx("div",{className:"font-medium",children:s.jsx(Ls,{compressed:e.compressed_size,uncompressed:e.uncompressed_size})}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-2",children:[_e(e.compressed_size)," →"," ",_e(e.uncompressed_size)]})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Rows"}),s.jsx("div",{className:"font-medium text-lg",children:e.rows_count.toLocaleString()})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Values Count"}),s.jsx("div",{className:"font-medium text-lg",children:e.values_count.toLocaleString()})]}),s.jsxs("div",{className:"rounded-lg bg-muted p-6",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Offset"}),s.jsx("div",{className:"font-medium text-lg",children:_e(e.metadata_offset)})]})]})}function cp({pages:e}){return s.jsxs("div",{className:"mt-8",children:[s.jsxs("h6",{className:"text-base font-medium mb-4",children:["Pages (",e.length,")"]}),s.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-background",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-secondary/50 border-b border-border",children:[s.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"#"}),s.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Rows"}),s.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Values"}),s.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Encoding"}),s.jsx("th",{className:"text-left p-4 font-medium text-muted-foreground",children:"Compression"})]})}),s.jsx("tbody",{children:e.map((t,r)=>s.jsxs("tr",{className:"border-t border-border hover:bg-accent/50 transition-colors",children:[s.jsx("td",{className:"p-4",children:r+1}),s.jsx("td",{className:"p-4",children:t.rows_count.toLocaleString()}),s.jsx("td",{className:"p-4",children:t.values_count.toLocaleString()}),s.jsx("td",{className:"p-4",children:s.jsx(It,{variant:"outline",className:"font-mono",children:t.encoding})}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ls,{compressed:t.compressed_size,uncompressed:t.uncompressed_size}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",_e(t.compressed_size)," →"," ",_e(t.uncompressed_size),")"]})]})})]},r))})]})})]})}function dp(e){const{cluster:t}=Qe(),r=l.useMemo(()=>As(t==null?void 0:t.members,"dataobj-explorer"),[t==null?void 0:t.members]),a=l.useMemo(()=>`/api/v1/proxy/${r}/dataobj/api/v1/download?file=${encodeURIComponent(e||"")}`,[e,r]);return{...ei({queryKey:["file-metadata",e,r],queryFn:async()=>{if(!e)throw new Error("No file path provided");if(!r)throw new Error("Node name not found");const o=await fetch(`/ui/api/v1/proxy/${r}/dataobj/api/v1/inspect?file=${encodeURIComponent(e)}`);if(!o.ok)throw new Error("Failed to fetch file metadata");return o.json()},enabled:!!e&&!!r}),downloadUrl:a}}function up(){const[e]=Jt(),t=e.get("path")||"",{data:r,downloadUrl:a,isLoading:n,error:o}=dp(t);return s.jsxs("div",{className:"flex h-full flex-col container space-y-6 p-6",children:[s.jsx(ti,{}),s.jsx(ss,{className:"h-full",children:n?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(it,{className:"h-16 w-16 animate-spin"})}):o?s.jsxs(Fs,{variant:"destructive",children:[s.jsx(_s,{children:"Error"}),s.jsx(Ps,{children:o.message})]}):r&&t?s.jsx(ep,{metadata:r,filename:t,downloadUrl:a}):null})]})}const pp=["New","Starting","Running","Stopping","Terminated","Failed"],fp=({nameFilter:e,targetFilter:t,selectedStates:r,onNameFilterChange:a,onTargetFilterChange:n,onStatesChange:o,onRefresh:i,availableTargets:c})=>{const d=pp.map(h=>({label:h,value:h})),u=h=>{o(h)};return s.jsxs("div",{className:"grid grid-cols-[auto_1fr_auto] gap-x-4 gap-y-2",children:[s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"space-y-1.5",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Node filters"}),s.jsx(es,{value:e,onChange:h=>a(h.target.value),placeholder:"Filter by node name...",className:"w-[300px]"}),s.jsx(ot,{options:c.map(h=>({value:h,label:h})),selected:t,onChange:n,placeholder:"All Targets",className:"w-[300px]"})]})}),s.jsxs("div",{className:"space-y-1.5 self-end",children:[s.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Service states"}),s.jsx(ot,{options:d,selected:r,onChange:u,placeholder:"Filter nodes by service states...",className:"w-full min-w-[300px]"})]}),s.jsx("div",{className:"self-end",children:s.jsx(J,{onClick:i,size:"sm",variant:"outline",className:"h-9 w-9",children:s.jsx(Kl,{className:"h-4 w-4"})})})]})},hp=({services:e,error:t})=>{const r=()=>{if(t)return{className:"bg-red-500 dark:bg-red-500/80 hover:bg-red-600 dark:hover:bg-red-500 text-white border-transparent",tooltip:`Error: ${t}`,status:"error"};const o=e.every(c=>c.status==="Running"),i=e.every(c=>c.status==="Starting"||c.status==="Running");return o?{className:"bg-green-500 dark:bg-green-500/80 hover:bg-green-600 dark:hover:bg-green-500 text-white border-transparent",status:"healthy"}:i?{className:"bg-yellow-500 dark:bg-yellow-500/80 hover:bg-yellow-600 dark:hover:bg-yellow-500 text-white border-transparent",status:"pending"}:{className:"bg-red-500 dark:bg-red-500/80 hover:bg-red-600 dark:hover:bg-red-500 text-white border-transparent",status:"unhealthy"}},a=o=>{switch(o){case"Running":return"text-green-600 dark:text-green-400";case"Starting":return"text-yellow-600 dark:text-yellow-400";case"Failed":return"text-red-600 dark:text-red-400";case"Terminated":return"text-gray-600 dark:text-gray-400";case"Stopping":return"text-orange-600 dark:text-orange-400";case"New":return"text-blue-600 dark:text-blue-400";default:return"text-gray-600 dark:text-gray-400"}},{className:n}=r();return s.jsxs(ea,{children:[s.jsx(ta,{children:s.jsx("button",{type:"button",children:s.jsxs(It,{className:n,children:[e.length," services"]})})}),s.jsx(Os,{className:"w-80 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",sideOffset:5,children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"font-medium border-b border-gray-200 dark:border-gray-700 pb-1",children:"Service Status"}),s.jsx("div",{className:"space-y-1",children:e.map((o,i)=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"mr-4 font-medium",children:o.service}),s.jsx("span",{className:`${a(o.status)}`,children:o.status})]},i))}),t&&s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700 text-red-600 dark:text-red-400",children:t})]})})]})},ia=wl,qt=jl,Ht=Nl,Ft=l.forwardRef(({className:e,sideOffset:t=4,...r},a)=>s.jsx(vl,{children:s.jsx(En,{ref:a,sideOffset:t,className:N("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ft.displayName=En.displayName;function mp({isReady:e,message:t,className:r}){return s.jsx(ia,{children:s.jsxs(qt,{children:[s.jsx(Ht,{asChild:!0,children:s.jsx("div",{className:N("flex items-center gap-2",r),children:s.jsx("div",{className:N("h-2.5 w-2.5 rounded-full",e?"bg-green-500":"bg-red-500")})})}),s.jsx(Ft,{children:s.jsx("p",{className:"text-sm",children:t||(e?"Ready":"Not Ready")})})]})})}const gp=e=>{try{const t=ar(e);return Mt(t)?Gn(t,{addSuffix:!0}):"Invalid date"}catch(t){return console.warn("Error parsing date:",e,t),"Invalid date"}},xp=({name:e,node:t,onNavigate:r})=>{var a,n;return s.jsxs(le,{className:"hover:bg-muted/50 cursor-pointer",onClick:()=>r(e),children:[s.jsx(B,{className:"font-medium",children:e}),s.jsx(B,{children:t.target}),s.jsx(B,{className:"font-mono text-sm",children:t.build.version}),s.jsx(B,{children:gp(t.build.buildDate)}),s.jsx(B,{children:s.jsx(hp,{services:t.services,error:t.error})}),s.jsx(B,{children:s.jsx(mp,{isReady:(a=t.ready)==null?void 0:a.isReady,message:(n=t.ready)==null?void 0:n.message})}),s.jsx(B,{children:s.jsxs(J,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",onClick:o=>{o.stopPropagation(),r(e)},children:[s.jsx(Ns,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"View details"})]})})]},e)},bp=({nodes:e,sortField:t,sortDirection:r,onSort:a})=>{const n=Ar(),o=(d,u)=>{const h=ar(d),p=ar(u);return!Mt(h)&&!Mt(p)?0:Mt(h)?Mt(p)?h.getTime()-p.getTime():-1:1},i=Object.entries(e).sort(([d,u],[h,p])=>{let b=0;switch(t){case"name":b=d.localeCompare(h);break;case"target":b=u.target.localeCompare(p.target);break;case"version":b=u.build.version.localeCompare(p.build.version);break;case"buildDate":b=o(u.build.buildDate,p.build.buildDate);break}return r==="asc"?b:-b}),c=d=>{n(`/nodes/${d}`)};return s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(Pt,{children:[s.jsx(Ot,{children:s.jsxs(le,{className:"hover:bg-transparent",children:[s.jsx(Q,{className:"w-[300px]",children:s.jsx(ne,{title:"Node Name",field:"name",sortField:t,sortDirection:r,onSort:a})}),s.jsx(Q,{className:"w-[200px]",children:s.jsx(ne,{title:"Target",field:"target",sortField:t,sortDirection:r,onSort:a})}),s.jsx(Q,{className:"w-[200px]",children:s.jsx(ne,{title:"Version",field:"version",sortField:t,sortDirection:r,onSort:a})}),s.jsx(Q,{className:"w-[200px]",children:s.jsx(ne,{title:"Build Date",field:"buildDate",sortField:t,sortDirection:r,onSort:a})}),s.jsx(Q,{className:"w-[150px]",children:"Status"}),s.jsx(Q,{className:"w-[50px]",children:"Ready"}),s.jsx(Q,{className:"w-[100px]",children:"Actions"})]})}),s.jsxs(Lt,{children:[i.map(([d,u])=>s.jsx(xp,{name:d,node:u,onNavigate:c},d)),i.length===0&&s.jsx(le,{children:s.jsx(B,{colSpan:7,className:"h-24 text-center",children:s.jsx("div",{className:"text-muted-foreground",children:"No nodes found"})})})]})]})})},Ma=e=>`hsl(var(--chart-${e%6+1}))`;function yp({nodes:e}){const t=l.useMemo(()=>{const a=new Map;return Object.values(e).forEach(n=>{const o=n.target||"unknown";a.set(o,(a.get(o)||0)+1)}),Array.from(a.entries()).sort((n,o)=>o[1]-n[1]).map(([n,o],i)=>({name:n,value:o,color:Ma(i)}))},[e]),r=l.useMemo(()=>Object.keys(e).length,[e]);return t.length===0?null:s.jsxs("div",{className:"w-full h-[120px] relative",children:[s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[s.jsx("div",{className:"text-xl font-bold",children:r}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Nodes"})]}),s.jsx(Ss,{width:"100%",height:"100%",children:s.jsxs(Es,{children:[s.jsx(Cs,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:60,innerRadius:42,fill:"hsl(var(--chart-1))",dataKey:"value",paddingAngle:1,strokeWidth:1,children:t.map((a,n)=>s.jsx(Rs,{fill:Ma(n),stroke:"hsl(var(--background))"},`cell-${a.name}`))}),s.jsx(Ts,{content:({active:a,payload:n})=>{if(!a||!n||!n[0])return null;const o=n[0].payload;return s.jsxs("div",{className:"bg-background border rounded-lg shadow-lg px-3 py-2 flex items-center gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm",style:{backgroundColor:o.color}}),s.jsx("span",{className:"text-sm font-medium",children:o.name}),s.jsx("span",{className:"text-sm font-semibold",children:o.value})]})}})]})})]})}class si extends nt.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}render(){var t;return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-destructive/10 p-6 rounded-lg max-w-2xl w-full",children:[s.jsx("h2",{className:"text-xl font-semibold text-destructive mb-4",children:"Something went wrong"}),s.jsx("div",{className:"bg-background/50 p-4 rounded-md",children:s.jsx("pre",{className:"text-sm overflow-auto",children:(t=this.state.error)==null?void 0:t.message})}),s.jsx("button",{className:"mt-4 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",onClick:()=>window.location.reload(),children:"Reload Page"})]})}):this.props.children}}const vp=()=>{const{cluster:e,error:t,refresh:r,isLoading:a}=Qe(),[n,o]=l.useState(""),[i,c]=l.useState([]),[d,u]=l.useState(["New","Starting","Running","Stopping","Terminated","Failed"]),[h,p]=l.useState("name"),[b,j]=l.useState("asc"),g=v=>{v===h?j(b==="asc"?"desc":"asc"):(p(v),j("asc"))},f=()=>e?Object.entries(e.members).reduce((v,[y,w])=>{const E=y.toLowerCase().includes(n.toLowerCase()),C=!i||i.length===0||i.includes(w.target),R=d.length===0||w.services&&Array.isArray(w.services)&&w.services.some(T=>(T==null?void 0:T.status)&&d.includes(T.status));return E&&C&&R&&(v[y]=w),v},{}):{},m=()=>{if(!e)return[];const v=new Set;return Object.values(e.members).forEach(y=>{y.target&&v.add(y.target)}),Array.from(v).sort()};return s.jsx("div",{className:"p-6",children:s.jsxs(ge,{className:"shadow-sm",children:[s.jsx(je,{children:s.jsxs("div",{className:"grid grid-cols-[1fr_auto] gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-semibold tracking-tight",children:"Nodes"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View and manage Loki nodes in your cluster with their current status and configuration"})]}),s.jsx(fp,{nameFilter:n,targetFilter:i,selectedStates:d,onNameFilterChange:o,onTargetFilterChange:c,onStatesChange:u,onRefresh:r,availableTargets:m(),isLoading:a})]}),s.jsx("div",{className:"flex items-center",children:s.jsx("div",{className:"w-[250px]",children:s.jsx(yp,{nodes:f()})})})]})}),s.jsx(xe,{children:s.jsxs("div",{className:"space-y-4",children:[t&&s.jsxs(Fs,{variant:"destructive",children:[s.jsx(_r,{className:"h-4 w-4"}),s.jsx(_s,{children:"Error"}),s.jsx(Ps,{children:t})]}),a&&s.jsxs("div",{className:"flex items-center justify-center py-4",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading..."})]}),!a&&!t&&s.jsx(bp,{nodes:f(),sortField:h,sortDirection:b,onSort:g})]})})]})})};function $a(){return s.jsx(si,{children:s.jsx(vp,{})})}const wp=kl,ri=l.forwardRef(({className:e,...t},r)=>s.jsx(Cn,{ref:r,className:N("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));ri.displayName=Cn.displayName;const us=l.forwardRef(({className:e,...t},r)=>s.jsx(Rn,{ref:r,className:N("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));us.displayName=Rn.displayName;const ps=l.forwardRef(({className:e,...t},r)=>s.jsx(Tn,{ref:r,className:N("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ps.displayName=Tn.displayName;var jp=Object.create,Ds=Object.defineProperty,Np=Object.defineProperties,kp=Object.getOwnPropertyDescriptor,Sp=Object.getOwnPropertyDescriptors,ai=Object.getOwnPropertyNames,vs=Object.getOwnPropertySymbols,Ep=Object.getPrototypeOf,la=Object.prototype.hasOwnProperty,ni=Object.prototype.propertyIsEnumerable,Ba=(e,t,r)=>t in e?Ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pe=(e,t)=>{for(var r in t||(t={}))la.call(t,r)&&Ba(e,r,t[r]);if(vs)for(var r of vs(t))ni.call(t,r)&&Ba(e,r,t[r]);return e},Ms=(e,t)=>Np(e,Sp(t)),oi=(e,t)=>{var r={};for(var a in e)la.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&vs)for(var a of vs(e))t.indexOf(a)<0&&ni.call(e,a)&&(r[a]=e[a]);return r},Cp=(e,t)=>function(){return t||(0,e[ai(e)[0]])((t={exports:{}}).exports,t),t.exports},Rp=(e,t)=>{for(var r in t)Ds(e,r,{get:t[r],enumerable:!0})},Tp=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ai(t))!la.call(e,n)&&n!==r&&Ds(e,n,{get:()=>t[n],enumerable:!(a=kp(t,n))||a.enumerable});return e},Ap=(e,t,r)=>(r=e!=null?jp(Ep(e)):{},Tp(!e||!e.__esModule?Ds(r,"default",{value:e,enumerable:!0}):r,e)),Ip=Cp({"../../node_modules/.pnpm/prismjs@1.29.0_patch_hash=vrxx3pzkik6jpmgpayxfjunetu/node_modules/prismjs/prism.js"(e,t){var r=function(){var a=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,o={},i={util:{encode:function g(f){return f instanceof c?new c(f.type,g(f.content),f.alias):Array.isArray(f)?f.map(g):f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(g){return Object.prototype.toString.call(g).slice(8,-1)},objId:function(g){return g.__id||Object.defineProperty(g,"__id",{value:++n}),g.__id},clone:function g(f,m){m=m||{};var v,y;switch(i.util.type(f)){case"Object":if(y=i.util.objId(f),m[y])return m[y];v={},m[y]=v;for(var w in f)f.hasOwnProperty(w)&&(v[w]=g(f[w],m));return v;case"Array":return y=i.util.objId(f),m[y]?m[y]:(v=[],m[y]=v,f.forEach(function(E,C){v[C]=g(E,m)}),v);default:return f}},getLanguage:function(g){for(;g;){var f=a.exec(g.className);if(f)return f[1].toLowerCase();g=g.parentElement}return"none"},setLanguage:function(g,f){g.className=g.className.replace(RegExp(a,"gi"),""),g.classList.add("language-"+f)},isActive:function(g,f,m){for(var v="no-"+f;g;){var y=g.classList;if(y.contains(f))return!0;if(y.contains(v))return!1;g=g.parentElement}return!!m}},languages:{plain:o,plaintext:o,text:o,txt:o,extend:function(g,f){var m=i.util.clone(i.languages[g]);for(var v in f)m[v]=f[v];return m},insertBefore:function(g,f,m,v){v=v||i.languages;var y=v[g],w={};for(var E in y)if(y.hasOwnProperty(E)){if(E==f)for(var C in m)m.hasOwnProperty(C)&&(w[C]=m[C]);m.hasOwnProperty(E)||(w[E]=y[E])}var R=v[g];return v[g]=w,i.languages.DFS(i.languages,function(T,O){O===R&&T!=g&&(this[T]=w)}),w},DFS:function g(f,m,v,y){y=y||{};var w=i.util.objId;for(var E in f)if(f.hasOwnProperty(E)){m.call(f,E,f[E],v||E);var C=f[E],R=i.util.type(C);R==="Object"&&!y[w(C)]?(y[w(C)]=!0,g(C,m,null,y)):R==="Array"&&!y[w(C)]&&(y[w(C)]=!0,g(C,m,E,y))}}},plugins:{},highlight:function(g,f,m){var v={code:g,grammar:f,language:m};if(i.hooks.run("before-tokenize",v),!v.grammar)throw new Error('The language "'+v.language+'" has no grammar.');return v.tokens=i.tokenize(v.code,v.grammar),i.hooks.run("after-tokenize",v),c.stringify(i.util.encode(v.tokens),v.language)},tokenize:function(g,f){var m=f.rest;if(m){for(var v in m)f[v]=m[v];delete f.rest}var y=new h;return p(y,y.head,g),u(g,y,f,y.head,0),j(y)},hooks:{all:{},add:function(g,f){var m=i.hooks.all;m[g]=m[g]||[],m[g].push(f)},run:function(g,f){var m=i.hooks.all[g];if(!(!m||!m.length))for(var v=0,y;y=m[v++];)y(f)}},Token:c};function c(g,f,m,v){this.type=g,this.content=f,this.alias=m,this.length=(v||"").length|0}c.stringify=function g(f,m){if(typeof f=="string")return f;if(Array.isArray(f)){var v="";return f.forEach(function(R){v+=g(R,m)}),v}var y={type:f.type,content:g(f.content,m),tag:"span",classes:["token",f.type],attributes:{},language:m},w=f.alias;w&&(Array.isArray(w)?Array.prototype.push.apply(y.classes,w):y.classes.push(w)),i.hooks.run("wrap",y);var E="";for(var C in y.attributes)E+=" "+C+'="'+(y.attributes[C]||"").replace(/"/g,"&quot;")+'"';return"<"+y.tag+' class="'+y.classes.join(" ")+'"'+E+">"+y.content+"</"+y.tag+">"};function d(g,f,m,v){g.lastIndex=f;var y=g.exec(m);if(y&&v&&y[1]){var w=y[1].length;y.index+=w,y[0]=y[0].slice(w)}return y}function u(g,f,m,v,y,w){for(var E in m)if(!(!m.hasOwnProperty(E)||!m[E])){var C=m[E];C=Array.isArray(C)?C:[C];for(var R=0;R<C.length;++R){if(w&&w.cause==E+","+R)return;var T=C[R],O=T.inside,L=!!T.lookbehind,X=!!T.greedy,K=T.alias;if(X&&!T.pattern.global){var G=T.pattern.toString().match(/[imsuy]*$/)[0];T.pattern=RegExp(T.pattern.source,G+"g")}for(var ue=T.pattern||T,I=v.next,q=y;I!==f.tail&&!(w&&q>=w.reach);q+=I.value.length,I=I.next){var ee=I.value;if(f.length>g.length)return;if(!(ee instanceof c)){var se=1,_;if(X){if(_=d(ue,q,g,L),!_||_.index>=g.length)break;var S=_.index,P=_.index+_[0].length,M=q;for(M+=I.value.length;S>=M;)I=I.next,M+=I.value.length;if(M-=I.value.length,q=M,I.value instanceof c)continue;for(var H=I;H!==f.tail&&(M<P||typeof H.value=="string");H=H.next)se++,M+=H.value.length;se--,ee=g.slice(q,M),_.index-=q}else if(_=d(ue,0,ee,L),!_)continue;var S=_.index,F=_[0],z=ee.slice(0,S),D=ee.slice(S+F.length),Z=q+ee.length;w&&Z>w.reach&&(w.reach=Z);var Y=I.prev;z&&(Y=p(f,Y,z),q+=z.length),b(f,Y,se);var pe=new c(E,O?i.tokenize(F,O):F,K,F);if(I=p(f,Y,pe),D&&p(f,I,D),se>1){var Ne={cause:E+","+R,reach:Z};u(g,f,m,I.prev,q,Ne),w&&Ne.reach>w.reach&&(w.reach=Ne.reach)}}}}}}function h(){var g={value:null,prev:null,next:null},f={value:null,prev:g,next:null};g.next=f,this.head=g,this.tail=f,this.length=0}function p(g,f,m){var v=f.next,y={value:m,prev:f,next:v};return f.next=y,v.prev=y,g.length++,y}function b(g,f,m){for(var v=f.next,y=0;y<m&&v!==g.tail;y++)v=v.next;f.next=v,v.prev=f,g.length-=y}function j(g){for(var f=[],m=g.head.next;m!==g.tail;)f.push(m.value),m=m.next;return f}return i}();t.exports=r,r.default=r}}),k=Ap(Ip());k.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},k.languages.markup.tag.inside["attr-value"].inside.entity=k.languages.markup.entity,k.languages.markup.doctype.inside["internal-subset"].inside=k.languages.markup,k.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))}),Object.defineProperty(k.languages.markup.tag,"addInlined",{value:function(e,a){var r={},r=(r["language-"+a]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:k.languages[a]},r.cdata=/^<!\[CDATA\[|\]\]>$/i,{"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}}),a=(r["language-"+a]={pattern:/[\s\S]+/,inside:k.languages[a]},{});a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:r},k.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(k.languages.markup.tag,"addAttribute",{value:function(e,t){k.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[t,"language-"+t],inside:k.languages[t]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),k.languages.html=k.languages.markup,k.languages.mathml=k.languages.markup,k.languages.svg=k.languages.markup,k.languages.xml=k.languages.extend("markup",{}),k.languages.ssml=k.languages.xml,k.languages.atom=k.languages.xml,k.languages.rss=k.languages.xml,function(e){var t={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},r=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,a="(?:[^\\\\-]|"+r.source+")",a=RegExp(a+"-"+a),n={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};e.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:a,inside:{escape:r,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":t,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:r}},"special-escape":t,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":n}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:r,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":n}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}}(k),k.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},k.languages.javascript=k.languages.extend("clike",{"class-name":[k.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),k.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,k.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:k.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:k.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:k.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:k.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:k.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),k.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:k.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),k.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),k.languages.markup&&(k.languages.markup.tag.addInlined("script","javascript"),k.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),k.languages.js=k.languages.javascript,k.languages.actionscript=k.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),k.languages.actionscript["class-name"].alias="function",delete k.languages.actionscript.parameter,delete k.languages.actionscript["literal-property"],k.languages.markup&&k.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:k.languages.markup}}),function(e){var t=/#(?!\{).+/,r={pattern:/#\{[^}]+\}/,alias:"variable"};e.languages.coffeescript=e.languages.extend("javascript",{comment:t,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:r}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),e.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:t,interpolation:r}}}),e.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:e.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:r}}]}),e.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete e.languages.coffeescript["template-string"],e.languages.coffee=e.languages.coffeescript}(k),function(e){var t=e.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};Object.defineProperty(t,"addSupport",{value:function(r,a){(r=typeof r=="string"?[r]:r).forEach(function(n){var o=function(p){p.inside||(p.inside={}),p.inside.rest=a},i="doc-comment";if(c=e.languages[n]){var c,d=c[i];if((d=d||(c=e.languages.insertBefore(n,"comment",{"doc-comment":{pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"}}))[i])instanceof RegExp&&(d=c[i]={pattern:d}),Array.isArray(d))for(var u=0,h=d.length;u<h;u++)d[u]instanceof RegExp&&(d[u]={pattern:d[u]}),o(d[u]);else o(d)}})}}),t.addSupport(["java","javascript","php"],t)}(k),function(e){var t=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,t=(e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+t.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+t.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+t.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+t.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:t,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css,e.languages.markup);t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))}(k),function(e){var t=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,t=(e.languages.css.selector={pattern:e.languages.css.selector.pattern,lookbehind:!0,inside:t={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+t.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[t,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},e.languages.css.atrule.inside["selector-function-argument"].inside=t,e.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}}),{pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0}),r={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};e.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:t,number:r,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:t,number:r})}(k),function(e){var t=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,a="(?:"+r.source+"(?:[ 	]+"+t.source+")?|"+t.source+"(?:[ 	]+"+r.source+")?)",n=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function i(c,d){d=(d||"").replace(/m/g,"")+"m";var u=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<value>>/g,function(){return c});return RegExp(u,d)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return a})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<key>>/g,function(){return"(?:"+n+"|"+o+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:i(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:i(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:i(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:i(o),lookbehind:!0,greedy:!0},number:{pattern:i(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:t,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(k),function(e){var t=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(u){return u=u.replace(/<inner>/g,function(){return t}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+u+")")}var a=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,n=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return a}),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source,i=(e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+n+o+"(?:"+n+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+n+o+")(?:"+n+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(a),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+n+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+n+"$"),inside:{"table-header":{pattern:RegExp(a),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(u){["url","bold","italic","strike","code-snippet"].forEach(function(h){u!==h&&(e.languages.markdown[u].inside.content.inside[h]=e.languages.markdown[h])})}),e.hooks.add("after-tokenize",function(u){u.language!=="markdown"&&u.language!=="md"||function h(p){if(p&&typeof p!="string")for(var b=0,j=p.length;b<j;b++){var g,f=p[b];f.type!=="code"?h(f.content):(g=f.content[1],f=f.content[3],g&&f&&g.type==="code-language"&&f.type==="code-block"&&typeof g.content=="string"&&(g=g.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),g="language-"+(g=(/[a-z][\w-]*/i.exec(g)||[""])[0].toLowerCase()),f.alias?typeof f.alias=="string"?f.alias=[f.alias,g]:f.alias.push(g):f.alias=[g]))}}(u.tokens)}),e.hooks.add("wrap",function(u){if(u.type==="code-block"){for(var h="",p=0,b=u.classes.length;p<b;p++){var j=u.classes[p],j=/language-(.+)/.exec(j);if(j){h=j[1];break}}var g,f=e.languages[h];f?u.content=e.highlight(function(m){return m=m.replace(i,""),m=m.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(v,y){var w;return(y=y.toLowerCase())[0]==="#"?(w=y[1]==="x"?parseInt(y.slice(2),16):Number(y.slice(1)),d(w)):c[y]||v})}(u.content),f,h):h&&h!=="none"&&e.plugins.autoloader&&(g="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random()),u.attributes.id=g,e.plugins.autoloader.loadLanguages(h,function(){var m=document.getElementById(g);m&&(m.innerHTML=e.highlight(m.textContent,e.languages[h],h))}))}}),RegExp(e.languages.markup.tag.pattern.source,"gi")),c={amp:"&",lt:"<",gt:">",quot:'"'},d=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(k),k.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:k.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},k.hooks.add("after-tokenize",function(e){if(e.language==="graphql")for(var t=e.tokens.filter(function(g){return typeof g!="string"&&g.type!=="comment"&&g.type!=="scalar"}),r=0;r<t.length;){var a=t[r++];if(a.type==="keyword"&&a.content==="mutation"){var n=[];if(p(["definition-mutation","punctuation"])&&h(1).content==="("){r+=2;var o=b(/^\($/,/^\)$/);if(o===-1)continue;for(;r<o;r++){var i=h(0);i.type==="variable"&&(j(i,"variable-input"),n.push(i.content))}r=o+1}if(p(["punctuation","property-query"])&&h(0).content==="{"&&(r++,j(h(0),"property-mutation"),0<n.length)){var c=b(/^\{$/,/^\}$/);if(c!==-1)for(var d=r;d<c;d++){var u=t[d];u.type==="variable"&&0<=n.indexOf(u.content)&&j(u,"variable-input")}}}}function h(g){return t[r+g]}function p(g,f){f=f||0;for(var m=0;m<g.length;m++){var v=h(m+f);if(!v||v.type!==g[m])return}return 1}function b(g,f){for(var m=1,v=r;v<t.length;v++){var y=t[v],w=y.content;if(y.type==="punctuation"&&typeof w=="string"){if(g.test(w))m++;else if(f.test(w)&&--m===0)return v}}return-1}function j(g,f){var m=g.alias;m?Array.isArray(m)||(g.alias=m=[m]):g.alias=m=[],m.push(f)}}),k.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/},function(e){var t=e.languages.javascript["template-string"],r=t.pattern.source,a=t.inside.interpolation,n=a.inside["interpolation-punctuation"],o=a.pattern.source;function i(p,b){if(e.languages[p])return{pattern:RegExp("((?:"+b+")\\s*)"+r),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:p}}}}function c(p,b,j){return p={code:p,grammar:b,language:j},e.hooks.run("before-tokenize",p),p.tokens=e.tokenize(p.code,p.grammar),e.hooks.run("after-tokenize",p),p.tokens}function d(p,b,j){var m=e.tokenize(p,{interpolation:{pattern:RegExp(o),lookbehind:!0}}),g=0,f={},m=c(m.map(function(y){if(typeof y=="string")return y;for(var w,E,y=y.content;p.indexOf((E=g++,w="___"+j.toUpperCase()+"_"+E+"___"))!==-1;);return f[w]=y,w}).join(""),b,j),v=Object.keys(f);return g=0,function y(w){for(var E=0;E<w.length;E++){if(g>=v.length)return;var C,R,T,O,L,X,K,G=w[E];typeof G=="string"||typeof G.content=="string"?(C=v[g],(K=(X=typeof G=="string"?G:G.content).indexOf(C))!==-1&&(++g,R=X.substring(0,K),L=f[C],T=void 0,(O={})["interpolation-punctuation"]=n,(O=e.tokenize(L,O)).length===3&&((T=[1,1]).push.apply(T,c(O[1],e.languages.javascript,"javascript")),O.splice.apply(O,T)),T=new e.Token("interpolation",O,a.alias,L),O=X.substring(K+C.length),L=[],R&&L.push(R),L.push(T),O&&(y(X=[O]),L.push.apply(L,X)),typeof G=="string"?(w.splice.apply(w,[E,1].concat(L)),E+=L.length-1):G.content=L)):(K=G.content,Array.isArray(K)?y(K):y([K]))}}(m),new e.Token(j,m,"language-"+j,p)}e.languages.javascript["template-string"]=[i("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),i("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),i("svg",/\bsvg/.source),i("markdown",/\b(?:markdown|md)/.source),i("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),i("sql",/\bsql/.source),t].filter(Boolean);var u={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};function h(p){return typeof p=="string"?p:Array.isArray(p)?p.map(h).join(""):h(p.content)}e.hooks.add("after-tokenize",function(p){p.language in u&&function b(j){for(var g=0,f=j.length;g<f;g++){var m,v,y,w=j[g];typeof w!="string"&&(m=w.content,Array.isArray(m)?w.type==="template-string"?(w=m[1],m.length===3&&typeof w!="string"&&w.type==="embedded-code"&&(v=h(w),w=w.alias,w=Array.isArray(w)?w[0]:w,y=e.languages[w])&&(m[1]=d(v,y,w))):b(m):typeof m!="string"&&b([m]))}}(p.tokens)})}(k),function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var t=e.languages.extend("typescript",{});delete t["class-name"],e.languages.typescript["class-name"].inside=t,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t}}}}),e.languages.ts=e.languages.typescript}(k),function(e){var t=e.languages.javascript,r=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,a="(@(?:arg|argument|param|property)\\s+(?:"+r+"\\s+)?)";e.languages.jsdoc=e.languages.extend("javadoclike",{parameter:{pattern:RegExp(a+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(a+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:t,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return r})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+r),lookbehind:!0,inside:{string:t.string,number:t.number,boolean:t.boolean,keyword:e.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:t,alias:"language-javascript"}}}}),e.languages.javadoclike.addSupport("javascript",e.languages.jsdoc)}(k),function(e){e.languages.flow=e.languages.extend("javascript",{}),e.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|[Ss]ymbol|any|mixed|null|void)\b/,alias:"class-name"}]}),e.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete e.languages.flow.parameter,e.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(e.languages.flow.keyword)||(e.languages.flow.keyword=[e.languages.flow.keyword]),e.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})}(k),k.languages.n4js=k.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),k.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),k.languages.n4jsd=k.languages.n4js,function(e){function t(i,c){return RegExp(i.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),c)}e.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+e.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),e.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+e.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),e.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]}),e.languages.insertBefore("javascript","keyword",{imports:{pattern:t(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:e.languages.javascript},exports:{pattern:t(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:e.languages.javascript}}),e.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),e.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),e.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:t(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var r=["function","function-variable","method","method-variable","property-access"],a=0;a<r.length;a++){var o=r[a],n=e.languages.javascript[o],o=(n=e.util.type(n)==="RegExp"?e.languages.javascript[o]={pattern:n}:n).inside||{};(n.inside=o)["maybe-class-name"]=/^[A-Z][\s\S]*/}}(k),function(e){var t=e.util.clone(e.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,a=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,n=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function o(d,u){return d=d.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return a}).replace(/<SPREAD>/g,function(){return n}),RegExp(d,u)}n=o(n).source,e.languages.jsx=e.languages.extend("markup",t),e.languages.jsx.tag.pattern=o(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=t.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:o(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:o(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);function i(d){for(var u=[],h=0;h<d.length;h++){var p=d[h],b=!1;typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?0<u.length&&u[u.length-1].tagName===c(p.content[0].content[1])&&u.pop():p.content[p.content.length-1].content!=="/>"&&u.push({tagName:c(p.content[0].content[1]),openedBraces:0}):0<u.length&&p.type==="punctuation"&&p.content==="{"?u[u.length-1].openedBraces++:0<u.length&&0<u[u.length-1].openedBraces&&p.type==="punctuation"&&p.content==="}"?u[u.length-1].openedBraces--:b=!0),(b||typeof p=="string")&&0<u.length&&u[u.length-1].openedBraces===0&&(b=c(p),h<d.length-1&&(typeof d[h+1]=="string"||d[h+1].type==="plain-text")&&(b+=c(d[h+1]),d.splice(h+1,1)),0<h&&(typeof d[h-1]=="string"||d[h-1].type==="plain-text")&&(b=c(d[h-1])+b,d.splice(h-1,1),h--),d[h]=new e.Token("plain-text",b,null,b)),p.content&&typeof p.content!="string"&&i(p.content)}}var c=function(d){return d?typeof d=="string"?d:typeof d.content=="string"?d.content:d.content.map(c).join(""):""};e.hooks.add("after-tokenize",function(d){d.language!=="jsx"&&d.language!=="tsx"||i(d.tokens)})}(k),function(e){var t=e.util.clone(e.languages.typescript),t=(e.languages.tsx=e.languages.extend("jsx",t),delete e.languages.tsx.parameter,delete e.languages.tsx["literal-property"],e.languages.tsx.tag);t.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+t.pattern.source+")",t.pattern.flags),t.lookbehind=!0}(k),k.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},k.languages.swift["string-literal"].forEach(function(e){e.inside.interpolation.inside=k.languages.swift}),function(e){e.languages.kotlin=e.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete e.languages.kotlin["class-name"];var t={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.kotlin}};e.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:t},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:t},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete e.languages.kotlin.string,e.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),e.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),e.languages.kt=e.languages.kotlin,e.languages.kts=e.languages.kotlin}(k),k.languages.c=k.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),k.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),k.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},k.languages.c.string],char:k.languages.c.char,comment:k.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:k.languages.c}}}}),k.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete k.languages.c.boolean,k.languages.objectivec=k.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete k.languages.objectivec["class-name"],k.languages.objc=k.languages.objectivec,k.languages.reason=k.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),k.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete k.languages.reason.function,function(e){for(var t=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)t=t.replace(/<self>/g,function(){return t});t=t.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+t),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string}(k),k.languages.go=k.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),k.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete k.languages.go["class-name"],function(e){var t=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return t.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return t.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:t,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(k),k.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},k.languages.python["string-interpolation"].inside.interpolation.inside.rest=k.languages.python,k.languages.py=k.languages.python,k.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},k.languages.webmanifest=k.languages.json;var Fp={};Rp(Fp,{dracula:()=>Pp,duotoneDark:()=>Lp,duotoneLight:()=>Mp,github:()=>Bp,gruvboxMaterialDark:()=>gf,gruvboxMaterialLight:()=>bf,jettwaveDark:()=>lf,jettwaveLight:()=>df,nightOwl:()=>Up,nightOwlLight:()=>Gp,oceanicNext:()=>Hp,okaidia:()=>Qp,oneDark:()=>pf,oneLight:()=>hf,palenight:()=>Zp,shadesOfPurple:()=>Xp,synthwave84:()=>ef,ultramin:()=>sf,vsDark:()=>ii,vsLight:()=>nf});var _p={plain:{color:"#F8F8F2",backgroundColor:"#282A36"},styles:[{types:["prolog","constant","builtin"],style:{color:"rgb(189, 147, 249)"}},{types:["inserted","function"],style:{color:"rgb(80, 250, 123)"}},{types:["deleted"],style:{color:"rgb(255, 85, 85)"}},{types:["changed"],style:{color:"rgb(255, 184, 108)"}},{types:["punctuation","symbol"],style:{color:"rgb(248, 248, 242)"}},{types:["string","char","tag","selector"],style:{color:"rgb(255, 121, 198)"}},{types:["keyword","variable"],style:{color:"rgb(189, 147, 249)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(98, 114, 164)"}},{types:["attr-name"],style:{color:"rgb(241, 250, 140)"}}]},Pp=_p,Op={plain:{backgroundColor:"#2a2734",color:"#9a86fd"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#6c6783"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#e09142"}},{types:["property","function"],style:{color:"#9a86fd"}},{types:["tag-id","selector","atrule-id"],style:{color:"#eeebff"}},{types:["attr-name"],style:{color:"#c4b9fe"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule","placeholder","variable"],style:{color:"#ffcc99"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#c4b9fe"}}]},Lp=Op,Dp={plain:{backgroundColor:"#faf8f5",color:"#728fcb"},styles:[{types:["comment","prolog","doctype","cdata","punctuation"],style:{color:"#b6ad9a"}},{types:["namespace"],style:{opacity:.7}},{types:["tag","operator","number"],style:{color:"#063289"}},{types:["property","function"],style:{color:"#b29762"}},{types:["tag-id","selector","atrule-id"],style:{color:"#2d2006"}},{types:["attr-name"],style:{color:"#896724"}},{types:["boolean","string","entity","url","attr-value","keyword","control","directive","unit","statement","regex","atrule"],style:{color:"#728fcb"}},{types:["placeholder","variable"],style:{color:"#93abdc"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"#896724"}}]},Mp=Dp,$p={plain:{color:"#393A34",backgroundColor:"#f6f8fa"},styles:[{types:["comment","prolog","doctype","cdata"],style:{color:"#999988",fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}},{types:["string","attr-value"],style:{color:"#e3116c"}},{types:["punctuation","operator"],style:{color:"#393A34"}},{types:["entity","url","symbol","number","boolean","variable","constant","property","regex","inserted"],style:{color:"#36acaa"}},{types:["atrule","keyword","attr-name","selector"],style:{color:"#00a4db"}},{types:["function","deleted","tag"],style:{color:"#d73a49"}},{types:["function-variable"],style:{color:"#6f42c1"}},{types:["tag","selector","keyword"],style:{color:"#00009f"}}]},Bp=$p,zp={plain:{color:"#d6deeb",backgroundColor:"#011627"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)",fontStyle:"italic"}},{types:["inserted","attr-name"],style:{color:"rgb(173, 219, 103)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(99, 119, 119)",fontStyle:"italic"}},{types:["string","url"],style:{color:"rgb(173, 219, 103)"}},{types:["variable"],style:{color:"rgb(214, 222, 235)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation"],style:{color:"rgb(199, 146, 234)"}},{types:["selector","doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["class-name"],style:{color:"rgb(255, 203, 139)"}},{types:["tag","operator","keyword"],style:{color:"rgb(127, 219, 202)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["property"],style:{color:"rgb(128, 203, 196)"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}}]},Up=zp,Vp={plain:{color:"#403f53",backgroundColor:"#FBFBFB"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)",fontStyle:"italic"}},{types:["inserted","attr-name"],style:{color:"rgb(72, 118, 214)",fontStyle:"italic"}},{types:["comment"],style:{color:"rgb(152, 159, 177)",fontStyle:"italic"}},{types:["string","builtin","char","constant","url"],style:{color:"rgb(72, 118, 214)"}},{types:["variable"],style:{color:"rgb(201, 103, 101)"}},{types:["number"],style:{color:"rgb(170, 9, 130)"}},{types:["punctuation"],style:{color:"rgb(153, 76, 195)"}},{types:["function","selector","doctype"],style:{color:"rgb(153, 76, 195)",fontStyle:"italic"}},{types:["class-name"],style:{color:"rgb(17, 17, 17)"}},{types:["tag"],style:{color:"rgb(153, 76, 195)"}},{types:["operator","property","keyword","namespace"],style:{color:"rgb(12, 150, 155)"}},{types:["boolean"],style:{color:"rgb(188, 84, 84)"}}]},Gp=Vp,me={char:"#D8DEE9",comment:"#999999",keyword:"#c5a5c5",primitive:"#5a9bcf",string:"#8dc891",variable:"#d7deea",boolean:"#ff8b50",punctuation:"#5FB3B3",tag:"#fc929e",function:"#79b6f2",className:"#FAC863",method:"#6699CC",operator:"#fc929e"},qp={plain:{backgroundColor:"#282c34",color:"#ffffff"},styles:[{types:["attr-name"],style:{color:me.keyword}},{types:["attr-value"],style:{color:me.string}},{types:["comment","block-comment","prolog","doctype","cdata","shebang"],style:{color:me.comment}},{types:["property","number","function-name","constant","symbol","deleted"],style:{color:me.primitive}},{types:["boolean"],style:{color:me.boolean}},{types:["tag"],style:{color:me.tag}},{types:["string"],style:{color:me.string}},{types:["punctuation"],style:{color:me.string}},{types:["selector","char","builtin","inserted"],style:{color:me.char}},{types:["function"],style:{color:me.function}},{types:["operator","entity","url","variable"],style:{color:me.variable}},{types:["keyword"],style:{color:me.keyword}},{types:["atrule","class-name"],style:{color:me.className}},{types:["important"],style:{fontWeight:"400"}},{types:["bold"],style:{fontWeight:"bold"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["namespace"],style:{opacity:.7}}]},Hp=qp,Kp={plain:{color:"#f8f8f2",backgroundColor:"#272822"},styles:[{types:["changed"],style:{color:"rgb(162, 191, 252)",fontStyle:"italic"}},{types:["deleted"],style:{color:"#f92672",fontStyle:"italic"}},{types:["inserted"],style:{color:"rgb(173, 219, 103)",fontStyle:"italic"}},{types:["comment"],style:{color:"#8292a2",fontStyle:"italic"}},{types:["string","url"],style:{color:"#a6e22e"}},{types:["variable"],style:{color:"#f8f8f2"}},{types:["number"],style:{color:"#ae81ff"}},{types:["builtin","char","constant","function","class-name"],style:{color:"#e6db74"}},{types:["punctuation"],style:{color:"#f8f8f2"}},{types:["selector","doctype"],style:{color:"#a6e22e",fontStyle:"italic"}},{types:["tag","operator","keyword"],style:{color:"#66d9ef"}},{types:["boolean"],style:{color:"#ae81ff"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)",opacity:.7}},{types:["tag","property"],style:{color:"#f92672"}},{types:["attr-name"],style:{color:"#a6e22e !important"}},{types:["doctype"],style:{color:"#8292a2"}},{types:["rule"],style:{color:"#e6db74"}}]},Qp=Kp,Wp={plain:{color:"#bfc7d5",backgroundColor:"#292d3e"},styles:[{types:["comment"],style:{color:"rgb(105, 112, 152)",fontStyle:"italic"}},{types:["string","inserted"],style:{color:"rgb(195, 232, 141)"}},{types:["number"],style:{color:"rgb(247, 140, 108)"}},{types:["builtin","char","constant","function"],style:{color:"rgb(130, 170, 255)"}},{types:["punctuation","selector"],style:{color:"rgb(199, 146, 234)"}},{types:["variable"],style:{color:"rgb(191, 199, 213)"}},{types:["class-name","attr-name"],style:{color:"rgb(255, 203, 107)"}},{types:["tag","deleted"],style:{color:"rgb(255, 85, 114)"}},{types:["operator"],style:{color:"rgb(137, 221, 255)"}},{types:["boolean"],style:{color:"rgb(255, 88, 116)"}},{types:["keyword"],style:{fontStyle:"italic"}},{types:["doctype"],style:{color:"rgb(199, 146, 234)",fontStyle:"italic"}},{types:["namespace"],style:{color:"rgb(178, 204, 214)"}},{types:["url"],style:{color:"rgb(221, 221, 221)"}}]},Zp=Wp,Yp={plain:{color:"#9EFEFF",backgroundColor:"#2D2A55"},styles:[{types:["changed"],style:{color:"rgb(255, 238, 128)"}},{types:["deleted"],style:{color:"rgba(239, 83, 80, 0.56)"}},{types:["inserted"],style:{color:"rgb(173, 219, 103)"}},{types:["comment"],style:{color:"rgb(179, 98, 255)",fontStyle:"italic"}},{types:["punctuation"],style:{color:"rgb(255, 255, 255)"}},{types:["constant"],style:{color:"rgb(255, 98, 140)"}},{types:["string","url"],style:{color:"rgb(165, 255, 144)"}},{types:["variable"],style:{color:"rgb(255, 238, 128)"}},{types:["number","boolean"],style:{color:"rgb(255, 98, 140)"}},{types:["attr-name"],style:{color:"rgb(255, 180, 84)"}},{types:["keyword","operator","property","namespace","tag","selector","doctype"],style:{color:"rgb(255, 157, 0)"}},{types:["builtin","char","constant","function","class-name"],style:{color:"rgb(250, 208, 0)"}}]},Xp=Yp,Jp={plain:{backgroundColor:"linear-gradient(to bottom, #2a2139 75%, #34294f)",backgroundImage:"#34294f",color:"#f92aad",textShadow:"0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3"},styles:[{types:["comment","block-comment","prolog","doctype","cdata"],style:{color:"#495495",fontStyle:"italic"}},{types:["punctuation"],style:{color:"#ccc"}},{types:["tag","attr-name","namespace","number","unit","hexcode","deleted"],style:{color:"#e2777a"}},{types:["property","selector"],style:{color:"#72f1b8",textShadow:"0 0 2px #100c0f, 0 0 10px #257c5575, 0 0 35px #21272475"}},{types:["function-name"],style:{color:"#6196cc"}},{types:["boolean","selector-id","function"],style:{color:"#fdfdfd",textShadow:"0 0 2px #001716, 0 0 3px #03edf975, 0 0 5px #03edf975, 0 0 8px #03edf975"}},{types:["class-name","maybe-class-name","builtin"],style:{color:"#fff5f6",textShadow:"0 0 2px #000, 0 0 10px #fc1f2c75, 0 0 5px #fc1f2c75, 0 0 25px #fc1f2c75"}},{types:["constant","symbol"],style:{color:"#f92aad",textShadow:"0 0 2px #100c0f, 0 0 5px #dc078e33, 0 0 10px #fff3"}},{types:["important","atrule","keyword","selector-class"],style:{color:"#f4eee4",textShadow:"0 0 2px #393a33, 0 0 8px #f39f0575, 0 0 2px #f39f0575"}},{types:["string","char","attr-value","regex","variable"],style:{color:"#f87c32"}},{types:["parameter"],style:{fontStyle:"italic"}},{types:["entity","url"],style:{color:"#67cdcc"}},{types:["operator"],style:{color:"ffffffee"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["entity"],style:{cursor:"help"}},{types:["inserted"],style:{color:"green"}}]},ef=Jp,tf={plain:{color:"#282a2e",backgroundColor:"#ffffff"},styles:[{types:["comment"],style:{color:"rgb(197, 200, 198)"}},{types:["string","number","builtin","variable"],style:{color:"rgb(150, 152, 150)"}},{types:["class-name","function","tag","attr-name"],style:{color:"rgb(40, 42, 46)"}}]},sf=tf,rf={plain:{color:"#9CDCFE",backgroundColor:"#1E1E1E"},styles:[{types:["prolog"],style:{color:"rgb(0, 0, 128)"}},{types:["comment"],style:{color:"rgb(106, 153, 85)"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"rgb(86, 156, 214)"}},{types:["number","inserted"],style:{color:"rgb(181, 206, 168)"}},{types:["constant"],style:{color:"rgb(100, 102, 149)"}},{types:["attr-name","variable"],style:{color:"rgb(156, 220, 254)"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"rgb(206, 145, 120)"}},{types:["selector"],style:{color:"rgb(215, 186, 125)"}},{types:["tag"],style:{color:"rgb(78, 201, 176)"}},{types:["tag"],languages:["markup"],style:{color:"rgb(86, 156, 214)"}},{types:["punctuation","operator"],style:{color:"rgb(212, 212, 212)"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"rgb(220, 220, 170)"}},{types:["class-name"],style:{color:"rgb(78, 201, 176)"}},{types:["char"],style:{color:"rgb(209, 105, 105)"}}]},ii=rf,af={plain:{color:"#000000",backgroundColor:"#ffffff"},styles:[{types:["comment"],style:{color:"rgb(0, 128, 0)"}},{types:["builtin"],style:{color:"rgb(0, 112, 193)"}},{types:["number","variable","inserted"],style:{color:"rgb(9, 134, 88)"}},{types:["operator"],style:{color:"rgb(0, 0, 0)"}},{types:["constant","char"],style:{color:"rgb(129, 31, 63)"}},{types:["tag"],style:{color:"rgb(128, 0, 0)"}},{types:["attr-name"],style:{color:"rgb(255, 0, 0)"}},{types:["deleted","string"],style:{color:"rgb(163, 21, 21)"}},{types:["changed","punctuation"],style:{color:"rgb(4, 81, 165)"}},{types:["function","keyword"],style:{color:"rgb(0, 0, 255)"}},{types:["class-name"],style:{color:"rgb(38, 127, 153)"}}]},nf=af,of={plain:{color:"#f8fafc",backgroundColor:"#011627"},styles:[{types:["prolog"],style:{color:"#000080"}},{types:["comment"],style:{color:"#6A9955"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"#569CD6"}},{types:["number","inserted"],style:{color:"#B5CEA8"}},{types:["constant"],style:{color:"#f8fafc"}},{types:["attr-name","variable"],style:{color:"#9CDCFE"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"#cbd5e1"}},{types:["selector"],style:{color:"#D7BA7D"}},{types:["tag"],style:{color:"#0ea5e9"}},{types:["tag"],languages:["markup"],style:{color:"#0ea5e9"}},{types:["punctuation","operator"],style:{color:"#D4D4D4"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"#7dd3fc"}},{types:["class-name"],style:{color:"#0ea5e9"}},{types:["char"],style:{color:"#D16969"}}]},lf=of,cf={plain:{color:"#0f172a",backgroundColor:"#f1f5f9"},styles:[{types:["prolog"],style:{color:"#000080"}},{types:["comment"],style:{color:"#6A9955"}},{types:["builtin","changed","keyword","interpolation-punctuation"],style:{color:"#0c4a6e"}},{types:["number","inserted"],style:{color:"#B5CEA8"}},{types:["constant"],style:{color:"#0f172a"}},{types:["attr-name","variable"],style:{color:"#0c4a6e"}},{types:["deleted","string","attr-value","template-punctuation"],style:{color:"#64748b"}},{types:["selector"],style:{color:"#D7BA7D"}},{types:["tag"],style:{color:"#0ea5e9"}},{types:["tag"],languages:["markup"],style:{color:"#0ea5e9"}},{types:["punctuation","operator"],style:{color:"#475569"}},{types:["punctuation"],languages:["markup"],style:{color:"#808080"}},{types:["function"],style:{color:"#0e7490"}},{types:["class-name"],style:{color:"#0ea5e9"}},{types:["char"],style:{color:"#D16969"}}]},df=cf,uf={plain:{backgroundColor:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)"},styles:[{types:["comment","prolog","cdata"],style:{color:"hsl(220, 10%, 40%)"}},{types:["doctype","punctuation","entity"],style:{color:"hsl(220, 14%, 71%)"}},{types:["attr-name","class-name","maybe-class-name","boolean","constant","number","atrule"],style:{color:"hsl(29, 54%, 61%)"}},{types:["keyword"],style:{color:"hsl(286, 60%, 67%)"}},{types:["property","tag","symbol","deleted","important"],style:{color:"hsl(355, 65%, 65%)"}},{types:["selector","string","char","builtin","inserted","regex","attr-value"],style:{color:"hsl(95, 38%, 62%)"}},{types:["variable","operator","function"],style:{color:"hsl(207, 82%, 66%)"}},{types:["url"],style:{color:"hsl(187, 47%, 55%)"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"hsl(220, 14%, 71%)"}}]},pf=uf,ff={plain:{backgroundColor:"hsl(230, 1%, 98%)",color:"hsl(230, 8%, 24%)"},styles:[{types:["comment","prolog","cdata"],style:{color:"hsl(230, 4%, 64%)"}},{types:["doctype","punctuation","entity"],style:{color:"hsl(230, 8%, 24%)"}},{types:["attr-name","class-name","boolean","constant","number","atrule"],style:{color:"hsl(35, 99%, 36%)"}},{types:["keyword"],style:{color:"hsl(301, 63%, 40%)"}},{types:["property","tag","symbol","deleted","important"],style:{color:"hsl(5, 74%, 59%)"}},{types:["selector","string","char","builtin","inserted","regex","attr-value","punctuation"],style:{color:"hsl(119, 34%, 47%)"}},{types:["variable","operator","function"],style:{color:"hsl(221, 87%, 60%)"}},{types:["url"],style:{color:"hsl(198, 99%, 37%)"}},{types:["deleted"],style:{textDecorationLine:"line-through"}},{types:["inserted"],style:{textDecorationLine:"underline"}},{types:["italic"],style:{fontStyle:"italic"}},{types:["important","bold"],style:{fontWeight:"bold"}},{types:["important"],style:{color:"hsl(230, 8%, 24%)"}}]},hf=ff,mf={plain:{color:"#ebdbb2",backgroundColor:"#292828"},styles:[{types:["imports","class-name","maybe-class-name","constant","doctype","builtin","function"],style:{color:"#d8a657"}},{types:["property-access"],style:{color:"#7daea3"}},{types:["tag"],style:{color:"#e78a4e"}},{types:["attr-name","char","url","regex"],style:{color:"#a9b665"}},{types:["attr-value","string"],style:{color:"#89b482"}},{types:["comment","prolog","cdata","operator","inserted"],style:{color:"#a89984"}},{types:["delimiter","boolean","keyword","selector","important","atrule","property","variable","deleted"],style:{color:"#ea6962"}},{types:["entity","number","symbol"],style:{color:"#d3869b"}}]},gf=mf,xf={plain:{color:"#654735",backgroundColor:"#f9f5d7"},styles:[{types:["delimiter","boolean","keyword","selector","important","atrule","property","variable","deleted"],style:{color:"#af2528"}},{types:["imports","class-name","maybe-class-name","constant","doctype","builtin"],style:{color:"#b4730e"}},{types:["string","attr-value"],style:{color:"#477a5b"}},{types:["property-access"],style:{color:"#266b79"}},{types:["function","attr-name","char","url"],style:{color:"#72761e"}},{types:["tag"],style:{color:"#b94c07"}},{types:["comment","prolog","cdata","operator","inserted"],style:{color:"#a89984"}},{types:["entity","number","symbol"],style:{color:"#924f79"}}]},bf=xf,yf=e=>l.useCallback(t=>{var r=t,{className:a,style:n,line:o}=r,i=oi(r,["className","style","line"]);const c=Ms(Pe({},i),{className:Ir("token-line",a)});return typeof e=="object"&&"plain"in e&&(c.style=e.plain),typeof n=="object"&&(c.style=Pe(Pe({},c.style||{}),n)),c},[e]),vf=e=>{const t=l.useCallback(({types:r,empty:a})=>{if(e!=null){{if(r.length===1&&r[0]==="plain")return a!=null?{display:"inline-block"}:void 0;if(r.length===1&&a!=null)return e[r[0]]}return Object.assign(a!=null?{display:"inline-block"}:{},...r.map(n=>e[n]))}},[e]);return l.useCallback(r=>{var a=r,{token:n,className:o,style:i}=a,c=oi(a,["token","className","style"]);const d=Ms(Pe({},c),{className:Ir("token",...n.types,o),children:n.content,style:t(n)});return i!=null&&(d.style=Pe(Pe({},d.style||{}),i)),d},[t])},wf=/\r\n|\r|\n/,za=e=>{e.length===0?e.push({types:["plain"],content:`
`,empty:!0}):e.length===1&&e[0].content===""&&(e[0].content=`
`,e[0].empty=!0)},Ua=(e,t)=>{const r=e.length;return r>0&&e[r-1]===t?e:e.concat(t)},jf=e=>{const t=[[]],r=[e],a=[0],n=[e.length];let o=0,i=0,c=[];const d=[c];for(;i>-1;){for(;(o=a[i]++)<n[i];){let u,h=t[i];const b=r[i][o];if(typeof b=="string"?(h=i>0?h:["plain"],u=b):(h=Ua(h,b.type),b.alias&&(h=Ua(h,b.alias)),u=b.content),typeof u!="string"){i++,t.push(h),r.push(u),a.push(0),n.push(u.length);continue}const j=u.split(wf),g=j.length;c.push({types:h,content:j[0]});for(let f=1;f<g;f++)za(c),d.push(c=[]),c.push({types:h,content:j[f]})}i--,t.pop(),r.pop(),a.pop(),n.pop()}return za(c),d},Va=jf,Nf=({prism:e,code:t,grammar:r,language:a})=>l.useMemo(()=>{if(r==null)return Va([t]);const n={code:t,grammar:r,language:a,tokens:[]};return e.hooks.run("before-tokenize",n),n.tokens=e.tokenize(t,r),e.hooks.run("after-tokenize",n),Va(n.tokens)},[t,r,a,e]),kf=(e,t)=>{const{plain:r}=e,a=e.styles.reduce((n,o)=>{const{languages:i,style:c}=o;return i&&!i.includes(t)||o.types.forEach(d=>{const u=Pe(Pe({},n[d]),c);n[d]=u}),n},{});return a.root=r,a.plain=Ms(Pe({},r),{backgroundColor:void 0}),a},Sf=kf,Ef=({children:e,language:t,code:r,theme:a,prism:n})=>{const o=t.toLowerCase(),i=Sf(a,o),c=yf(i),d=vf(i),u=n.languages[o],h=Nf({prism:n,language:o,code:r,grammar:u});return e({tokens:h,className:`prism-code language-${o}`,style:i!=null?i.root:{},getLineProps:c,getTokenProps:d})},Cf=e=>l.createElement(Ef,Ms(Pe({},e),{prism:e.prism||k,theme:e.theme||ii,code:e.code,language:e.language}));/*! Bundled license information:

prismjs/prism.js:
  (**
   * Prism: Lightweight, robust, elegant syntax highlighting
   *
   * @license MIT <https://opensource.org/licenses/MIT>
   * @author Lea Verou <https://lea.verou.me>
   * @namespace
   * @public
   *)
*/const Rf=(e,t)=>t.some(r=>{if(typeof r=="number")return e===r;const[a,n]=r.split(":").map(o=>parseInt(o));return a<=e&&e<=n}),Tf=(e,t,r)=>r.some(([a,[n,o]])=>a===e&&n<=t&&t<=o),Af=(e,t)=>e.split(new RegExp(`(${t.map(([r])=>r).join("|")})`)).filter(Boolean),If=e=>e.map(t=>{t=t.startsWith("/")?t:"/"+t;const[,r,a="0:Infinity"]=t.split("/"),[n,o=n]=a.split(":").map(i=>Number(i));return[r,[n,o]]}),li=(e,t)=>()=>{const r=l.useContext(e);if(r===void 0)throw new Error(t);return r},$s=e=>Object.assign(l.forwardRef(e),{displayName:e.displayName??e.name}),ci=l.createContext(void 0),di=l.createContext(void 0),ui=li(ci,'Could not find nearest <CodeBlock /> component. Please wrap this component with a <CodeBlock /> component imported from "react-code-block".'),ca=li(di,'Could not find nearest <CodeBlock.Code /> component. Please wrap this component with <CodeBlock.Code /> component imported from "react-code-block".'),qe=({code:e,words:t=[],lines:r=[],children:a,...n})=>{const o=l.useMemo(()=>If(t),[t]);return s.jsx(ci.Provider,{value:{code:e.trim(),words:o,lines:r,...n},children:a})},Ff=({as:e,children:t,...r},a)=>{const{lines:n,words:o,...i}=ui(),c=e??"pre";return s.jsx(Cf,{...i,children:d=>s.jsx(c,{...r,ref:a,children:d.tokens.map((u,h)=>{const p=h+1,b=Rf(p,n);return s.jsx(di.Provider,{value:{highlight:d,line:u,lineNumber:p},children:typeof t=="function"?t({isLineHighlighted:b,lineNumber:p},h):t},h)})})})},_f=({as:e,children:t,className:r,...a},n)=>{const{highlight:o,line:i}=ca(),{getLineProps:c}=o,d=e??"div";return s.jsx(d,{...c({line:i,className:r}),...a,ref:n,children:t})},Pf=({as:e,children:t=({children:o})=>s.jsx("span",{children:o}),className:r,...a},n)=>{const{words:o}=ui(),{line:i,highlight:c,lineNumber:d}=ca(),{getTokenProps:u}=c,h=e??"span";return s.jsx(nt.Fragment,{children:i.map((p,b)=>{const{children:j,...g}=u({token:p,className:r}),f=o.length?Af(j,o):[j];return s.jsx(nt.Fragment,{children:f.map((m,v)=>s.jsx(h,{...g,...a,ref:n,children:t({children:m,isTokenHighlighted:Tf(m,d,o)})},v))},b)})})},Of=({as:e,...t},r)=>{const{lineNumber:a}=ca(),n=e??"span";return s.jsx(n,{...t,ref:r,children:a})};qe.Code=$s(Ff);qe.LineContent=$s(_f);qe.Token=$s(Pf);qe.LineNumber=$s(Of);const Lf={plain:{color:"var(--foreground)",backgroundColor:"var(--muted)"},styles:[{types:["comment"],style:{color:"#6e7781",fontStyle:"italic"}},{types:["keyword","selector","changed"],style:{color:"#cf222e"}},{types:["constant","number","builtin"],style:{color:"#0550ae"}},{types:["string","attr-value"],style:{color:"#0a3069"}},{types:["function","attr-name"],style:{color:"#8250df"}},{types:["tag","operator"],style:{color:"#116329"}},{types:["variable","property"],style:{color:"#953800"}},{types:["punctuation"],style:{color:"#24292f"}}]},Df={plain:{color:"var(--foreground)",backgroundColor:"var(--muted)"},styles:[{types:["comment"],style:{color:"#8b949e",fontStyle:"italic"}},{types:["keyword","selector","changed"],style:{color:"#ff7b72"}},{types:["constant","number","builtin"],style:{color:"#79c0ff"}},{types:["string","attr-value"],style:{color:"#a5d6ff"}},{types:["function","attr-name"],style:{color:"#d2a8ff"}},{types:["tag","operator"],style:{color:"#7ee787"}},{types:["variable","property"],style:{color:"#ffa657"}},{types:["punctuation"],style:{color:"#c9d1d9"}}]};function Ys({code:e,language:t="typescript",fileName:r,className:a,maxLines:n=200}){const[o,i]=l.useState(!1),[c,d]=l.useState(!1),{theme:u}=sc(),h=async()=>{await navigator.clipboard.writeText(e),i(!0),setTimeout(()=>i(!1),2e3)},p=e.split(`
`),b=p.length>n,j=c?e:p.slice(0,n).join(`
`);return s.jsxs("div",{className:N("relative group rounded-lg overflow-hidden",a),children:[r&&s.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-muted/50",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:r}),s.jsxs(J,{variant:"ghost",size:"icon",className:"h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:h,children:[o?s.jsx(_t,{className:"h-4 w-4"}):s.jsx(Vn,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Copy code"})]})]}),s.jsx(qe,{code:j,language:t,theme:u==="dark"?Df:Lf,children:s.jsx(qe.Code,{className:"bg-muted/50 p-4 text-sm whitespace-pre-wrap break-words",children:s.jsx(qe.LineContent,{className:"max-w-full",children:s.jsx(qe.Token,{})})})}),b&&s.jsx("div",{className:"flex justify-center p-2 border-t bg-muted/50",children:s.jsx(J,{variant:"ghost",size:"sm",onClick:()=>d(!c),className:"flex items-center gap-2",children:c?s.jsxs(s.Fragment,{children:["Show Less ",s.jsx(zn,{className:"h-4 w-4"})]}):s.jsxs(s.Fragment,{children:["Show More (",p.length-n," more lines)"," ",s.jsx(ks,{className:"h-4 w-4"})]})})})]})}function Mf(e){const[t,r]=l.useState(null),[a,n]=l.useState(!1),[o,i]=l.useState(null);return l.useEffect(()=>{if(!e){i("Node name is required");return}n(!0),i(null),fetch(`/ui/api/v1/proxy/${e}/ui/api/v1/cluster/nodes/self/details`).then(c=>{if(!c.ok)throw new Error(`Failed to fetch node details: ${c.statusText}`);return c.json()}).then(c=>{var d,u;c.target=((u=(d=c.config.match(/target:\s*([^\n]+)/))==null?void 0:d[1])==null?void 0:u.trim())||"",r(c),n(!1)}).catch(c=>{i(c instanceof Error?c.message:"An error occurred"),n(!1)})},[e]),{nodeDetails:t,isLoading:a,error:o}}function $f(e,t){const[r,a]=l.useState(!1),[n,o]=l.useState(null),[i,c]=l.useState("");return l.useEffect(()=>{if(!t){c("");return}if(!e)return;const d=new AbortController;async function u(){a(!0),o(null);try{const h=await fetch(`/ui/api/v1/proxy/${e}/metrics`,{signal:d.signal});if(!h.ok)throw new Error(`Failed to fetch metrics: ${h.statusText}`);const p=await h.text();c(p)}catch(h){h instanceof Error?o(h.message):o("An unknown error occurred")}finally{a(!1)}}return u(),()=>{d.abort()}},[e,t]),{isLoading:r,error:n,metrics:i}}const Bf={Running:"#10B981",Starting:"#F59E0B",New:"#3B82F6",Stopping:"#F59E0B",Terminated:"#6B7280",Failed:"#EF4444"};function zf({services:e}){const t=l.useMemo(()=>{const a=e.reduce((n,{status:o})=>{const i=o;return n.set(i,(n.get(i)||0)+1),n},new Map);return Array.from(a.entries()).sort((n,o)=>o[1]-n[1]).map(([n,o])=>({name:n,value:o,color:Bf[n]}))},[e]),r=l.useMemo(()=>e.length,[e]);return t.length===0?null:s.jsxs("div",{className:"h-[180px] w-full flex items-center",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none z-10",children:[s.jsx("div",{className:"text-2xl font-bold",children:r}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"Services"})]}),s.jsx(Ss,{width:"100%",height:180,children:s.jsxs(Es,{margin:{top:0,right:0,bottom:0,left:0},children:[s.jsx(Cs,{data:t,cx:"50%",cy:"50%",labelLine:!1,outerRadius:70,innerRadius:50,dataKey:"value",paddingAngle:2,strokeWidth:2,children:t.map(a=>s.jsx(Rs,{fill:a.color,stroke:"hsl(var(--background))"},`cell-${a.name}`))}),s.jsx(Ts,{content:({active:a,payload:n})=>{if(!a||!n||!n[0])return null;const o=n[0].payload;return s.jsxs("div",{className:"bg-background border rounded-lg shadow-lg px-3 py-2 flex items-center gap-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 rounded-sm",style:{backgroundColor:o.color}}),s.jsx("span",{className:"text-sm font-medium",children:o.name}),s.jsx("span",{className:"text-sm font-semibold",children:o.value})]})}})]})})]}),s.jsx("div",{className:"flex flex-col gap-1.5 min-w-[120px] pl-4",children:t.map(a=>s.jsxs("div",{className:"flex items-center justify-between gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:a.color}}),s.jsx("span",{className:"text-muted-foreground",children:a.name})]}),s.jsx("span",{className:"font-medium tabular-nums",children:a.value})]},a.name))})]})}const Uf=e=>{switch(e){case"Running":return"text-green-600 dark:text-green-400";case"Starting":return"text-yellow-600 dark:text-yellow-400";case"Failed":return"text-red-600 dark:text-red-400";case"New":return"text-blue-600 dark:text-blue-400";case"Terminated":return"text-gray-600 dark:text-gray-400";default:return"text-gray-600 dark:text-gray-400"}};function Vf({services:e}){return s.jsx(ss,{className:"h-[180px] rounded-md border",children:s.jsxs(Pt,{children:[s.jsx(Ot,{children:s.jsxs(le,{children:[s.jsx(Q,{children:"Service"}),s.jsx(Q,{className:"text-right",children:"Status"})]})}),s.jsx(Lt,{children:e.map(t=>s.jsxs(le,{className:"hover:bg-muted/50",children:[s.jsx(B,{className:"font-medium",children:t.service}),s.jsx(B,{className:`text-right ${Uf(t.status)} font-medium`,children:t.status})]},t.service))})]})})}const Gf={aws:"text-yellow-600 bg-yellow-100 dark:bg-yellow-950 dark:text-yellow-400","aws-dynamo":"text-yellow-600 bg-yellow-100 dark:bg-yellow-950 dark:text-yellow-400",s3:"text-yellow-600 bg-yellow-100 dark:bg-yellow-950 dark:text-yellow-400",azure:"text-blue-600 bg-blue-100 dark:bg-blue-950 dark:text-blue-400",gcp:"text-blue-600 bg-blue-100 dark:bg-blue-950 dark:text-blue-400","gcp-columnkey":"text-blue-600 bg-blue-100 dark:bg-blue-950 dark:text-blue-400",gcs:"text-blue-600 bg-blue-100 dark:bg-blue-950 dark:text-blue-400",alibabacloud:"text-orange-600 bg-orange-100 dark:bg-orange-950 dark:text-orange-400",filesystem:"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400",local:"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400",boltdb:"text-emerald-600 bg-emerald-100 dark:bg-emerald-950 dark:text-emerald-400",cassandra:"text-blue-700 bg-blue-100 dark:bg-blue-950 dark:text-blue-400",bigtable:"text-red-600 bg-red-100 dark:bg-red-950 dark:text-red-400","bigtable-hashed":"text-red-600 bg-red-100 dark:bg-red-950 dark:text-red-400",bos:"text-cyan-600 bg-cyan-100 dark:bg-cyan-950 dark:text-cyan-400",cos:"text-green-600 bg-green-100 dark:bg-green-950 dark:text-green-400",swift:"text-orange-600 bg-orange-100 dark:bg-orange-950 dark:text-orange-400",inmemory:"text-purple-600 bg-purple-100 dark:bg-purple-950 dark:text-purple-400","grpc-store":"text-indigo-600 bg-indigo-100 dark:bg-indigo-950 dark:text-indigo-400"};function qf({type:e,className:t}){const r=e.toLowerCase(),a=Gf[r]||"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400";return s.jsx("span",{className:N("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a,t),children:r})}const Hf=ft("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ve=l.forwardRef(({className:e,...t},r)=>s.jsx(An,{ref:r,className:N(Hf(),e),...t}));ve.displayName=An.displayName;function Kf(e){const[t,r]=l.useState("info"),[a,n]=l.useState(!1),[o,i]=l.useState(null),[c,d]=l.useState(!1),u=p=>{const b=p.message.match(/Current log level is (\w+)/);return(b==null?void 0:b[1])||"info"};return l.useEffect(()=>{async function p(){if(e){n(!0),i(null);try{const b=await fetch(`/ui/api/v1/proxy/${e}/log_level`);if(!b.ok)throw new Error(`Failed to fetch log level: ${b.statusText}`);const j=await b.json();r(u(j))}catch(b){i(b instanceof Error?b.message:"Failed to fetch log level")}finally{n(!1)}}}p()},[e]),{logLevel:t,isLoading:a,error:o,success:c,setLogLevel:async p=>{if(e){n(!0),i(null),d(!1);try{const b=await fetch(`/ui/api/v1/proxy/${e}/log_level?log_level=${p}`,{method:"POST"});if(!b.ok)throw new Error(`Failed to update log level: ${b.statusText}`);const j=await b.json();if(j.status==="success"&&j.message.includes(p))r(p),d(!0),setTimeout(()=>d(!1),3e3);else throw new Error("Failed to update log level: Unexpected response")}catch(b){i(b instanceof Error?b.message:"Failed to update log level")}finally{n(!1)}}}}}const Qf=["debug","info","warn","error"];function Wf({nodeName:e,className:t}){const{logLevel:r,isLoading:a,error:n,success:o,setLogLevel:i}=Kf(e),c=d=>{i(d)};return s.jsxs("div",{className:"relative flex items-center gap-2",children:[s.jsxs(Do,{value:r,onValueChange:c,disabled:a,children:[s.jsx(Yr,{className:N("w-[180px]",t,a&&"opacity-50 cursor-not-allowed"),children:s.jsx(Mo,{placeholder:"Select log level"})}),s.jsx(Xr,{children:Qf.map(d=>s.jsx(Jr,{value:d,children:d},d))})]}),s.jsx(ia,{children:s.jsxs(qt,{children:[s.jsx(Ht,{asChild:!0,children:s.jsxs("div",{className:N("absolute -right-6 transition-all duration-300 ease-in-out",o||n?"opacity-100 translate-x-0":"opacity-0 translate-x-2"),children:[o&&s.jsx(_t,{className:"h-4 w-4 text-green-500 animate-in zoom-in-50 duration-300"}),n&&s.jsx(_r,{className:"h-4 w-4 text-red-500 animate-in zoom-in-50 duration-300"})]})}),s.jsxs(Ft,{side:"right",className:"text-xs",children:[o&&"Log level updated successfully",n&&n]})]})})]})}const pi=l.forwardRef(({className:e,...t},r)=>s.jsx(In,{className:N("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:s.jsx(Sl,{className:N("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));pi.displayName=In.displayName;function Zf(e){return Pr({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function Yf(e){return Pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M220.8 123.3c1 .5 1.8 1.7 3 1.7 1.1 0 2.8-.4 2.9-1.5.2-1.4-1.9-2.3-3.2-2.9-1.7-.7-3.9-1-5.5-.1-.4.2-.8.7-.6 1.1.3 1.3 2.3 1.1 3.4 1.7zm-21.9 1.7c1.2 0 2-1.2 3-1.7 1.1-.6 3.1-.4 3.5-1.6.2-.4-.2-.9-.6-1.1-1.6-.9-3.8-.6-5.5.1-1.3.6-3.4 1.5-3.2 2.9.1 1 1.8 1.5 2.8 1.4zM420 403.8c-3.6-4-5.3-11.6-7.2-19.7-1.8-8.1-3.9-16.8-10.5-22.4-1.3-1.1-2.6-2.1-4-2.9-1.3-.8-2.7-1.5-4.1-2 9.2-27.3 5.6-54.5-3.7-79.1-11.4-30.1-31.3-56.4-46.5-74.4-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0 132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7-18.9 22.5-45.5 58.8-58.1 96.7-6 17.9-8.8 36.1-6.2 53.3-6.5 5.8-11.4 14.7-16.6 20.2-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4 0 3.9.6 7.9 1.2 11.8 1.2 8.1 2.5 15.7.8 20.8-5.2 14.4-5.9 24.4-2.2 31.7 3.8 7.3 11.4 10.5 20.1 12.3 17.3 3.6 40.8 2.7 59.3 12.5 19.8 10.4 39.9 14.1 55.9 10.4 11.6-2.6 21.1-9.6 25.9-20.2 12.5-.1 26.3-5.4 48.3-6.6 14.9-1.2 33.6 5.3 55.1 4.1.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23 16.6-1.3 34.1-11 48.3-27.9 13.6-16.4 36-23.2 50.9-32.2 7.4-4.5 13.4-10.1 13.9-18.3.4-8.2-4.4-17.3-15.5-29.7zM223.7 87.3c9.8-22.2 34.2-21.8 44-.4 6.5 14.2 3.6 30.9-4.3 40.4-1.6-.8-5.9-2.6-12.6-4.9 1.1-1.2 3.1-2.7 3.9-4.6 4.8-11.8-.2-27-9.1-27.3-7.3-.5-13.9 10.8-11.8 23-4.1-2-9.4-3.5-13-4.4-1-6.9-.3-14.6 2.9-21.8zM183 75.8c10.1 0 20.8 14.2 19.1 33.5-3.5 1-7.1 2.5-10.2 4.6 1.2-8.9-3.3-20.1-9.6-19.6-8.4.7-9.8 21.2-1.8 28.1 1 .8 1.9-.2-5.9 5.5-15.6-14.6-10.5-52.1 8.4-52.1zm-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5 4.7-4.4 13.5-14.2 27.9-14.2 7.1 0 15.6 2.3 25.9 8.9 6.3 4.1 11.3 4.4 22.6 9.3 8.4 3.5 13.7 9.7 10.5 18.2-2.6 7.1-11 14.4-22.7 18.1-11.1 3.6-19.8 16-38.2 14.9-3.9-.2-7-1-9.6-2.1-8-3.5-12.2-10.4-20-15-8.6-4.8-13.2-10.4-14.7-15.3-1.4-4.9 0-9 4.2-12.3zm3.3 334c-2.7 35.1-43.9 34.4-75.3 18-29.9-15.8-68.6-6.5-76.5-21.9-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9-1.2-7.8-1.8-15 .9-20 3.5-6.7 8.5-9.1 14.8-11.3 10.3-3.7 11.8-3.4 19.6-9.9 5.5-5.7 9.5-12.9 14.3-18 5.1-5.5 10-8.1 17.7-6.9 8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9zm-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6 7.1 0 14.2-2.2 16.7-8.9 2.3-6.2 0-14.9-7.4-24.9-13.5-18.2-38.3-32.5-38.3-32.5-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2 2.3-1.7.8 3.2-8.7 20.8-8.5 16.1-24.4 53.3-2.6 82.4.6-20.7 5.5-41.8 13.8-61.5 12-27.4 37.3-74.9 39.3-112.7 1.1.8 4.6 3.2 6.2 4.1 4.6 2.7 8.1 6.7 12.6 10.3 12.4 10 28.5 9.2 42.4 1.2 6.2-3.5 11.2-7.5 15.9-9 9.9-3.1 17.8-8.6 22.3-15 7.7 30.4 25.7 74.3 37.2 95.7 6.1 11.4 18.3 35.5 23.6 64.6 3.3-.1 7 .4 10.9 1.4 13.8-35.7-11.7-74.2-23.3-84.9-4.7-4.6-4.9-6.6-2.6-6.5 12.6 11.2 29.2 33.7 35.2 59 2.8 11.6 3.3 23.7.4 35.7 16.4 6.8 35.9 17.9 30.7 34.8-2.2-.1-3.2 0-4.2 0 3.2-10.1-3.9-17.6-22.8-26.1-19.6-8.6-36-8.6-38.3 12.5-12.1 4.2-18.3 14.7-21.4 27.3-2.8 11.2-3.6 24.7-4.4 39.9-.5 7.7-3.6 18-6.8 29-32.1 22.9-76.7 32.9-114.3 7.2zm257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3 3.7-14.2 9.2-28.8 9.9-40.6.8-15.2 1.7-28.5 4.2-38.7 2.6-10.3 6.6-17.2 13.7-21.1.3-.2.7-.3 1-.5.8 13.2 7.3 26.6 18.8 29.5 12.6 3.3 30.7-7.5 38.4-16.3 9-.3 15.7-.9 22.6 5.1 9.9 8.5 7.1 30.3 17.1 41.6 10.6 11.6 14 19.5 13.7 24.6zM173.3 148.7c2 1.9 4.7 4.5 8 7.1 6.6 5.2 15.8 10.6 27.3 10.6 11.6 0 22.5-5.9 31.8-10.8 4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9-1.5-1.4-1.9-4.6-4.3-4.9-1.4-.1-1.8 3.7 1.7 6.5z"},child:[]}]})(e)}function Xf(e){return Pr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"},child:[]}]})(e)}const Jf=e=>{const t=e.toLowerCase();return t.includes("darwin")||t.includes("mac")?s.jsx(Zf,{className:"h-4 w-4"}):t.includes("linux")?s.jsx(Yf,{className:"h-4 w-4"}):t.includes("windows")?s.jsx(Xf,{className:"h-4 w-4"}):null};function eh({build:e,edition:t,os:r,arch:a}){const n=Jf(r);return s.jsxs(ge,{children:[s.jsx(je,{children:s.jsx(Ce,{children:"Version Information"})}),s.jsx(xe,{children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Version"}),s.jsx("p",{className:"text-sm",children:e.version})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Branch"}),s.jsx("p",{className:"text-sm",children:e.branch})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Go Version"}),s.jsx("p",{className:"text-sm",children:e.goVersion})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Edition"}),s.jsx("p",{className:"text-sm",children:t.toUpperCase()})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Architecture"}),s.jsx("p",{className:"text-sm",children:a})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"OS"}),s.jsxs("div",{className:"flex items-center gap-2",children:[n,s.jsx("p",{className:"text-sm",children:r})]})]})]})]})})]})}function th({nodeName:e,className:t}){const[r,a]=l.useState({isReady:!1,message:"Checking status..."}),[n,o]=l.useState(!0);return l.useEffect(()=>{const i=async()=>{try{const u=await fetch(`/ui/api/v1/proxy/${e}/ready`),h=await u.text();a({isReady:u.ok&&h.includes("ready"),message:u.ok?"Ready":h})}catch(u){a({isReady:!1,message:u instanceof Error?u.message:"Failed to check status"})}};i();const c=setInterval(i,3e3),d=setInterval(()=>{o(u=>!u)},1e3);return()=>{clearInterval(c),clearInterval(d)}},[e]),s.jsxs("div",{className:N("flex items-center gap-2",t),children:[s.jsx("span",{className:N("text-sm",r.isReady?"text-muted-foreground":"text-red-500"),children:r.message}),s.jsx("div",{className:N("h-2.5 w-2.5 rounded-full transition-opacity duration-150",r.isReady?"bg-green-500":"bg-red-500",n?"opacity-100":"opacity-30")})]})}const sh=[{name:"allocs",description:"A sampling of all past memory allocations"},{name:"block",description:"Stack traces that led to blocking on synchronization primitives"},{name:"heap",description:"A sampling of memory allocations of live objects"},{name:"mutex",description:"Stack traces of holders of contended mutexes"},{name:"profile",urlSuffix:"?seconds=15",description:"CPU profile (15 seconds)",displayName:"profile"},{name:"goroutine",description:"Stack traces of all current goroutines (debug=1)",variants:[{suffix:"?debug=0",label:"Basic",description:"Basic goroutine info"},{suffix:"?debug=1",label:"Standard",description:"Standard goroutine stack traces"},{suffix:"?debug=2",label:"Full",description:"Full goroutine stack dump with additional info"}]},{name:"threadcreate",description:"Stack traces that led to the creation of new OS threads",urlSuffix:"?debug=1",displayName:"threadcreate"},{name:"trace",description:"A trace of execution of the current program",urlSuffix:"?debug=1",displayName:"trace"}];function rh({nodeName:e}){const t=r=>{window.open(`/ui/api/v1/proxy/${e}/debug/pprof/${r}`,"_blank")};return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium",children:"Profiling Tools:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:sh.map(r=>r.variants?r.variants.map(a=>s.jsxs(qt,{children:[s.jsx(Ht,{asChild:!0,children:s.jsx(J,{variant:"outline",size:"sm",onClick:()=>t(`${r.name}${a.suffix}`),children:`${r.name} (${a.label})`})}),s.jsx(Ft,{children:s.jsx("p",{children:a.description})})]},`${r.name}${a.suffix}`)):s.jsxs(qt,{children:[s.jsx(Ht,{asChild:!0,children:s.jsx(J,{variant:"outline",size:"sm",onClick:()=>t(`${r.name}${r.urlSuffix||""}`),children:r.displayName||r.name})}),s.jsx(Ft,{children:s.jsx("p",{children:r.description})})]},r.name))})]})}function ah(){const{nodeName:e}=Ln(),[t,r]=l.useState("config"),{nodeDetails:a,isLoading:n,error:o}=Mf(e),{metrics:i,isLoading:c,error:d}=$f(e,t==="raw-metrics"),[u,h]=l.useState(!1);return n?s.jsxs("div",{className:"flex items-center justify-center p-6",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading..."})]}):a?s.jsx("div",{className:"p-6 space-y-6",children:s.jsxs(ge,{children:[s.jsx(je,{children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(Ce,{children:s.jsx("h2",{className:"text-3xl font-semibold tracking-tight",children:s.jsxs("div",{className:"flex items-center gap-2",children:[a.target," - ",e,s.jsx(oa,{text:e||""})]})})})}),s.jsx(th,{nodeName:e||""})]})}),s.jsxs(xe,{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsx(eh,{build:a.build,edition:a.edition,os:a.os,arch:a.arch}),s.jsxs(ge,{children:[s.jsx(je,{children:s.jsx(Ce,{children:"Cluster Information"})}),s.jsx(xe,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Cluster ID"}),s.jsx("p",{className:"text-sm",children:a.clusterID})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Created"}),s.jsx("p",{className:"text-sm",children:rr(a.clusterSeededAt,"PPpp")})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ve,{children:"Storage"}),s.jsx("p",{children:s.jsx(qf,{type:(a.metrics.store_object_type||"filesystem").toLowerCase(),className:""})})]})]})})]}),s.jsxs(ge,{children:[s.jsxs(je,{className:"flex flex-row items-center justify-between",children:[s.jsx(Ce,{children:"Service Status"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ve,{htmlFor:"view-mode",children:"Table View"}),s.jsx(pi,{id:"view-mode",checked:u,onCheckedChange:h})]})]}),s.jsx(xe,{children:u?s.jsx(Vf,{services:a.services}):s.jsx(zf,{services:a.services})})]})]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mr-4",children:[s.jsx(ve,{children:"Log Level"}),s.jsx(Wf,{nodeName:e||""})]}),s.jsx(rh,{nodeName:e||""})]}),s.jsx("div",{children:s.jsxs(wp,{defaultValue:"config",onValueChange:r,children:[s.jsxs(ri,{children:[s.jsx(us,{value:"config",children:"Configuration"}),s.jsx(us,{value:"metrics",children:"Analytics"}),s.jsx(us,{value:"raw-metrics",children:"Raw Metrics"})]}),s.jsx(ps,{value:"config",className:"mt-6",children:s.jsx(Ys,{language:"yaml",code:a.config,fileName:"loki.yaml"})}),s.jsx(ps,{value:"metrics",className:"mt-6",children:a.metrics&&s.jsx(Ys,{code:JSON.stringify(a.metrics,null,2),language:"json",fileName:"analytics.json"})}),s.jsx(ps,{value:"raw-metrics",className:"mt-6",children:c?s.jsxs("div",{className:"flex items-center justify-center p-6",children:[s.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"}),s.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading metrics..."})]}):d?s.jsx("div",{className:"bg-red-50 dark:bg-red-900 border-l-4 border-red-400 p-4",children:s.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:d})}):i?s.jsx(Ys,{code:i,language:"yaml",fileName:"metrics"}):null})]})})]})]})}):s.jsx("div",{className:"p-6",children:s.jsx("div",{className:"bg-red-50 dark:bg-red-900 border-l-4 border-red-400 p-4",children:s.jsx("div",{className:"flex",children:s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:o||`Node "${e}" not found`})})})})})}function nh(){return s.jsx(si,{children:s.jsx(ah,{})})}function We(){return s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[80vh] p-4",children:[s.jsx(Ql,{className:"h-16 w-16 text-muted-foreground mb-6"}),s.jsx("h1",{className:"text-4xl font-bold text-center mb-4",children:"Coming Soon"}),s.jsx("p",{className:"text-lg text-muted-foreground text-center max-w-md",children:"We're working hard to bring you this feature. Stay tuned for updates!"})]})}const fi=[{path:"/",breadcrumb:"Home",element:s.jsx($a,{})},{path:"/nodes",breadcrumb:"Nodes",element:s.jsx($a,{})},{path:"/nodes/:nodeName",breadcrumb:kc,element:s.jsx(nh,{})},{path:"/versions",breadcrumb:"Versions",element:s.jsx(We,{})},{path:"/rings",breadcrumb:"Rings",element:s.jsx(Ca,{})},{path:"/rings/:ringName",breadcrumb:Sc,element:s.jsx(Ca,{})},{path:"/storage",breadcrumb:"Storage",element:s.jsx(We,{})},{path:"/storage/object",breadcrumb:"Object Storage",element:s.jsx(We,{})},{path:"/storage/dataobj",breadcrumb:"Data Objects",element:s.jsx(Yu,{})},{path:"/storage/dataobj/metadata",breadcrumb:"File Metadata",element:s.jsx(up,{})},{path:"/tenants",breadcrumb:"Tenants",element:s.jsx(We,{})},{path:"/tenants/limits",breadcrumb:"Limits",element:s.jsx(We,{})},{path:"/tenants/labels",breadcrumb:"Labels",element:s.jsx(We,{})},{path:"/rules",breadcrumb:"Rules",element:s.jsx(We,{})},{path:"/404",breadcrumb:"404",element:s.jsx(Ec,{})}];function oh(){const e=Nc(fi,{disableDefaults:!0});return s.jsx(Or,{children:s.jsx(Lr,{children:e.map(({match:t,breadcrumb:r},a)=>s.jsxs(l.Fragment,{children:[s.jsx(hs,{className:a===0?"hidden md:block":"",children:a===e.length-1?s.jsx(Yn,{children:r}):s.jsx(ms,{asChild:!0,children:s.jsx(Re,{to:t.pathname,children:r})})}),a<e.length-1&&s.jsx(gs,{className:a===0?"hidden md:block":""})]},t.pathname))})})}function hi(){const t=window.location.pathname.match(/(.*\/ui\/)/);return(t==null?void 0:t[1])||"/ui/"}function ih(){const{cluster:e,isLoading:t}=Qe(),[r,a]=l.useState(!0);l.useEffect(()=>{let i;return t?a(!0):i=setTimeout(()=>{a(!1)},500),()=>{i&&clearTimeout(i)}},[t]);const n=()=>{if(!(e!=null&&e.members))return"v0.0.0";const i=new Map;Object.values(e.members).forEach(u=>{if(!u.build.version)return;const h=u.build.version;i.set(h,(i.get(h)||0)+1)});let c="v0.0.0",d=0;return i.forEach((u,h)=>{u>d&&(d=u,c=h)}),c},o=()=>{if(!(e!=null&&e.members))return[];const i=new Set,c=new Map;return Object.values(e.members).forEach(d=>{const u=d.build.version;i.add(u),c.set(u,{revision:d.build.revision,branch:d.build.branch,buildUser:d.build.buildUser,buildDate:d.build.buildDate,goVersion:d.build.goVersion})}),Array.from(i).map(d=>({version:d??"v0.0.0",info:c.get(d)??{revision:"v0.0.0",branch:"v0.0.0",buildUser:"v0.0.0",buildDate:"v0.0.0",goVersion:"v0.0.0"}}))};return{mostCommonVersion:n(),versionInfos:o(),isLoading:r}}function lh(){const{mostCommonVersion:e,versionInfos:t,isLoading:r}=ih(),[a,n]=l.useState(!1),o=()=>t.map(({version:i,info:c})=>`Version: ${i}
Revision: ${c.revision}
Branch: ${c.branch}
Build User: ${c.buildUser}
Build Date: ${c.buildDate}
Go Version: ${c.goVersion}
`).join(`
`);return s.jsxs(ea,{open:a,onOpenChange:n,children:[s.jsx(ta,{asChild:!0,children:s.jsxs("span",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[s.jsx("button",{onClick:()=>n(!a),className:N("transition-opacity duration-200 hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded px-1 -mx-1",{"opacity-0":r,"opacity-100":!r}),children:e}),r&&s.jsxs(s.Fragment,{children:[s.jsx(it,{className:"h-3 w-3 animate-spin"}),"Loading..."]})]})}),s.jsx(Os,{side:"bottom",align:"start",className:"w-[400px]",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("div",{className:"font-semibold",children:"Build Information"}),!r&&t.length>0&&s.jsx(oa,{text:o()})]}),s.jsx("div",{className:N("transition-opacity duration-200",{"opacity-0":r,"opacity-100":!r}),children:t.length>0?t.map(({version:i,info:c})=>s.jsxs("div",{className:"mb-2 last:mb-0",children:[s.jsx("div",{className:"font-semibold",children:i}),s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{children:["Revision: ",c.revision]}),s.jsxs("div",{children:["Branch: ",c.branch]}),s.jsxs("div",{children:["Build User: ",c.buildUser]}),s.jsxs("div",{children:["Build Date: ",c.buildDate]}),s.jsxs("div",{children:["Go Version: ",c.goVersion]})]})]},i)):s.jsx("div",{className:"text-sm text-muted-foreground",children:"No build information available"})}),r&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(it,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{children:"Loading build information..."})]})]})})]})}const Xs=768;function ch(){const[e,t]=l.useState(void 0);return l.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Xs-1}px)`),a=()=>{t(window.innerWidth<Xs)};return r.addEventListener("change",a),t(window.innerWidth<Xs),()=>r.removeEventListener("change",a)},[]),!!e}const da=l.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},n)=>s.jsx(Fn,{ref:n,decorative:r,orientation:t,className:N("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));da.displayName=Fn.displayName;const dh=Rr,uh=Tr,mi=l.forwardRef(({className:e,...t},r)=>s.jsx(Yt,{className:N("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));mi.displayName=Yt.displayName;const ph=ft("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),gi=l.forwardRef(({side:e="right",className:t,children:r,...a},n)=>s.jsxs(uh,{children:[s.jsx(mi,{}),s.jsxs(Xt,{ref:n,className:N(ph({side:e}),t),...a,children:[s.jsxs(hn,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[s.jsx(Fr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]}),r]})]}));gi.displayName=Xt.displayName;const fh=l.forwardRef(({className:e,...t},r)=>s.jsx(ws,{ref:r,className:N("text-lg font-semibold text-foreground",e),...t}));fh.displayName=ws.displayName;const hh=l.forwardRef(({className:e,...t},r)=>s.jsx(js,{ref:r,className:N("text-sm text-muted-foreground",e),...t}));hh.displayName=js.displayName;function Ga({className:e,...t}){return s.jsx("div",{className:N("animate-pulse rounded-md bg-primary/10",e),...t})}const mh="sidebar:state",gh=60*60*24*7,xh="16rem",bh="18rem",yh="3rem",vh="b",xi=l.createContext(null);function Bs(){const e=l.useContext(xi);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}const bi=l.forwardRef(({defaultOpen:e=!0,open:t,onOpenChange:r,className:a,style:n,children:o,...i},c)=>{const d=ch(),[u,h]=l.useState(!1),[p,b]=l.useState(e),j=t??p,g=l.useCallback(y=>{const w=typeof y=="function"?y(j):y;r?r(w):b(w),document.cookie=`${mh}=${w}; path=/; max-age=${gh}`},[r,j]),f=l.useCallback(()=>d?h(y=>!y):g(y=>!y),[d,g,h]);l.useEffect(()=>{const y=w=>{w.key===vh&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),f())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[f]);const m=j?"expanded":"collapsed",v=l.useMemo(()=>({state:m,open:j,setOpen:g,isMobile:d,openMobile:u,setOpenMobile:h,toggleSidebar:f}),[m,j,g,d,u,h,f]);return s.jsx(xi.Provider,{value:v,children:s.jsx(ia,{delayDuration:0,children:s.jsx("div",{style:{"--sidebar-width":xh,"--sidebar-width-icon":yh,...n},className:N("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",a),ref:c,...i,children:o})})})});bi.displayName="SidebarProvider";const yi=l.forwardRef(({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:a,children:n,...o},i)=>{const{isMobile:c,state:d,openMobile:u,setOpenMobile:h}=Bs();return r==="none"?s.jsx("div",{className:N("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",a),ref:i,...o,children:n}):c?s.jsx(dh,{open:u,onOpenChange:h,...o,children:s.jsx(gi,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":bh},side:e,children:s.jsx("div",{className:"flex h-full w-full flex-col",children:n})})}):s.jsxs("div",{ref:i,className:"group peer hidden text-sidebar-foreground md:block","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":t,"data-side":e,children:[s.jsx("div",{className:N("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),s.jsx("div",{className:N("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...o,children:s.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:n})})]})});yi.displayName="Sidebar";const vi=l.forwardRef(({className:e,onClick:t,...r},a)=>{const{toggleSidebar:n}=Bs();return s.jsxs(J,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:N("h-7 w-7",e),onClick:o=>{t==null||t(o),n()},...r,children:[s.jsx(Wl,{}),s.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});vi.displayName="SidebarTrigger";const wi=l.forwardRef(({className:e,...t},r)=>{const{toggleSidebar:a}=Bs();return s.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:N("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",e),...t})});wi.displayName="SidebarRail";const ji=l.forwardRef(({className:e,...t},r)=>s.jsx("main",{ref:r,className:N("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",e),...t}));ji.displayName="SidebarInset";const wh=l.forwardRef(({className:e,...t},r)=>s.jsx(es,{ref:r,"data-sidebar":"input",className:N("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",e),...t}));wh.displayName="SidebarInput";const Ni=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"header",className:N("flex flex-col gap-2 p-2",e),...t}));Ni.displayName="SidebarHeader";const jh=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"footer",className:N("flex flex-col gap-2 p-2",e),...t}));jh.displayName="SidebarFooter";const Nh=l.forwardRef(({className:e,...t},r)=>s.jsx(da,{ref:r,"data-sidebar":"separator",className:N("mx-2 w-auto bg-sidebar-border",e),...t}));Nh.displayName="SidebarSeparator";const ki=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"content",className:N("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t}));ki.displayName="SidebarContent";const Si=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group",className:N("relative flex w-full min-w-0 flex-col p-2",e),...t}));Si.displayName="SidebarGroup";const kh=l.forwardRef(({className:e,asChild:t=!1,...r},a)=>{const n=t?pt:"div";return s.jsx(n,{ref:a,"data-sidebar":"group-label",className:N("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...r})});kh.displayName="SidebarGroupLabel";const Sh=l.forwardRef(({className:e,asChild:t=!1,...r},a)=>{const n=t?pt:"button";return s.jsx(n,{ref:a,"data-sidebar":"group-action",className:N("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",e),...r})});Sh.displayName="SidebarGroupAction";const Eh=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"group-content",className:N("w-full text-sm",e),...t}));Eh.displayName="SidebarGroupContent";const jr=l.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu",className:N("flex w-full min-w-0 flex-col gap-1",e),...t}));jr.displayName="SidebarMenu";const ua=l.forwardRef(({className:e,...t},r)=>s.jsx("li",{ref:r,"data-sidebar":"menu-item",className:N("group/menu-item relative",e),...t}));ua.displayName="SidebarMenuItem";const Ch=ft("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),pa=l.forwardRef(({asChild:e=!1,isActive:t=!1,variant:r="default",size:a="default",tooltip:n,className:o,...i},c)=>{const d=e?pt:"button",{isMobile:u,state:h}=Bs(),p=s.jsx(d,{ref:c,"data-sidebar":"menu-button","data-size":a,"data-active":t,className:N(Ch({variant:r,size:a}),o),...i});return n?(typeof n=="string"&&(n={children:n}),s.jsxs(qt,{children:[s.jsx(Ht,{asChild:!0,children:p}),s.jsx(Ft,{side:"right",align:"center",hidden:h!=="collapsed"||u,...n})]})):p});pa.displayName="SidebarMenuButton";const Rh=l.forwardRef(({className:e,asChild:t=!1,showOnHover:r=!1,...a},n)=>{const o=t?pt:"button";return s.jsx(o,{ref:n,"data-sidebar":"menu-action",className:N("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",e),...a})});Rh.displayName="SidebarMenuAction";const Th=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:N("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",e),...t}));Th.displayName="SidebarMenuBadge";const Ah=l.forwardRef(({className:e,showIcon:t=!1,...r},a)=>{const n=l.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return s.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:N("flex h-8 items-center gap-2 rounded-md px-2",e),...r,children:[t&&s.jsx(Ga,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),s.jsx(Ga,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})});Ah.displayName="SidebarMenuSkeleton";const Ei=l.forwardRef(({className:e,...t},r)=>s.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:N("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t}));Ei.displayName="SidebarMenuSub";const Ci=l.forwardRef(({...e},t)=>s.jsx("li",{ref:t,...e}));Ci.displayName="SidebarMenuSubItem";const Ri=l.forwardRef(({asChild:e=!1,size:t="md",isActive:r,className:a,...n},o)=>{const i=e?pt:"a";return s.jsx(i,{ref:o,"data-sidebar":"menu-sub-button","data-size":t,"data-active":r,className:N("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",a),...n})});Ri.displayName="SidebarMenuSubButton";function Ih(e,t){const[r,a]=l.useState(t);return l.useEffect(()=>{if(!(e!=null&&e.members))return;const n=t.map(o=>o.title==="Rings"&&e.members?{...o,items:Ic(e.members)}:o);a(n)},[e==null?void 0:e.members,t]),r}const Js=[{title:"Cluster",url:"/nodes",icon:s.jsx(Zl,{className:"h-4 w-4"}),items:[{title:"Nodes",url:"/nodes"},{title:"Rollouts & Versions",url:"/versions"}]},{title:"Rings",url:"/rings",icon:s.jsx(Bn,{className:"h-4 w-4"}),items:[]},{title:"Storage",url:"/storage",icon:s.jsx(Yl,{className:"h-4 w-4"}),items:[{title:"Object Storage",url:"/storage/object"},{title:"Data Objects",url:"/storage/dataobj"}]},{title:"Tenants",url:"/tenants",icon:s.jsx(Xl,{className:"h-4 w-4"}),items:[{title:"Limits",url:"/tenants/limits"},{title:"Labels",url:"/tenants/labels"}]},{title:"Rules",url:"/rules",icon:s.jsx(Jl,{className:"h-4 w-4"}),items:[]}];function Fh(e){return s.jsx(wi,{...e,className:N("after:bg-border/40 hover:after:bg-border","hover:bg-muted/50",e.className)})}const qa="loki-sidebar-open-sections",_h=l.memo(function({item:t,isOpen:r,isActive:a,onToggle:n}){return s.jsxs(ua,{children:[s.jsx(pa,{asChild:!0,isActive:a(t.url),onClick:()=>n(t.title),children:s.jsxs("div",{className:"flex items-center justify-between font-medium",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[t.icon,t.title]}),t.items&&t.items.length>0&&s.jsx(ks,{className:N("h-4 w-4 transition-transform duration-200",r?"rotate-0":"-rotate-90")})]})}),t.items&&t.items.length>0&&r&&s.jsx(Ei,{children:t.items.map(o=>s.jsx(Ci,{children:s.jsx(Ri,{asChild:!0,isActive:a(o.url),children:s.jsx(Re,{to:`${o.url}`,children:o.title})})},o.title))})]})});function Ph({...e}){const t=hi(),r=On(),{cluster:a}=Qe(),n=r.pathname.replace(t,"/"),[o,i]=l.useState(()=>{const h=localStorage.getItem(qa);if(h)try{return JSON.parse(h)}catch{return Js.reduce((p,b)=>({...p,[b.title]:!0}),{})}return Js.reduce((p,b)=>({...p,[b.title]:!0}),{})}),c=Ih(a,Js),d=l.useCallback(h=>h==="/"?n==="/":n.startsWith(h),[n]),u=l.useCallback(h=>{i(p=>{const b={...p,[h]:!p[h]};return localStorage.setItem(qa,JSON.stringify(b)),b})},[]);return s.jsxs(yi,{...e,children:[s.jsx(Ni,{className:"py-4",children:s.jsx(jr,{children:s.jsx(ua,{children:s.jsx(pa,{size:"lg",asChild:!0,children:s.jsxs("div",{className:"flex items-center gap-3 px-6 py-4",children:[s.jsx("img",{src:"https://grafana.com/media/docs/loki/logo-grafana-loki.png",alt:"Loki Logo",className:"h-7 w-7"}),s.jsxs("div",{className:"flex flex-col gap-0.5",children:[s.jsx("span",{className:"text-sm font-semibold leading-none",children:"Grafana Loki"}),s.jsx(lh,{})]})]})})})})}),s.jsx(ss,{className:"flex-1",children:s.jsx(ki,{children:s.jsx(Si,{children:s.jsx(jr,{children:c.map(h=>s.jsx(l.Fragment,{children:s.jsx(_h,{item:h,isOpen:o[h.title],isActive:d,onToggle:u})},h.title))})})})}),s.jsx(Fh,{})]})}function Oh(){const[e,t]=l.useState(!1);l.useEffect(()=>{const a=()=>{t(window.scrollY>300)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const r=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e?s.jsx(J,{onClick:r,size:"icon",className:"fixed bottom-8 right-8 rounded-full shadow-lg transition-all duration-300","aria-label":"Back to top",children:s.jsx(sr,{className:"h-4 w-4"})}):null}var fa="ToastProvider",[ha,Lh,Dh]=El("Toast"),[Ti,vm]=Er("Toast",[Dh]),[Mh,zs]=Ti(fa),Ai=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:n="right",swipeThreshold:o=50,children:i}=e,[c,d]=l.useState(null),[u,h]=l.useState(0),p=l.useRef(!1),b=l.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${fa}\`. Expected non-empty \`string\`.`),s.jsx(ha.Provider,{scope:t,children:s.jsx(Mh,{scope:t,label:r,duration:a,swipeDirection:n,swipeThreshold:o,toastCount:u,viewport:c,onViewportChange:d,onToastAdd:l.useCallback(()=>h(j=>j+1),[]),onToastRemove:l.useCallback(()=>h(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:b,children:i})})};Ai.displayName=fa;var Ii="ToastViewport",$h=["F8"],Nr="toast.viewportPause",kr="toast.viewportResume",Fi=l.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=$h,label:n="Notifications ({hotkey})",...o}=e,i=zs(Ii,r),c=Lh(r),d=l.useRef(null),u=l.useRef(null),h=l.useRef(null),p=l.useRef(null),b=Cr(t,p,i.onViewportChange),j=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=i.toastCount>0;l.useEffect(()=>{const m=v=>{var w;a.length!==0&&a.every(E=>v[E]||v.code===E)&&((w=p.current)==null||w.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[a]),l.useEffect(()=>{const m=d.current,v=p.current;if(g&&m&&v){const y=()=>{if(!i.isClosePausedRef.current){const R=new CustomEvent(Nr);v.dispatchEvent(R),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const R=new CustomEvent(kr);v.dispatchEvent(R),i.isClosePausedRef.current=!1}},E=R=>{!m.contains(R.relatedTarget)&&w()},C=()=>{m.contains(document.activeElement)||w()};return m.addEventListener("focusin",y),m.addEventListener("focusout",E),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",E),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,i.isClosePausedRef]);const f=l.useCallback(({tabbingDirection:m})=>{const y=c().map(w=>{const E=w.ref.current,C=[E,...Xh(E)];return m==="forwards"?C:C.reverse()});return(m==="forwards"?y.reverse():y).flat()},[c]);return l.useEffect(()=>{const m=p.current;if(m){const v=y=>{var C,R,T;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const O=document.activeElement,L=y.shiftKey;if(y.target===m&&L){(C=u.current)==null||C.focus();return}const G=f({tabbingDirection:L?"backwards":"forwards"}),ue=G.findIndex(I=>I===O);er(G.slice(ue+1))?y.preventDefault():L?(R=u.current)==null||R.focus():(T=h.current)==null||T.focus()}};return m.addEventListener("keydown",v),()=>m.removeEventListener("keydown",v)}},[c,f]),s.jsxs(Cl,{ref:d,role:"region","aria-label":n.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&s.jsx(Sr,{ref:u,onFocusFromOutsideViewport:()=>{const m=f({tabbingDirection:"forwards"});er(m)}}),s.jsx(ha.Slot,{scope:r,children:s.jsx(ae.ol,{tabIndex:-1,...o,ref:b})}),g&&s.jsx(Sr,{ref:h,onFocusFromOutsideViewport:()=>{const m=f({tabbingDirection:"backwards"});er(m)}})]})});Fi.displayName=Ii;var _i="ToastFocusProxy",Sr=l.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...n}=e,o=zs(_i,r);return s.jsx(_n,{"aria-hidden":!0,tabIndex:0,...n,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const c=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(c))&&a()}})});Sr.displayName=_i;var Us="Toast",Bh="toast.swipeStart",zh="toast.swipeMove",Uh="toast.swipeCancel",Vh="toast.swipeEnd",Pi=l.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:n,onOpenChange:o,...i}=e,[c=!0,d]=sn({prop:a,defaultProp:n,onChange:o});return s.jsx(rn,{present:r||c,children:s.jsx(Hh,{open:c,...i,ref:t,onClose:()=>d(!1),onPause:fs(e.onPause),onResume:fs(e.onResume),onSwipeStart:we(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:we(e.onSwipeMove,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:we(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:we(e.onSwipeEnd,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});Pi.displayName=Us;var[Gh,qh]=Ti(Us,{onClose(){}}),Hh=l.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:n,open:o,onClose:i,onEscapeKeyDown:c,onPause:d,onResume:u,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:b,onSwipeEnd:j,...g}=e,f=zs(Us,r),[m,v]=l.useState(null),y=Cr(t,I=>v(I)),w=l.useRef(null),E=l.useRef(null),C=n||f.duration,R=l.useRef(0),T=l.useRef(C),O=l.useRef(0),{onToastAdd:L,onToastRemove:X}=f,K=fs(()=>{var q;(m==null?void 0:m.contains(document.activeElement))&&((q=f.viewport)==null||q.focus()),i()}),G=l.useCallback(I=>{!I||I===1/0||(window.clearTimeout(O.current),R.current=new Date().getTime(),O.current=window.setTimeout(K,I))},[K]);l.useEffect(()=>{const I=f.viewport;if(I){const q=()=>{G(T.current),u==null||u()},ee=()=>{const se=new Date().getTime()-R.current;T.current=T.current-se,window.clearTimeout(O.current),d==null||d()};return I.addEventListener(Nr,ee),I.addEventListener(kr,q),()=>{I.removeEventListener(Nr,ee),I.removeEventListener(kr,q)}}},[f.viewport,C,d,u,G]),l.useEffect(()=>{o&&!f.isClosePausedRef.current&&G(C)},[o,C,f.isClosePausedRef,G]),l.useEffect(()=>(L(),()=>X()),[L,X]);const ue=l.useMemo(()=>m?zi(m):null,[m]);return f.viewport?s.jsxs(s.Fragment,{children:[ue&&s.jsx(Kh,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:ue}),s.jsx(Gh,{scope:r,onClose:K,children:Pn.createPortal(s.jsx(ha.ItemSlot,{scope:r,children:s.jsx(Rl,{asChild:!0,onEscapeKeyDown:we(c,()=>{f.isFocusedToastEscapeKeyDownRef.current||K(),f.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(ae.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":f.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:we(e.onKeyDown,I=>{I.key==="Escape"&&(c==null||c(I.nativeEvent),I.nativeEvent.defaultPrevented||(f.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:we(e.onPointerDown,I=>{I.button===0&&(w.current={x:I.clientX,y:I.clientY})}),onPointerMove:we(e.onPointerMove,I=>{if(!w.current)return;const q=I.clientX-w.current.x,ee=I.clientY-w.current.y,se=!!E.current,_=["left","right"].includes(f.swipeDirection),P=["left","up"].includes(f.swipeDirection)?Math.min:Math.max,M=_?P(0,q):0,H=_?0:P(0,ee),S=I.pointerType==="touch"?10:2,F={x:M,y:H},z={originalEvent:I,delta:F};se?(E.current=F,ls(zh,p,z,{discrete:!1})):Ha(F,f.swipeDirection,S)?(E.current=F,ls(Bh,h,z,{discrete:!1}),I.target.setPointerCapture(I.pointerId)):(Math.abs(q)>S||Math.abs(ee)>S)&&(w.current=null)}),onPointerUp:we(e.onPointerUp,I=>{const q=E.current,ee=I.target;if(ee.hasPointerCapture(I.pointerId)&&ee.releasePointerCapture(I.pointerId),E.current=null,w.current=null,q){const se=I.currentTarget,_={originalEvent:I,delta:q};Ha(q,f.swipeDirection,f.swipeThreshold)?ls(Vh,j,_,{discrete:!0}):ls(Uh,b,_,{discrete:!0}),se.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),f.viewport)})]}):null}),Kh=e=>{const{__scopeToast:t,children:r,...a}=e,n=zs(Us,t),[o,i]=l.useState(!1),[c,d]=l.useState(!1);return Zh(()=>i(!0)),l.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),c?null:s.jsx(Tl,{asChild:!0,children:s.jsx(_n,{...a,children:o&&s.jsxs(s.Fragment,{children:[n.label," ",r]})})})},Qh="ToastTitle",Oi=l.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return s.jsx(ae.div,{...a,ref:t})});Oi.displayName=Qh;var Wh="ToastDescription",Li=l.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return s.jsx(ae.div,{...a,ref:t})});Li.displayName=Wh;var Di="ToastAction",Mi=l.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?s.jsx(Bi,{altText:r,asChild:!0,children:s.jsx(ma,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Di}\`. Expected non-empty \`string\`.`),null)});Mi.displayName=Di;var $i="ToastClose",ma=l.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,n=qh($i,r);return s.jsx(Bi,{asChild:!0,children:s.jsx(ae.button,{type:"button",...a,ref:t,onClick:we(e.onClick,n.onClose)})})});ma.displayName=$i;var Bi=l.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...n}=e;return s.jsx(ae.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:t})});function zi(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),Yh(a)){const n=a.ariaHidden||a.hidden||a.style.display==="none",o=a.dataset.radixToastAnnounceExclude==="";if(!n)if(o){const i=a.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...zi(a))}}),t}function ls(e,t,r,{discrete:a}){const n=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&n.addEventListener(e,t,{once:!0}),a?Il(n,o):n.dispatchEvent(o)}var Ha=(e,t,r=0)=>{const a=Math.abs(e.x),n=Math.abs(e.y),o=a>n;return t==="left"||t==="right"?o&&a>r:!o&&n>r};function Zh(e=()=>{}){const t=fs(e);Al(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function Yh(e){return e.nodeType===e.ELEMENT_NODE}function Xh(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const n=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||n?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function er(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var Jh=Ai,Ui=Fi,Vi=Pi,Gi=Oi,qi=Li,Hi=Mi,Ki=ma;const em=Jh,Qi=l.forwardRef(({className:e,...t},r)=>s.jsx(Ui,{ref:r,className:N("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Qi.displayName=Ui.displayName;const tm=ft("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Wi=l.forwardRef(({className:e,variant:t,...r},a)=>s.jsx(Vi,{ref:a,className:N(tm({variant:t}),e),...r}));Wi.displayName=Vi.displayName;const sm=l.forwardRef(({className:e,...t},r)=>s.jsx(Hi,{ref:r,className:N("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));sm.displayName=Hi.displayName;const Zi=l.forwardRef(({className:e,...t},r)=>s.jsx(Ki,{ref:r,className:N("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(Fr,{className:"h-4 w-4"})}));Zi.displayName=Ki.displayName;const Yi=l.forwardRef(({className:e,...t},r)=>s.jsx(Gi,{ref:r,className:N("text-sm font-semibold [&+div]:text-xs",e),...t}));Yi.displayName=Gi.displayName;const Xi=l.forwardRef(({className:e,...t},r)=>s.jsx(qi,{ref:r,className:N("text-sm opacity-90",e),...t}));Xi.displayName=qi.displayName;function rm(){const{toasts:e}=Zr();return s.jsxs(em,{children:[e.map(function({id:t,title:r,description:a,action:n,...o}){return s.jsxs(Wi,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[r&&s.jsx(Yi,{children:r}),a&&s.jsx(Xi,{children:a})]}),n,s.jsx(Zi,{})]},t)}),s.jsx(Qi,{})]})}function am({children:e}){return s.jsx("div",{className:"flex min-h-screen",children:s.jsxs(bi,{children:[s.jsx(Ph,{}),s.jsxs(ji,{children:[s.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[s.jsx(vi,{}),s.jsx(da,{orientation:"vertical",className:"mr-2 h-4"}),s.jsx(oh,{}),s.jsx("div",{className:"ml-auto px-4",children:s.jsx(cc,{})})]}),s.jsx("main",{className:"flex flex-1 flex-col",children:e}),s.jsx(rm,{}),s.jsx(Oh,{})]})]})})}var nm=function(){return null};const om=new Au({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:!1,staleTime:5*60*1e3}}});function im({children:e}){return s.jsxs(Ou,{client:om,children:[e,s.jsx(nm,{initialIsOpen:!1})]})}function lm({children:e}){const[t,r]=l.useState(null),[a,n]=l.useState(null),[o,i]=l.useState(!0),c=l.useRef(!1),d=l.useCallback(async()=>{if(!c.current){c.current=!0,i(!0);try{const h=await fetch("/ui/api/v1/cluster/nodes");if(!h.ok)throw new Error(`Failed to fetch cluster data: ${h.statusText}`);const p=await h.json();r(p),n(null)}catch(h){n(h instanceof Error?h.message:"An unknown error occurred")}finally{i(!1),c.current=!1}}},[]),u=l.useCallback(async()=>{await d()},[d]);return l.useEffect(()=>{d()},[d]),s.jsx(eo.Provider,{value:{cluster:t,error:a,isLoading:o,refresh:u},children:e})}function cm(){return s.jsx(im,{children:s.jsx(ic,{defaultTheme:"dark",storageKey:"loki-ui-theme",children:s.jsx(lm,{children:s.jsx(am,{children:s.jsx(Fl,{children:fi.map(e=>s.jsx(_l,{path:e.path,element:e.element},e.path))})})})})})}const dm=hi(),um=Pl([{path:"*",element:s.jsx(cm,{})}],{basename:dm,future:{v7_relativeSplatPath:!0}}),Ji=document.getElementById("root");if(!Ji)throw new Error("Root element not found");qn(Ji).render(s.jsx(l.StrictMode,{children:s.jsx(Ol,{router:um,future:{v7_startTransition:!0}})}));
